!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,e,r){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=519)}([function(t,e,r){"use strict";var n=r(8),i=r(487),o=r(42),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=i.toSubscriber(t,e,r);if(n?n.call(o,this):o.add(this._subscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype.forEach=function(t,e){var r=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var i=r.subscribe(function(e){if(i)try{t(e)}catch(r){n(r),i.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(69),o=r(4),s=r(214),u=r(43),c=function(t){function e(r,n,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!r){this.destination=s.empty;break}if("object"==typeof r){r instanceof e?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new a(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new a(this,r,n,i)}}return n(e,t),e.prototype[u.$$rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(o.Subscription);e.Subscriber=c;var a=function(t){function e(e,r,n,o){t.call(this),this._parent=e;var s,u=this;i.isFunction(r)?s=r:r&&(u=r,s=r.next,n=r.error,o=r.complete,i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this)),this._context=u,this._next=s,this._error=n,this._complete=o}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){throw this.unsubscribe(),r}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(n){return t.syncErrorValue=n,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(c)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o},function(t,e,r){"use strict";function n(t,e,r,n){var f=new a.InnerSubscriber(t,r,n);if(f.closed)return null;if(e instanceof u.Observable)return e._isScalar?(f.next(e.value),f.complete(),null):e.subscribe(f);if(o.isArray(e)){for(var h=0,p=e.length;h<p&&!f.closed;h++)f.next(e[h]);f.closed||f.complete()}else{if(s.isPromise(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),f;if("function"==typeof e[c.$$iterator])for(var d=e[c.$$iterator]();;){var b=d.next();if(b.done){f.complete();break}if(f.next(b.value),f.closed)break}else if("function"==typeof e[l.$$observable]){var v=e[l.$$observable]();if("function"==typeof v.subscribe)return v.subscribe(new a.InnerSubscriber(t,r,n));f.error(new Error("invalid observable"))}else f.error(new TypeError("unknown type returned"))}return null}var i=r(8),o=r(12),s=r(115),u=r(0),c=r(35),a=r(213),l=r(42);e.subscribeToResult=n},function(t,e,r){"use strict";var n=r(12),i=r(485),o=r(69),s=r(10),u=r(7),c=r(113),a=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var r=this,a=r._unsubscribe,l=r._subscriptions;if(this._subscriptions=null,o.isFunction(a)){var f=s.tryCatch(a).call(this);f===u.errorObject&&(e=!0,(t=t||[]).push(u.errorObject.e))}if(n.isArray(l))for(var h=-1,p=l.length;++h<p;){var d=l[h];if(i.isObject(d)){var f=s.tryCatch(d.unsubscribe).call(d);if(f===u.errorObject){e=!0,t=t||[];var b=u.errorObject.e;b instanceof c.UnsubscriptionError?t=t.concat(b.errors):t.push(b)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)break;this.closed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return r},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=a},function(t,e,r){"use strict";var n=r(6);e.Subject=n.Subject;var i=r(0);e.Observable=i.Observable,r(217),r(218),r(219),r(220),r(221),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(232),r(233),r(238),r(234),r(235),r(236),r(237),r(239),r(242),r(240),r(241),r(243),r(222),r(223),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(259),r(265),r(260),r(261),r(262),r(263),r(264),r(266),r(267),r(268),r(269),r(270),r(273),r(274),r(275),r(271),r(276),r(277),r(278),r(279),r(280),r(281),r(282),r(283),r(244),r(245),r(284),r(285),r(272),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(294),r(295),r(296),r(297),r(298),r(299),r(300),r(301),r(302),r(303),r(305),r(304),r(306),r(307),r(308),r(309),r(310),r(311),r(312),r(313),r(314),r(315),r(316),r(317),r(318),r(319),r(320),r(321),r(322),r(323),r(324),r(325),r(326),r(327),r(328),r(329),r(330),r(331),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343);var o=r(4);e.Subscription=o.Subscription;var s=r(1);e.Subscriber=s.Subscriber;var u=r(39);e.AsyncSubject=u.AsyncSubject;var c=r(40);e.ReplaySubject=c.ReplaySubject;var a=r(91);e.BehaviorSubject=a.BehaviorSubject;var l=r(93);e.MulticastObservable=l.MulticastObservable;var f=r(61);e.ConnectableObservable=f.ConnectableObservable;var h=r(32);e.Notification=h.Notification;var p=r(45);e.EmptyError=p.EmptyError;var d=r(44);e.ArgumentOutOfRangeError=d.ArgumentOutOfRangeError;var b=r(68);e.ObjectUnsubscribedError=b.ObjectUnsubscribedError;var v=r(113);e.UnsubscriptionError=v.UnsubscriptionError;var y=r(106);e.TimeInterval=y.TimeInterval;var m=r(107);e.Timestamp=m.Timestamp;var _=r(478);e.TestScheduler=_.TestScheduler;var g=r(108);e.VirtualTimeScheduler=g.VirtualTimeScheduler;var w=r(95);e.AjaxResponse=w.AjaxResponse,e.AjaxError=w.AjaxError,e.AjaxTimeoutError=w.AjaxTimeoutError;var x=r(109),O=r(9),S=r(110),E=r(475),j=r(43),T=r(35),A=r(42),k={asap:x.asap,queue:S.queue,animationFrame:E.animationFrame,async:O.async};e.Scheduler=k;var P={rxSubscriber:j.$$rxSubscriber,observable:A.$$observable,iterator:T.$$iterator};e.Symbol=P},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(1),s=r(4),u=r(68),c=r(216),a=r(43),l=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var f=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[a.$$rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._subscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.Observable);e.Subject=f;var h=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):s.Subscription.EMPTY},e}(f);e.AnonymousSubject=h},function(t,e){"use strict";e.errorObject={e:{}}},function(t,e,r){"use strict";(function(t,r){var n={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};e.root=n[typeof self]&&self||n[typeof window]&&window;var i=(n[typeof e]&&e&&!e.nodeType&&e,n[typeof t]&&t&&!t.nodeType&&t,n[typeof r]&&r);!i||i.global!==i&&i.window!==i||(e.root=i)}).call(e,r(130)(t),r(27))},function(t,e,r){"use strict";var n=r(33),i=r(34);e.async=new i.AsyncScheduler(n.AsyncAction)},function(t,e,r){"use strict";function n(){try{return o.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function i(t){return o=t,n}var o,s=r(7);e.tryCatch=i},function(t,e,r){"use strict";function n(t,r,n){void 0===n&&(n=!0),e.data.nest++,n?console.group(t):console.groupCollapsed(t);try{r()}catch(i){console.error("Error Runing Test:",i),e.data.error++}console.groupEnd(),e.data.nest--,0===e.data.nest&&console.log("%cReport: %d run; %d passed; %d failed; %d errors",e.data.run===e.data.passed?"color: green":"color: red",e.data.run,e.data.passed,e.data.failed,e.data.error)}function i(t){return{toBe:function(e){return u(e,t)},toEqual:function(e){return c(e,t)},toMarble:function(e){return a(e,t)},toBeStreamOf:function(e){return l(e,t)},not:{toBe:function(e){return u(e,t,!0)},toEqual:function(e){return c(e,t,!0)},toMarble:function(e){return a(e,t,!0)},toBeStreamOf:function(e){return l(e,t,!0)}}}}function o(t,r,n){n?(console.error(t,"color: red",r),e.data.failed++):(console.info(t,"color: green",r),e.data.passed++)}function s(t,r,n,i){i?(console.error(t,"color: red",r,n),e.data.failed++):(console.info(t,"color: green",r,n),e.data.passed++)}function u(t,r,n){void 0===n&&(n=!1),e.data.run++;try{t===r?o('%cactual is equal to expected "%o"',t,n):s('%c%o is NOT equal to expected "%o"',r,t,!n)}catch(i){console.error("Error:",i),e.data.error++}}function c(t,r,n){void 0===n&&(n=!1),e.data.run++;try{JSON.stringify(t)===JSON.stringify(r)?o('%cactual is equal to expected "%o"',r,n):s('%c%o is NOT equal to expected "%o"',r,t,!n)}catch(i){console.error("Error:",i),e.data.error++}}function a(t,r,n){void 0===n&&(n=!1),e.data.run++,f(r).subscribe(function(e){t===e?o("%cstream has expected marble diagram %o",t,n):s("%cstream marble diagram %o is NOT the expected %o",e,t,!n)},function(t){console.error("Error:",t),e.data.error++})}function l(t,r,n){if(void 0===n&&(n=!1),!r)throw"stream is not defined";if("function"!=typeof r.subscribe)throw typeof r;r.subscribe(function(r){e.data.run++,JSON.stringify(t)===JSON.stringify(r)?o("%cstream contains expected value %o",t,n):s("%cstream contained %o, NOT the expected value %o",r,t,!n)},function(t){e.data.run++,console.error("Error:",t),e.data.error++})}function f(t){if(!t)throw"Undefined is not a stream";if("function"!=typeof t.subscribe)throw"is not a stream";return t.defaultIfEmpty("").reduce(function(t,e){return t+"-"+e.toString()}).map(function(t){return"-"+t+"|"})}function h(t){return d.Observable.from(t.replace(/--+/g,"-").replace(/[ |]/g,"").replace(/^[ |-]+/,"").replace(/[ |-]+$/,"").split("-").filter(function(t){return""!==t}).map(function(t){return isNaN(parseInt(t))?t:parseInt(t)}))}function p(t){var e=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return d.Observable.of([])},r=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return d.Observable.empty()},o=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return d.Observable.of({})};return function(){n("component provides model, view and intent, each called once",function(){function e(){return o.model++,d.Observable.of([])}function r(){return o.view++,d.Observable.empty()}function n(){return o.intent++,d.Observable.empty()}var o={model:0,view:0,intent:0};t({},e,r,n),i(o).toEqual({model:1,view:1,intent:1})}),n("intent is function from DOMSource to observable of actions",function(){function n(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=t.select(".foo").events("click");return i(n.map(function(t){return t.target.innerHTML})).toBeStreamOf("123"),d.Observable.empty()}var o=b.mockDOMSource(v["default"],{".foo":{click:d.Observable.of({target:{innerHTML:"123"}})}});t({DOM:o},e,r,n)}),n("model is function from actions$ to observable of models",function(){["first action","second action"].forEach(function(e){function n(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];i(t).toBeStreamOf(e)}var o=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return d.Observable.of(e)};t({},n,r,o)})}),n("view is function from model$ to observable of renderings",function(){[b.div("first"),b.div("second")].forEach(function(e){function r(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];i(t).toBeStreamOf(e)}var n=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return d.Observable.of(e)};t({},n,r,o)})}),n("component returns object with DOM attribute as stream from view",function(){var r=function(t){return d.Observable.of(b.div("testDOM"))};i(t({},e,r,o).DOM).toBeStreamOf(b.div("testDOM"))})}}var d=r(5),b=r(13),v=r(29);e.initTestData={run:0,passed:0,failed:0,error:0,nest:0},e.data=e.initTestData,e.test=n,e.expect=i,e.assertIdentical=u,e.assertEqual=c,e.assertMarble=a,e.assertStreamOf=l,e.str2mbl$=f,e.mbl2str$=h,e.assertMVIComponent=p},function(t,e){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,r){"use strict";var n=r(504);e.thunk=n;var i=r(145);e.makeDOMDriver=i.makeDOMDriver;var o=r(146);e.makeHTMLDriver=o.makeHTMLDriver;var s=r(147);e.mockDOMSource=s.mockDOMSource;var u=r(50);e.h=u.h;var c=r(142);e.svg=c["default"].svg,e.a=c["default"].a,e.abbr=c["default"].abbr,e.address=c["default"].address,e.area=c["default"].area,e.article=c["default"].article,e.aside=c["default"].aside,e.audio=c["default"].audio,e.b=c["default"].b,e.base=c["default"].base,e.bdi=c["default"].bdi,e.bdo=c["default"].bdo,e.blockquote=c["default"].blockquote,e.body=c["default"].body,e.br=c["default"].br,e.button=c["default"].button,e.canvas=c["default"].canvas,e.caption=c["default"].caption,e.cite=c["default"].cite,e.code=c["default"].code,e.col=c["default"].col,e.colgroup=c["default"].colgroup,e.dd=c["default"].dd,e.del=c["default"].del,e.dfn=c["default"].dfn,e.dir=c["default"].dir,e.div=c["default"].div,e.dl=c["default"].dl,e.dt=c["default"].dt,e.em=c["default"].em,e.embed=c["default"].embed,e.fieldset=c["default"].fieldset,e.figcaption=c["default"].figcaption,e.figure=c["default"].figure,e.footer=c["default"].footer,e.form=c["default"].form,e.h1=c["default"].h1,e.h2=c["default"].h2,e.h3=c["default"].h3,e.h4=c["default"].h4,e.h5=c["default"].h5,e.h6=c["default"].h6,e.head=c["default"].head,e.header=c["default"].header,e.hgroup=c["default"].hgroup,e.hr=c["default"].hr,e.html=c["default"].html,e.i=c["default"].i,e.iframe=c["default"].iframe,e.img=c["default"].img,e.input=c["default"].input,e.ins=c["default"].ins,e.kbd=c["default"].kbd,e.keygen=c["default"].keygen,e.label=c["default"].label,e.legend=c["default"].legend,e.li=c["default"].li,e.link=c["default"].link,e.main=c["default"].main,e.map=c["default"].map,e.mark=c["default"].mark,e.menu=c["default"].menu,e.meta=c["default"].meta,e.nav=c["default"].nav,e.noscript=c["default"].noscript,e.object=c["default"].object,e.ol=c["default"].ol,e.optgroup=c["default"].optgroup,e.option=c["default"].option,e.p=c["default"].p,e.param=c["default"].param,e.pre=c["default"].pre,e.progress=c["default"].progress,e.q=c["default"].q,e.rp=c["default"].rp,e.rt=c["default"].rt,e.ruby=c["default"].ruby,e.s=c["default"].s,e.samp=c["default"].samp,e.script=c["default"].script,e.section=c["default"].section,e.select=c["default"].select,e.small=c["default"].small,e.source=c["default"].source,e.span=c["default"].span,e.strong=c["default"].strong,e.style=c["default"].style,e.sub=c["default"].sub,e.sup=c["default"].sup,e.table=c["default"].table,e.tbody=c["default"].tbody,e.td=c["default"].td,e.textarea=c["default"].textarea,e.tfoot=c["default"].tfoot,e.th=c["default"].th,e.thead=c["default"].thead,e.title=c["default"].title,e.tr=c["default"].tr,e.u=c["default"].u,e.ul=c["default"].ul,e.video=c["default"].video},function(t,e){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(62),s=r(16),u=r(17),c=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=t[t.length-1];u.isScheduler(n)?t.pop():n=null;var i=t.length;return i>1?new e(t,n):1===i?new o.ScalarObservable(t[0],n):new s.EmptyObservable(n)},e.dispatch=function(t){var e=t.array,r=t.index,n=t.count,i=t.subscriber;return r>=n?void i.complete():(i.next(e[r]),void(i.closed||(t.index=r+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,n=this.array,i=n.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:n,index:r,count:i,subscriber:t});for(var s=0;s<i&&!t.closed;s++)t.next(n[s]);t.complete()},e}(i.Observable);e.ArrayObservable=c},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=function(t){function e(e){t.call(this),this.scheduler=e}return n(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;return r?r.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(i.Observable);e.EmptyObservable=o},function(t,e){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},function(t,e,r){"use strict";(function(t,n){function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,r){if(o()<r)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r),e.__proto__=t.prototype):(null===e&&(e=new t(r)),e.length=r),e}function t(e,r,n){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,r,n);if("number"==typeof e){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,r,n)}function u(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,r,n):"string"==typeof e?f(t,e,r):d(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e,r,n){return c(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}function l(e,r){if(c(r),e=s(e,r<0?0:0|b(r)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)e[n]=0;return e}function f(e,r,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(r,n);e=s(e,i);var o=e.write(r,n);return o!==i&&(e=e.slice(0,o)),e}function h(t,e){var r=e.length<0?0:0|b(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(e,r,n,i){if(r.byteLength,n<0||r.byteLength<n)throw new RangeError("'offset' is out of bounds");if(r.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return r=void 0===n&&void 0===i?new Uint8Array(r):void 0===i?new Uint8Array(r,n):new Uint8Array(r,n,i),t.TYPED_ARRAY_SUPPORT?(e=r,e.__proto__=t.prototype):e=h(e,r),e}function d(e,r){if(t.isBuffer(r)){var n=0|b(r.length);return e=s(e,n),0===e.length?e:(r.copy(e,0,0,n),e)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||K(r.length)?s(e,0):h(e,r);if("Buffer"===r.type&&Q(r.data))return h(e,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function v(e){return+e!=e&&(e=0),t.alloc(+e)}function y(e,r){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(i)return z(e).length;r=(""+r).toLowerCase(),i=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(e,r,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof r&&(r=t.from(r,i)),t.isBuffer(r))return 0===r.length?-1:w(e,r,n,i,o);if("number"==typeof r)return r=255&r,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,r,n):Uint8Array.prototype.lastIndexOf.call(e,r,n):w(e,[r],n,i,o);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,u=t.length,c=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,u/=2,c/=2,r/=2}var a;if(i){var l=-1;for(a=r;a<u;a++)if(o(t,a)===o(e,l===-1?0:a-l)){if(l===-1&&(l=a),a-l+1===c)return l*s}else l!==-1&&(a-=a-l),l=-1}else for(r+c>u&&(r=u-c),a=r;a>=0;a--){for(var f=!0,h=0;h<c;h++)if(o(t,a+h)!==o(e,h)){f=!1;break}if(f)return a}return-1}function x(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var u=parseInt(e.substr(2*s,2),16);if(isNaN(u))return s;t[r+s]=u}return s}function O(t,e,r,n){return G(z(e,t.length-r),t,r,n)}function S(t,e,r,n){return G(Y(e),t,r,n)}function E(t,e,r,n){return S(t,e,r,n)}function j(t,e,r,n){return G(H(e),t,r,n)}function T(t,e,r,n){return G(X(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],s=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=r){var c,a,l,f;switch(u){case 1:o<128&&(s=o);break;case 2:c=t[i+1],128===(192&c)&&(f=(31&o)<<6|63&c,f>127&&(s=f));break;case 3:c=t[i+1],a=t[i+2],128===(192&c)&&128===(192&a)&&(f=(15&o)<<12|(63&c)<<6|63&a,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=t[i+1],a=t[i+2],l=t[i+3],128===(192&c)&&128===(192&a)&&128===(192&l)&&(f=(15&o)<<18|(63&c)<<12|(63&a)<<6|63&l,f>65535&&f<1114112&&(s=f))}}null===s?(s=65533,u=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=u}return P(n)}function P(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return r}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function M(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=W(t[o]);return i}function R(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,r,n,i,o,s){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>o||r<s)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function B(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function F(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,i){return i||F(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,r,n,23,4),r+4}function V(t,e,r,n,i){return i||F(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,r,n,52,8),r+8}function q(t){if(t=$(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function $(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Y(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function X(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function H(t){return J.toByteArray(q(t))}function G(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function K(t){return t!==t}var J=r(150),Z=r(193),Q=r(83);e.Buffer=t,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,r){return u(null,t,e,r)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,r){return a(null,t,e,r)},t.allocUnsafe=function(t){return l(null,t)},t.allocUnsafeSlow=function(t){return l(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,r){if(!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=t.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){
var s=e[n];if(!t.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},t.byteLength=y,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):m.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,r,n,i,o){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,u=n-r,c=Math.min(s,u),a=this.slice(i,o),l=e.slice(r,n),f=0;f<c;++f)if(a[f]!==l[f]){s=a[f],u=l[f];break}return s<u?-1:u<s?1:0},t.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},t.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},t.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},t.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return x(this,t,e,r);case"utf8":case"utf-8":return O(this,t,e,r);case"ascii":return S(this,t,e,r);case"latin1":case"binary":return E(this,t,e,r);case"base64":return j(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,r){var n=this.length;e=~~e,r=void 0===r?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=t.prototype;else{var o=r-e;i=new t(o,(void 0));for(var s=0;s<o;++s)i[s]=this[s+e]}return i},t.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},t.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||N(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},t.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},t.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||N(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),Z.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),Z.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),Z.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),Z.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e=0|e,r=0|r,!n){var i=Math.pow(2,8*r)-1;L(this,t,e,r,i,0)}var o=1,s=0;for(this[e]=255&t;++s<r&&(o*=256);)this[e+s]=t/o&255;return e+r},t.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e=0|e,r=0|r,!n){var i=Math.pow(2,8*r)-1;L(this,t,e,r,i,0)}var o=r-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+r},t.prototype.writeUInt8=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=255&e,r+1},t.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):B(this,e,r,!0),r+2},t.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):B(this,e,r,!1),r+2},t.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e):D(this,e,r,!0),r+4},t.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):D(this,e,r,!1),r+4},t.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var o=0,s=1,u=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/s>>0)-u&255;return e+r},t.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var o=r-1,s=1,u=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/s>>0)-u&255;return e+r},t.prototype.writeInt8=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=255&e,r+1},t.prototype.writeInt16LE=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):B(this,e,r,!0),r+2},t.prototype.writeInt16BE=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):B(this,e,r,!1),r+2},t.prototype.writeInt32LE=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):D(this,e,r,!0),r+4},t.prototype.writeInt32BE=function(e,r,n){return e=+e,r=0|r,n||L(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):D(this,e,r,!1),r+4},t.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},t.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},t.prototype.writeDoubleLE=function(t,e,r){return V(this,t,e,!0,r)},t.prototype.writeDoubleBE=function(t,e,r){return V(this,t,e,!1,r)},t.prototype.copy=function(e,r,n,i){if(n||(n=0),i||0===i||(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o,s=i-n;if(this===e&&n<r&&r<i)for(o=s-1;o>=0;--o)e[o+r]=this[o+n];else if(s<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),r);return s},t.prototype.fill=function(e,r,n,i){if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=r;s<n;++s)this[s]=e;else{var u=t.isBuffer(e)?e:z(new t(e,i).toString()),c=u.length;for(s=0;s<n-r;++s)this[s+r]=u[s%c]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,r(18).Buffer,r(27))},function(t,e,r){"use strict";var n,i=r(53),o=r(174),s=r(168),u=r(80);n=t.exports=function(t,e){var r,n,s,c,a;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],null==t?(r=s=!0,n=!1):(r=u.call(t,"c"),n=u.call(t,"e"),s=u.call(t,"w")),a={value:e,configurable:r,enumerable:n,writable:s},c?i(o(c),a):a},n.gs=function(t,e,r){var n,c,a,l;return"string"!=typeof t?(a=r,r=e,e=t,t=null):a=arguments[3],null==e?e=void 0:s(e)?null==r?r=void 0:s(r)||(a=r,r=void 0):(a=e,e=r=void 0),null==t?(n=!0,c=!1):(n=u.call(t,"c"),c=u.call(t,"e")),l={get:e,set:r,configurable:n,enumerable:c},a?i(o(a),l):l}},function(t,e){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,r){"use strict";function n(t){return this instanceof n?(a.call(this,t),l.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(t)}function i(){this.allowHalfOpen||this._writableState.ended||u(o,this)}function o(t){t.end()}var s=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=n;var u=r(58),c=r(30);c.inherits=r(24);var a=r(90),l=r(60);c.inherits(n,a);for(var f=s(l.prototype),h=0;h<f.length;h++){var p=f[h];n.prototype[p]||(n.prototype[p]=l.prototype[p])}},function(t,e,r){"use strict";var n=r(517);e.Stream=n.Stream,e.MemoryStream=n.MemoryStream,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n.Stream},function(t,e,r){"use strict";var n=r(22),i={adapt:function(t,e){if(i.isValidStream(t))return t;var r=null;return n["default"].create({start:function(n){var i=n;r=e(t,i)},stop:function(){"function"==typeof r&&r()}})},makeSubject:function(){var t=n["default"].create(),e={next:function(e){t.shamefullySendNext(e)},error:function(e){t.shamefullySendError(e)},complete:function(){t.shamefullySendComplete()}};return{observer:e,stream:t}},remember:function(t){return t.remember()},isValidStream:function(t){return"function"==typeof t.addListener&&"function"==typeof t.shamefullySendNext},streamSubscribe:function(t,e){return t.addListener(e),function(){return t.removeListener(e)}}};Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){function r(t){if(c===setTimeout)return setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function n(t){if(a===clearTimeout)return clearTimeout(t);try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}function i(){p&&f&&(p=!1,f.length?h=f.concat(h):d=-1,h.length&&o())}function o(){if(!p){var t=r(i);p=!0;for(var e=h.length;e;){for(f=h,h=[];++d<e;)f&&f[d].run();d=-1,e=h.length}f=null,p=!1,n(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var c,a,l=t.exports={};!function(){try{c=setTimeout}catch(t){c=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(t){a=function(){throw new Error("clearTimeout is not defined")}}}();var f,h=[],p=!1,d=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new s(t,e)),1!==h.length||p||r(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,r){"use strict";function n(t,e){var r;return r="function"==typeof t?t:function(){return t},e?new i.MulticastObservable(this,r,e):new o.ConnectableObservable(this,r)}var i=r(93),o=r(61);e.multicast=n},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){"use strict";function r(t){return"object"==typeof HTMLElement?t instanceof HTMLElement||t instanceof DocumentFragment:t&&"object"==typeof t&&null!==t&&(1===t.nodeType||11===t.nodeType)&&"string"==typeof t.nodeName}function n(t){var e="string"==typeof t?document.querySelector(t):t;if("string"==typeof t&&null===e)throw new Error("Cannot render into unknown element `"+t+"`");if(!r(e))throw new Error("Given container is not a DOM element neither a selector string.");return e}function i(t){return t.filter(function(t){return t.indexOf(e.SCOPE_PREFIX)>-1}).slice(-1).join("")}function o(t){return t.filter(function(t){return t.indexOf(e.SCOPE_PREFIX)===-1}).join(" ")}e.SCOPE_PREFIX="$$CYCLEDOM$$-",e.getElement=n,e.getScope=i,e.getSelectors=o},function(t,e,r){"use strict";var n=r(5),i={adapt:function(t,e){return this.isValidStream(t)?t:n.Observable.create(function(r){var n=e(t,r);return function(){"function"==typeof n&&n.call(null)}})},remember:function(t){return t.publishReplay(1).refCount()},makeSubject:function(){var t=new n.Subject,e={next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){t.complete()}};return{stream:t,observer:e}},isValidStream:function(t){return"function"==typeof t.subscribe&&"function"!=typeof t.observe&&"function"!=typeof t.subscribeOnNext&&"function"!=typeof t.onValue},streamSubscribe:function(t,e){var r=t.subscribe(e);return function(){r.unsubscribe()}}};Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i},function(t,e,r){(function(t){function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===v(t)}function n(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function u(t){return"string"==typeof t}function c(t){return"symbol"==typeof t}function a(t){return void 0===t}function l(t){return"[object RegExp]"===v(t)}function f(t){return"object"==typeof t&&null!==t}function h(t){return"[object Date]"===v(t)}function p(t){return"[object Error]"===v(t)||t instanceof Error}function d(t){return"function"==typeof t}function b(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function v(t){return Object.prototype.toString.call(t)}e.isArray=r,e.isBoolean=n,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=s,e.isString=u,e.isSymbol=c,e.isUndefined=a,e.isRegExp=l,e.isObject=f,e.isDate=h,e.isError=p,e.isFunction=d,e.isPrimitive=b,e.isBuffer=t.isBuffer}).call(e,r(18).Buffer)},function(t,e,r){"use strict";t.exports=r(188)()?Symbol:r(190)},function(t,e,r){"use strict";var n=r(0),i=function(){function t(t,e,r){this.kind=t,this.value=e,this.exception=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.exception);case"C":return t.complete&&t.complete()}},t.prototype["do"]=function(t,e,r){var n=this.kind;switch(n){case"N":return t&&t(this.value);case"E":return e&&e(this.exception);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this["do"](t,e,r)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return n.Observable.of(this.value);case"E":return n.Observable["throw"](this.exception);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",(void 0),e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",(void 0)),t}();e.Notification=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(8),o=r(468),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),i.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r?e:i.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);return r?r:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(o.Action);e.AsyncAction=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(215),o=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var r;this.active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}},e}(i.Scheduler);e.AsyncScheduler=o},function(t,e,r){"use strict";var n=r(8),i=n.root.Symbol;if("function"==typeof i)i.iterator?e.$$iterator=i.iterator:"function"==typeof i["for"]&&(e.$$iterator=i["for"]("iterator"));else if(n.root.Set&&"function"==typeof(new n.root.Set)["@@iterator"])e.$$iterator="@@iterator";else if(n.root.Map)for(var o=Object.getOwnPropertyNames(n.root.Map.prototype),s=0;s<o.length;++s){var u=o[s];if("entries"!==u&&"size"!==u&&n.root.Map.prototype[u]===n.root.Map.prototype.entries){e.$$iterator=u;break}}else e.$$iterator="@@iterator"},function(t,e,r){(function(t,n){function i(t,e){this._id=t,this._clearFn=e}var o=r(25).nextTick,s=Function.prototype.apply,u=Array.prototype.slice,c={},a=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var r=a++,n=!(arguments.length<2)&&u.call(arguments,1);return c[r]=!0,o(function(){c[r]&&(n?t.apply(null,n):t.call(null),e.clearImmediate(r))}),r},e.clearImmediate="function"==typeof n?n:function(t){delete c[t]}}).call(e,r(36).setImmediate,r(36).clearImmediate)},function(t,e,r){"use strict";t.exports=r(78)()?Object.setPrototypeOf:r(79)},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,u,c,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(r=this._events[t],s(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),r.apply(this,u)}else if(o(r))for(u=Array.prototype.slice.call(arguments,1),a=r.slice(),i=a.length,c=0;c<i;c++)a[c].apply(this,u);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,s,u;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(u=s;u-- >0;)if(r[u]===e||r[u].listener&&r[u].listener===e){i=u;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(4),s=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return n(e,t),e.prototype._subscribe=function(e){return this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject);e.AsyncSubject=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(110),s=r(65),u=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=n,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r}return n(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new c(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(e){var r=this._trimBufferThenGetEvents(),n=this.scheduler;n&&e.add(e=new s.ObserveOnSubscriber(e,n));for(var i=r.length,o=0;o<i&&!e.closed;o++)e.next(r[o].value);return t.prototype._subscribe.call(this,e)},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(i.Subject);e.ReplaySubject=u;var c=function(){function t(t,e){this.time=t,this.value=e}return t}()},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.mergeAll=n;var u=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.concurrent))},t}();e.MergeAllOperator=u;var c=function(t){function e(e,r){t.call(this,e),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=c},function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var i=r(8);e.getSymbolObservable=n,e.$$observable=n(i.root)},function(t,e,r){"use strict";var n=r(8),i=n.root.Symbol;e.$$rxSubscriber="function"==typeof i&&"function"==typeof i["for"]?i["for"]("rxSubscriber"):"@@rxSubscriber"},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ArgumentOutOfRangeError=n},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=n},function(t,e){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},function(t,e){t.exports={array:Array.isArray,primitive:function(t){return"string"==typeof t||"number"==typeof t}}},function(t,e,r){function n(){i.call(this)}t.exports=n;var i=r(38).EventEmitter,o=r(24);o(n,i),n.Readable=r(210),n.Writable=r(212),n.Duplex=r(207),n.Transform=r(211),n.PassThrough=r(209),n.Stream=n,n.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&a.pause&&a.pause()}function n(){a.readable&&a.resume&&a.resume()}function o(){l||(l=!0,t.end())}function s(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(c(),0===i.listenerCount(this,"error"))throw t}function c(){a.removeListener("data",r),t.removeListener("drain",n),a.removeListener("end",o),a.removeListener("close",s),a.removeListener("error",u),t.removeListener("error",u),a.removeListener("end",c),a.removeListener("close",c),t.removeListener("close",c)}var a=this;a.on("data",r),t.on("drain",n),t._isStdio||e&&e.end===!1||(a.on("end",o),a.on("close",s));var l=!1;return a.on("error",u),t.on("error",u),a.on("end",c),a.on("close",c),t.on("close",c),t.emit("pipe",a),t}},function(t,e,r){"use strict";function n(t,e,r,n){void 0===e&&(e=s.model),void 0===r&&(r=o.view),void 0===n&&(n=u.intent);var c=n(t.DOM),a=e(c,t.props$),l=r(a),f=i(c,t.props$);return{DOM:l,Delete:f}}function i(t,e){return t.filter(function(t){return"DELETE"===t.type}).combineLatest(e,function(t,e){return{type:"DELETE",payload:e.id}})}var o=r(126),s=r(124),u=r(123);e.BowlingLine=n},function(t,e,r){"use strict";function n(t){return!Array.isArray(t)&&"function"==typeof t.map}function i(t){return o(t.data,t.children,t.sel),t}function o(t,e,r){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==r&&"undefined"!=typeof e&&u.array(e))for(var s=0;s<e.length;++s)n(e[s])?e[s]=e[s].map(i):o(e[s].data,e[s].children,e[s].sel)}function s(t,e,r){var n,i,s,a={};if(3===arguments.length?(a=e,u.array(r)?n=r:u.primitive(r)&&(i=r)):2===arguments.length&&(u.array(e)?n=e:u.primitive(e)?i=e:a=e),u.array(n))for(n=n.filter(function(t){return t}),s=0;s<n.length;++s)u.primitive(n[s])&&(n[s]=c(void 0,void 0,void 0,n[s]));return"s"===t[0]&&"v"===t[1]&&"g"===t[2]&&o(a,n,t),c(t,a,n,i,void 0)}var u=r(47),c=r(72);e.h=s},function(t,e,r){"use strict";(function(t){var n=r(18),i=n.Buffer,o=n.SlowBuffer,s=n.kMaxLength||2147483647;e.alloc=function(t,e,r){if("function"==typeof i.alloc)return i.alloc(t,e,r);if("number"==typeof r)throw new TypeError("encoding must not be number");
if("number"!=typeof t)throw new TypeError("size must be a number");if(t>s)throw new RangeError("size is too large");var n=r,o=e;void 0===o&&(n=void 0,o=0);var u=new i(t);if("string"==typeof o)for(var c=new i(o,n),a=c.length,l=-1;++l<t;)u[l]=c[l%a];else u.fill(o);return u},e.allocUnsafe=function(t){if("function"==typeof i.allocUnsafe)return i.allocUnsafe(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>s)throw new RangeError("size is too large");return new i(t)},e.from=function(e,r,n){if("function"==typeof i.from&&(!t.Uint8Array||Uint8Array.from!==i.from))return i.from(e,r,n);if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("string"==typeof e)return new i(e,r);if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var o=r;if(1===arguments.length)return new i(e);"undefined"==typeof o&&(o=0);var s=n;if("undefined"==typeof s&&(s=e.byteLength-o),o>=e.byteLength)throw new RangeError("'offset' is out of bounds");if(s>e.byteLength-o)throw new RangeError("'length' is out of bounds");return new i(e.slice(o,o+s))}if(i.isBuffer(e)){var u=new i(e.length);return e.copy(u,0,0,e.length),u}if(e){if(Array.isArray(e)||"undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return new i(e);if("Buffer"===e.type&&Array.isArray(e.data))return new i(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},e.allocUnsafeSlow=function(t){if("function"==typeof i.allocUnsafeSlow)return i.allocUnsafeSlow(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>=s)throw new RangeError("size is too large");return new o(t)}}).call(e,r(27))},function(t,e){"use strict";var r=Object.prototype.toString,n=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===n}},function(t,e,r){"use strict";t.exports=r(163)()?Object.assign:r(164)},function(t,e){"use strict";var r=Object.prototype.toString,n=r.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===n)||!1}},function(t,e,r){"use strict";var n,i=r(77),o=r(53),s=r(20),u=r(14),c=r(19),a=r(155),l=r(31),f=Object.defineProperty,h=Object.defineProperties;t.exports=n=function(t,e){return this instanceof n?(h(this,{__list__:c("w",u(t)),__context__:c("w",e),__nextIndex__:c("w",0)}),void(e&&(s(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear)))):new n(t,e)},h(n.prototype,o({constructor:c(n),_next:c(function(){var t;if(this.__list__)return this.__redo__&&(t=this.__redo__.shift(),void 0!==t)?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:c(function(){return this._createResult(this._next())}),_createResult:c(function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}}),_resolve:c(function(t){return this.__list__[t]}),_unBind:c(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:c(function(){return"[object Iterator]"})},a({_onAdd:c(function(t){if(!(t>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void f(this,"__redo__",c("c",[t]));this.__redo__.forEach(function(e,r){e>=t&&(this.__redo__[r]=++e)},this),this.__redo__.push(t)}}),_onDelete:c(function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(e=this.__redo__.indexOf(t),e!==-1&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,r){e>t&&(this.__redo__[r]=--e)},this)))}),_onClear:c(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),f(n.prototype,l.iterator,c(function(){return this})),f(n.prototype,l.toStringTag,c("","Iterator"))},function(t,e,r){(function(t,r){function n(t){return t&&t.Object===Object?t:null}var i={"function":!0,object:!0},o=i[typeof e]&&e&&!e.nodeType?e:void 0,s=i[typeof t]&&t&&!t.nodeType?t:void 0,u=n(o&&s&&"object"==typeof r&&r),c=n(i[typeof self]&&self),a=n(i[typeof window]&&window),l=n(i[typeof this]&&this),f=u||a!==(l&&l.window)&&a||c||l||Function("return this")();t.exports=f}).call(e,r(130)(t),r(27))},function(t,e){"use strict";function r(t,e){if(i)return i.call(t,e);for(var r=t.parentNode.querySelectorAll(e),n=0;n<r.length;n++)if(r[n]==t)return!0;return!1}var n=Element.prototype,i=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;t.exports=r},function(t,e,r){"use strict";(function(e){function r(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,u=arguments.length;switch(u){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(u-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=r:t.exports=e.nextTick}).call(e,r(25))},function(t,e,r){"use strict";function n(t){this.afterTransform=function(e,r){return i(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&t.push(r),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);u.call(this,t),this._transformState=new n(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){s(e,t)}):s(e)})}function s(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=o;var u=r(21),c=r(30);c.inherits=r(24),c.inherits(o,u),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("Not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,r){"use strict";(function(e,n){function i(){}function o(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function s(t,e){I=I||r(21),t=t||{},this.objectMode=!!t.objectMode,e instanceof I&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){b(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new O(this)}function u(t){return I=I||r(21),this instanceof u||this instanceof I?(this._writableState=new s(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),void T.call(this)):new u(t)}function c(t,e){var r=new Error("write after end");t.emit("error",r),S(e,r)}function a(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):k.isBuffer(r)||"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),S(n,o),i=!1),i}function l(t,e,r){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=P.from(e,r)),e}function f(t,e,r,n,i){r=l(e,r,n),k.isBuffer(r)&&(n="buffer");var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest=new o(r,n,i),c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else h(t,e,!1,s,r,n,i);return u}function h(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function p(t,e,r,n,i){--e.pendingcb,r?S(i,n):i(n),t._writableState.errorEmitted=!0,t.emit("error",n)}function d(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function b(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(d(r),e)p(t,r,n,e,i);else{var o=_(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||m(t,r),n?E(v,t,r,o,i):v(t,r,o,i)}}function v(t,e,r,n){r||y(t,e),e.pendingcb--,n(),w(t,e)}function y(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function m(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0;r;)i[s]=r,r=r.next,s+=1;h(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new O(e)}else{for(;r;){var u=r.chunk,c=r.encoding,a=r.callback,l=e.objectMode?1:u.length;if(h(t,e,!1,l,u,c,a),r=r.next,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function g(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function w(t,e){var r=_(e);return r&&(0===e.pendingcb?(g(t,e),e.finished=!0,t.emit("finish")):g(t,e)),r}function x(t,e,r){e.ending=!0,w(t,e),r&&(e.finished?S(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function O(t){var e=this;this.next=null,this.entry=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}t.exports=u;var S=r(58),E=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:S;u.WritableState=s;var j=r(30);j.inherits=r(24);var T,A={deprecate:r(516)};!function(){try{T=r(48)}catch(t){}finally{T||(T=r(38).EventEmitter)}}();var k=r(18).Buffer,P=r(51);j.inherits(u,T);var I;s.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(s.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}();var I;u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},u.prototype.write=function(t,e,r){var n=this._writableState,o=!1;return"function"==typeof e&&(r=e,e=null),k.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=i),n.ended?c(this,r):a(this,n,t,r)&&(n.pendingcb++,o=f(this,n,t,e,r)),o},u.prototype.cork=function(){var t=this._writableState;t.corked++},u.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||m(this,t))},u.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},u.prototype._write=function(t,e,r){r(new Error("not implemented"))},u.prototype._writev=null,u.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||x(this,n,r)}}).call(e,r(25),r(36).setImmediate)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(0),s=r(1),u=r(4),c=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r,this._refCount=0}return n(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new u.Subscription,t.add(this.source.subscribe(new a(this.getSubject(),this))),t.closed?(this._connection=null,t=u.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new l(this))},e}(o.Observable);e.ConnectableObservable=c;var a=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new f(t,r),i=e._subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),f=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()},e}(s.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,n=t.subscriber;return e?void n.complete():(n.next(r),void(n.closed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var r=this.value,n=this.scheduler;return n?n.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t}):(t.next(r),void(t.closed||t.complete()))},e}(i.Observable);e.ScalarObservable=o},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),t.unshift(this),new o.ArrayObservable(t).lift(new l(r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(15),s=r(12),u=r(2),c=r(3),a={};e.combineLatest=n;var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new f(t,this.project))},t}();e.CombineLatestOperator=l;var f=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[]}return i(e,t),e.prototype._next=function(t){this.values.push(a),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(c.subscribeToResult(this,n,n,r))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.values,s=o[r],u=this.toRespond?s===a?--this.toRespond:this.toRespond:0;o[r]=e,0===u&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(u.OuterSubscriber);e.CombineLatestSubscriber=f},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.apply(void 0,[this].concat(t))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,n=t;return o.isScheduler(n[t.length-1])&&(r=n.pop()),new s.ArrayObservable(t,r).lift(new u.MergeAllOperator(1))}var o=r(17),s=r(15),u=r(41);e.concat=n,e.concatStatic=i},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(32);e.observeOn=n;var u=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=u;var c=function(t){function e(e,r,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=r,this.delay=n}return i(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r)},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=c;var a=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=a},function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.reduce=n;var s=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.accumulator,this.seed))},t}();e.ReduceOperator=s;var u=function(t){function e(e,r,n){t.call(this,e),this.accumulator=r,this.hasValue=!1,this.acc=n,this.accumulator=r,this.hasSeed="undefined"!=typeof n}return i(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t)}catch(r){return void this.destination.error(r)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);e.ReduceSubscriber=u},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),i.apply(this,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new s.ArrayObservable(t).lift(new h(r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(15),u=r(12),c=r(1),a=r(2),l=r(3),f=r(35);e.zipProto=n,e.zipStatic=i;var h=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new p(t,this.project))},t}();e.ZipOperator=h;var p=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null)),t.call(this,e),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return o(e,t),e.prototype._next=function(t){var e=this.iterators,r=this.index++;u.isArray(t)?e.push(new b(t)):"function"==typeof t[f.$$iterator]?e.push(new d(t[f.$$iterator]())):e.push(new v(this.destination,this,t,r))},e.prototype._complete=function(){var t=this.iterators,e=t.length;this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++){var i=t[n];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,s=[],n=0;n<e;n++){var i=t[n],u=i.next();if(i.hasCompleted()&&(o=!0),u.done)return void r.complete();s.push(u.value)}this.project?this._tryProject(s):r.next(s),o&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(c.Subscriber);e.ZipSubscriber=p;var d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),b=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[f.$$iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,r,n,i){t.call(this,e),this.parent=r,this.observable=n,this.index=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(e,t),e.prototype[f.$$iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return l.subscribeToResult(this,this.observable,this,e)},e}(a.OuterSubscriber)},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=n},function(t,e){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},function(t,e,r){"use strict";function n(t){return!i.isArray(t)&&t-parseFloat(t)+1>=0}var i=r(12);e.isNumeric=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=void 0,r="",n=[],i=(0,s["default"])(t,u);(c.test(i[1])||""===t)&&(e="div");var o=void 0,a=void 0,l=void 0;for(l=0;l<i.length;l++)o=i[l],o&&(a=o.charAt(0),e?"."===a?n.push(o.substring(1,o.length)):"#"===a&&(r=o.substring(1,o.length)):e=o);return{tagName:e,id:r,className:n.join(" ")}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=r(76),s=n(o),u=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,c=/^\.|#/},function(t,e){t.exports=function(t,e,r,n,i){var o=void 0===e?void 0:e.key;return{sel:t,data:e,children:r,text:n,elm:i,key:o}}},function(t,e,r){"use strict";function n(t,e,r,n,o){void 0===e&&(e=s.model),void 0===r&&(r=u.view),void 0===n&&(n=c.intent),void 0===o&&(o=i);var l=new a.Subject,f=n(t.DOM,l),h=e(f,o(t),l),p=r(h);return{DOM:p}}function i(t,e,r){return void 0===e&&(e=f["default"]),void 0===r&&(r=l.BowlingLine),function(n,i){console.log("makeBowlingLine",n,i,"iso"+n);var s=e(r,".iso"+n)(Object.assign({},t,{props$:o.Observable.of({id:n,name:i})}));return console.log("make return ",s),s}}var o=r(5),s=r(128),u=r(129),c=r(127),a=r(5),l=r(49),f=r(149);e.main=n,e.makeBowlingLineWrapperFn=i},function(t,e){"use strict";var r=function(){function t(t,e){this.scope=t,this.isolateModule=e}return t.prototype.isStrictlyInRootScope=function(t){for(var e=t;e;e=e.parentElement){var r=this.isolateModule.isIsolatedElement(e);if(r&&r!==this.scope)return!1;if(r)return!0}return!0},t}();e.ScopeChecker=r},function(t,e,r){"use strict";function n(t,e){return{sel:t.sel,data:t.data,text:t.text,elm:t.elm,key:t.key,children:e}}function i(t){return function e(r){if(r){if(r&&"object"==typeof r.data&&r.data["static"])return s["default"].of(r);if(t.isValidStream(r)){var i=o["default"].adapt(r,t.streamSubscribe);return i.map(e).flatten()}if("object"==typeof r){if(!r.children||0===r.children.length)return s["default"].of(r);var u=r.children.map(e).filter(function(t){return null!==t});return 0===u.length?s["default"].of(n(r,[])):s["default"].combine.apply(s["default"],u).map(function(t){return n(r,t.slice())})}throw new Error("Unhandled vTree Value")}return null}}var o=r(23),s=r(22);e.makeTransposeVNode=i},function(t,e){/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
t.exports=function(t){var e,r=String.prototype.split,n=/()??/.exec("")[1]===t;return e=function(e,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return r.call(e,i,o);var s,u,c,a,l=[],f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),h=0,i=new RegExp(i.source,f+"g");for(e+="",n||(s=new RegExp("^"+i.source+"$(?!\\s)",f)),o=o===t?-1>>>0:o>>>0;(u=i.exec(e))&&(c=u.index+u[0].length,!(c>h&&(l.push(e.slice(h,u.index)),!n&&u.length>1&&u[0].replace(s,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(u[e]=t)}),u.length>1&&u.index<e.length&&Array.prototype.push.apply(l,u.slice(1)),a=u[0].length,h=c,l.length>=o)));)i.lastIndex===u.index&&i.lastIndex++;return h===e.length?!a&&i.test("")||l.push(""):l.push(e.slice(h)),l.length>o?l.slice(0,o):l}}()},function(t,e,r){"use strict";var n=r(14);t.exports=function(){return n(this).length=0,this}},function(t,e){"use strict";var r=Object.create,n=Object.getPrototypeOf,i={};t.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||r;return"function"==typeof t&&n(t(e(null),i))===i}},function(t,e,r){"use strict";var n,i=r(169),o=r(14),s=Object.prototype.isPrototypeOf,u=Object.defineProperty,c={configurable:!0,enumerable:!1,writable:!0,value:void 0};n=function(t,e){if(o(t),null===e||i(e))return t;throw new TypeError("Prototype must be null or an object")},t.exports=function(t){var e,r;return t?(2===t.level?t.set?(r=t.set,e=function(t,e){return r.call(n(t,e),e),t}):e=function(t,e){return n(t,e).__proto__=e,t}:e=function i(t,e){var r;return n(t,e),r=s.call(i.nullPolyfill,t),r&&delete i.nullPolyfill.__proto__,null===e&&(e=i.nullPolyfill),t.__proto__=e,r&&u(i.nullPolyfill,"__proto__",c),t},Object.defineProperty(e,"level",{configurable:!1,enumerable:!1,writable:!1,value:t.level})):null}(function(){var t,e=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{t=n.set,t.call(e,r)}catch(i){}if(Object.getPrototypeOf(e)===r)return{set:t,level:2}}return e.__proto__=r,Object.getPrototypeOf(e)===r?{level:2}:(e={},e.__proto__=r,Object.getPrototypeOf(e)===r&&{level:1})}()),r(166)},function(t,e,r){"use strict";t.exports=r(176)()?String.prototype.contains:r(177)},function(t,e,r){"use strict";var n=r(181);t.exports=function(t){if(!n(t))throw new TypeError(t+" is not iterable");return t}},function(t,e,r){"use strict";t.exports=r(183)()?Map:r(187)},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){function r(t){return!!t&&"object"==typeof t}function n(t,e){var r=null==t?void 0:t[e];return s(r)?r:void 0}function i(t){return o(t)&&h.call(t)==u}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null!=t&&(i(t)?p.test(l.call(t)):r(t)&&c.test(t))}var u="[object Function]",c=/^\[object .+?Constructor\]$/,a=Object.prototype,l=Function.prototype.toString,f=a.hasOwnProperty,h=a.toString,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e,r){function n(t){return p[t]}function i(t){return!!t&&"object"==typeof t}function o(t){return"symbol"==typeof t||i(t)&&b.call(t)==l}function s(t){if("string"==typeof t)return t;if(null==t)return"";if(o(t))return v?m.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}function u(t){return t=s(t),t&&h.test(t)?t.replace(f,n):t}var c=r(56),a=1/0,l="[object Symbol]",f=/[&<>"'`]/g,h=RegExp(f.source),p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},d=Object.prototype,b=d.toString,v=c.Symbol,y=v?v.prototype:void 0,m=v?y.toString:void 0;t.exports=u},function(t,e,r){function n(t,e){return o(t,e,u)}function i(t){return function(e,r,n){return"function"==typeof r&&void 0===n||(r=s(r,n,3)),t(e,r)}}var o=r(195),s=r(198),u=r(203),c=i(n);t.exports=c},function(t,e){function r(t){return i(t)&&d.call(t,"callee")&&(!v.call(t,"callee")||b.call(t)==l)}function n(t){return null!=t&&s(t.length)&&!o(t)}function i(t){return c(t)&&n(t)}function o(t){var e=u(t)?b.call(t):"";return e==f||e==h}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return!!t&&"object"==typeof t}var a=9007199254740991,l="[object Arguments]",f="[object Function]",h="[object GeneratorFunction]",p=Object.prototype,d=p.hasOwnProperty,b=p.toString,v=p.propertyIsEnumerable;t.exports=r},function(t,e){function r(t){return!!t&&"object"==typeof t}function n(t,e){var r=null==t?void 0:t[e];return u(r)?r:void 0}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function o(t){return s(t)&&d.call(t)==a}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return null!=t&&(o(t)?b.test(h.call(t)):r(t)&&l.test(t))}var c="[object Array]",a="[object Function]",l=/^\[object .+?Constructor\]$/,f=Object.prototype,h=Function.prototype.toString,p=f.hasOwnProperty,d=f.toString,b=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=n(Array,"isArray"),y=9007199254740991,m=v||function(t){return r(t)&&i(t.length)&&d.call(t)==c};t.exports=m},function(t,e,r){"use strict";function n(t){return this instanceof n?void i.call(this,t):new n(t)}t.exports=n;var i=r(59),o=r(30);o.inherits=r(24),o.inherits(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){"use strict";(function(e){function n(t,e,r){return"function"==typeof t.prependListener?t.prependListener(e,r):void(t._events&&t._events[e]?P(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r))}function i(t,e){U=U||r(21),t=t||{},this.objectMode=!!t.objectMode,e instanceof U&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(D||(D=r(120).StringDecoder),this.decoder=new D(t.encoding),this.encoding=t.encoding)}function o(t){return U=U||r(21),this instanceof o?(this._readableState=new i(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),void I.call(this)):new o(t)}function s(t,e,r,n,i){var o=l(e,r);if(o)t.emit("error",o);else if(null===r)e.reading=!1,f(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var c=new Error("stream.unshift() after end event");t.emit("error",c)}else{var a;!e.decoder||i||n||(r=e.decoder.write(r),a=!e.objectMode&&0===r.length),i||(e.reading=!1),a||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&h(t))),d(t,e)}else i||(e.reading=!1);return u(e)}function u(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function c(t){return t>=V?t=V:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function a(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=c(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function l(t,e){var r=null;return M.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function f(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,h(t)}}function h(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(B("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?k(p,t):p(t))}function p(t){B("emit readable"),t.emit("readable"),g(t)}function d(t,e){e.readingMore||(e.readingMore=!0,k(b,t,e))}function b(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(B("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function v(t){return function(){var e=t._readableState;B("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&C(t,"data")&&(e.flowing=!0,g(t))}}function y(t){B("readable nexttick read 0"),t.read(0)}function m(t,e){e.resumeScheduled||(e.resumeScheduled=!0,k(_,t,e))}function _(t,e){e.reading||(B("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),g(t),e.flowing&&!e.reading&&t.read(0)}function g(t){var e=t._readableState;for(B("flow",e.flowing);e.flowing&&null!==t.read(););}function w(t,e){if(0===e.length)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=x(t,e.buffer,e.decoder),r}function x(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?O(t,e):S(t,e),n}function O(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(i+=s===o.length?o:o.slice(0,t),t-=s,0===t){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}function S(t,e){var r=R.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),t-=s,0===t){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}function E(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,k(j,e,t))}function j(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function T(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}function A(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}t.exports=o;var k=r(58),P=r(83);o.ReadableState=i;var I,C=(r(38).EventEmitter,function(t,e){return t.listeners(e).length});!function(){try{I=r(48)}catch(t){}finally{I||(I=r(38).EventEmitter)}}();var M=r(18).Buffer,R=r(51),N=r(30);N.inherits=r(24);var L=r(518),B=void 0;B=L&&L.debuglog?L.debuglog("stream"):function(){};var D,F=r(208);N.inherits(o,I);var U,U;o.prototype.push=function(t,e){var r=this._readableState;return r.objectMode||"string"!=typeof t||(e=e||r.defaultEncoding,e!==r.encoding&&(t=R.from(t,e),e="")),s(this,r,t,e,!1)},o.prototype.unshift=function(t){var e=this._readableState;return s(this,e,t,"",!0)},o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(t){return D||(D=r(120).StringDecoder),this._readableState.decoder=new D(t),this._readableState.encoding=t,this};var V=8388608;o.prototype.read=function(t){B("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return B("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?E(this):h(this),null;if(t=a(t,e),0===t&&e.ended)return 0===e.length&&E(this),null;var n=e.needReadable;B("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&(n=!0,B("length less than watermark",n)),e.ended||e.reading?(n=!1,B("reading or ended",n)):n&&(B("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=a(r,e)));var i;return i=t>0?w(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&E(this)),null!==i&&this.emit("data",i),i},o.prototype._read=function(t){this.emit("error",new Error("not implemented"))},o.prototype.pipe=function(t,r){function i(t){B("onunpipe"),t===h&&s()}function o(){B("onend"),t.end()}function s(){B("cleanup"),t.removeListener("close",a),t.removeListener("finish",l),t.removeListener("drain",y),t.removeListener("error",c),t.removeListener("unpipe",i),h.removeListener("end",o),h.removeListener("end",s),h.removeListener("data",u),m=!0,!p.awaitDrain||t._writableState&&!t._writableState.needDrain||y()}function u(e){B("ondata"),_=!1;var r=t.write(e);!1!==r||_||((1===p.pipesCount&&p.pipes===t||p.pipesCount>1&&A(p.pipes,t)!==-1)&&!m&&(B("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,_=!0),h.pause())}function c(e){B("onerror",e),f(),t.removeListener("error",c),0===C(t,"error")&&t.emit("error",e)}function a(){t.removeListener("finish",l),f()}function l(){B("onfinish"),t.removeListener("close",a),f()}function f(){B("unpipe"),h.unpipe(t)}var h=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=t;break;case 1:p.pipes=[p.pipes,t];break;default:p.pipes.push(t)}p.pipesCount+=1,B("pipe count=%d opts=%j",p.pipesCount,r);var d=(!r||r.end!==!1)&&t!==e.stdout&&t!==e.stderr,b=d?o:s;p.endEmitted?k(b):h.once("end",b),t.on("unpipe",i);var y=v(h);t.on("drain",y);var m=!1,_=!1;return h.on("data",u),n(t,"error",c),t.once("close",a),t.once("finish",l),t.emit("pipe",h),p.flowing||(B("pipe resume"),h.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=A(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},o.prototype.on=function(t,e){var r=I.prototype.on.call(this,t,e);if("data"===t)this._readableState.flowing!==!1&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&h(this,n):k(y,this))}return r},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var t=this._readableState;return t.flowing||(B("resume"),t.flowing=!0,m(this,t)),this},o.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;t.on("end",function(){if(B("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)}),t.on("data",function(i){if(B("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)){var o=n.push(i);o||(r=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return T(o,function(e){t.on(e,n.emit.bind(n,e))}),n._read=function(e){B("wrapped _read",e),r&&(r=!1,t.resume())},n},o._fromList=w}).call(e,r(25))},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(68),s=function(t){function e(e){t.call(this),this._value=e}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(12),o=r(115),s=r(94),u=r(355),c=r(15),a=r(344),l=r(35),f=r(0),h=r(65),p=r(42),d=function(t){return t&&"number"==typeof t.length},b=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return n(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[p.$$observable])return t instanceof f.Observable&&!r?t:new e(t,r);if(i.isArray(t))return new c.ArrayObservable(t,r);if(o.isPromise(t))return new s.PromiseObservable(t,r);if("function"==typeof t[l.$$iterator]||"string"==typeof t)return new u.IteratorObservable(t,r);if(d(t))return new a.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[p.$$observable]().subscribe(t):e[p.$$observable]().subscribe(new h.ObserveOnSubscriber(t,r,0))},e}(f.Observable);e.FromObservable=b},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(61),s=function(t){function e(e,r,n){t.call(this),this.source=e,this.subjectFactory=r,this.selector=n}return n(e,t),e.prototype._subscribe=function(t){var e=this,r=e.selector,n=e.source,i=new o.ConnectableObservable(n,this.subjectFactory),s=r(i).subscribe(t);return s.add(i.connect()),s},e}(i.Observable);e.MulticastObservable=s},function(t,e,r){"use strict";function n(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function i(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(8),u=r(0),c=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return o(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(n,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(o.schedule(n,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(u.Observable);e.PromiseObservable=c},function(t,e,r){"use strict";function n(){if(f.root.XMLHttpRequest){var t=new f.root.XMLHttpRequest;return"withCredentials"in t&&(t.withCredentials=!!this.withCredentials),t}if(f.root.XDomainRequest)return new f.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function i(){if(f.root.XMLHttpRequest)return new f.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(t=e[r],new f.root.ActiveXObject(t))break}catch(n){}return new f.root.ActiveXObject(t)}catch(n){throw new Error("XMLHttpRequest is not supported by your browser")}}function o(t,e){return void 0===e&&(e=null),new v({method:"GET",url:t,headers:e})}function s(t,e,r){return new v({method:"POST",url:t,body:e,headers:r})}function u(t,e){return new v({method:"DELETE",url:t,headers:e})}function c(t,e,r){return new v({method:"PUT",url:t,body:e,headers:r})}function a(t,e){return new v({method:"GET",url:t,responseType:"json",headers:e}).map(function(t){return t.response})}var l=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},f=r(8),h=r(10),p=r(7),d=r(0),b=r(1);e.ajaxGet=o,e.ajaxPost=s,e.ajaxDelete=u,e.ajaxPut=c,e.ajaxGetJSON=a;var v=function(t){function e(e){t.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?n.call(this):i()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)r.url=e;else for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);this.request=r}return l(e,t),e.prototype._subscribe=function(t){return new y(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=o,t.post=s,t["delete"]=u,t.put=c,t.getJSON=a,t}(),e}(d.Observable);e.AjaxObservable=v;var y=function(t){function e(e,r){t.call(this,e),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||f.root.FormData&&r.body instanceof f.root.FormData||"undefined"==typeof r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return l(e,t),e.prototype.next=function(t){this.done=!0;var e=this,r=e.xhr,n=e.request,i=e.destination,o=new m(t,r,n);i.next(o)},e.prototype.send=function(){var t=this,e=t.request,r=t.request,n=r.user,i=r.method,o=r.url,s=r.async,u=r.password,c=r.headers,a=r.body,l=e.createXHR,f=h.tryCatch(l).call(e);if(f===p.errorObject)this.error(p.errorObject.e);else{this.xhr=f;var d=void 0;if(d=n?h.tryCatch(f.open).call(f,i,o,s,n,u):h.tryCatch(f.open).call(f,i,o,s),d===p.errorObject)return this.error(p.errorObject.e),null;f.timeout=e.timeout,f.responseType=e.responseType,this.setHeaders(f,c),this.setupEvents(f,e),a?f.send(a):f.send()}return f},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(f.root.FormData&&t instanceof f.root.FormData)return t;if(e){var r=e.indexOf(";");r!==-1&&(e=e.substring(0,r))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])},e.prototype.setupEvents=function(t,e){var r=e.progressSubscriber;t.ontimeout=function n(t){var e=n,r=e.subscriber,i=e.progressSubscriber,o=e.request;i&&i.error(t),r.error(new g(this,o))},t.ontimeout.request=e,t.ontimeout.subscriber=this,t.ontimeout.progressSubscriber=r,t.upload&&"withCredentials"in t&&f.root.XDomainRequest&&(r&&(t.onprogress=function i(t){var e=i.progressSubscriber;e.next(t)},t.onprogress.progressSubscriber=r),t.onerror=function o(t){var e=o,r=e.progressSubscriber,n=e.subscriber,i=e.request;r&&r.error(t),n.error(new _("ajax error",this,i))},t.onerror.request=e,t.onerror.subscriber=this,t.onerror.progressSubscriber=r),t.onreadystatechange=function s(t){var e=s,r=e.subscriber,n=e.progressSubscriber,i=e.request;if(4===this.readyState){var o=1223===this.status?204:this.status,u="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=u?200:0),200<=o&&o<300?(n&&n.complete(),r.next(t),r.complete()):(n&&n.error(t),r.error(new _("ajax error "+o,this,i)))}},t.onreadystatechange.subscriber=this,t.onreadystatechange.progressSubscriber=r,t.onreadystatechange.request=e},e.prototype.unsubscribe=function(){var e=this,r=e.done,n=e.xhr;!r&&n&&4!==n.readyState&&n.abort(),t.prototype.unsubscribe.call(this)},e}(b.Subscriber);e.AjaxSubscriber=y;var m=function(){function t(t,e,r){switch(this.originalEvent=t,this.xhr=e,this.request=r,this.status=e.status,this.responseType=e.responseType||r.responseType,this.responseType){case"json":"response"in e?this.response=e.responseType?e.response:JSON.parse(e.response||e.responseText||""):this.response=JSON.parse(e.responseText||"");break;case"xml":this.response=e.responseXML;break;case"text":default:this.response="response"in e?e.response:e.responseText}}return t}();e.AjaxResponse=m;var _=function(t){function e(e,r,n){t.call(this,e),this.message=e,this.xhr=r,this.request=n,this.status=r.status}return l(e,t),e}(Error);e.AjaxError=_;var g=function(t){function e(e,r){t.call(this,"ajax timeout",e,r)}return l(e,t),e}(_);e.AjaxTimeoutError=g},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.distinct=n;var u=function(){function t(t,e){this.compare=t,this.flushes=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.compare,this.flushes))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.values=[],"function"==typeof r&&(this.compare=r),n&&this.add(s.subscribeToResult(this,n))}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values.length=0},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){var e=!1,r=this.values,n=r.length;try{for(var i=0;i<n;i++)if(this.compare(r[i],t))return void(e=!0)}catch(o){return void this.destination.error(o)}this.values.push(t),this.destination.next(t)},e.prototype.compare=function(t,e){return t===e},e}(o.OuterSubscriber);e.DistinctSubscriber=c},function(t,e,r){"use strict";function n(t,e){return this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(10),u=r(7);e.distinctUntilChanged=n;var c=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.compare,this.keySelector))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,r=t;if(e&&(r=s.tryCatch(this.keySelector)(t),r===u.errorObject))return this.destination.error(u.errorObject.e);var n=!1;if(this.hasKey){if(n=s.tryCatch(this.compare)(this.key,r),n===u.errorObject)return this.destination.error(u.errorObject.e)}else this.hasKey=!0;Boolean(n)===!1&&(this.key=r,this.destination.next(t))},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.filter=n;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.thisArg))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.thisArg=n,this.count=0,this.predicate=r}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return this.lift(new s(t,this,(!1),e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.find=n;var s=function(){function t(t,e,r,n){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=n}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();e.FindValueOperator=s;var u=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.source=n,this.yieldIndex=i,this.thisArg=o,this.index=0}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,r=e.predicate,n=e.thisArg,i=this.index++;try{var o=r.call(n||this,t,i,this.source);o&&this.notifyComplete(this.yieldIndex?i:t)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(o.Subscriber);e.FindValueSubscriber=u},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.map=n;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.project,this.thisArg))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.count=0,this.thisArg=n||this}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),i.apply(this,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return u.isScheduler(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof i&&(r=t.pop()),1===t.length?t[0]:new o.ArrayObservable(t,n).lift(new s.MergeAllOperator(r))}var o=r(15),s=r(41),u=r(17);e.merge=n,e.mergeStatic=i},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new u(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(3),s=r(2);e.mergeMap=n;var u=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=u;var c=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(o.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._notifyResultSelector(t,e,r,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(o){return void this.destination.error(o)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=c},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new u(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r);
},o=r(2),s=r(3);e.mergeMapTo=n;var u=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=u;var c=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,e,t,r)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r,n,i){this.add(s.subscribeToResult(this,t,n,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,n):u.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var i,o=this,s=o.resultSelector,u=o.destination;try{i=s(t,e,r,n)}catch(c){return void u.error(c)}u.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapToSubscriber=c},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&u.isArray(t[0])&&(t=t[0]),this.lift(new l(t))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return 1===t.length&&u.isArray(t[0])&&(t=t[0]),r=t.shift(),new s.FromObservable(r,null).lift(new l(t))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(92),u=r(12),c=r(2),a=r(3);e.onErrorResumeNext=n,e.onErrorResumeNextStatic=i;var l=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e._subscribe(new f(t,this.nextSources))},t}(),f=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return o(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(a.subscribeToResult(this,t)):this.destination.complete()},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&s.isArray(t[0])&&(t=t[0]),t.unshift(this),i.apply(this,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!s.isArray(t[0]))return t[0];t=t[0]}return new u.ArrayObservable(t).lift(new l)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(12),u=r(15),c=r(2),a=r(3);e.race=n,e.raceStatic=i;var l=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new f(t))},t}();e.RaceOperator=l;var f=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e;r++){var n=t[r],i=a.subscribeToResult(this,n,n,r);this.subscriptions&&(this.subscriptions.push(i),this.add(i))}this.observables=null}},e.prototype.notifyNext=function(t,e,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(c.OuterSubscriber);e.RaceSubscriber=f},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=s.async),this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(9);e.timeInterval=n;var u=function(){function t(t,e){this.value=t,this.interval=e}return t}();e.TimeInterval=u;var c=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.scheduler))},t}(),a=function(t){function e(e,r){t.call(this,e),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return i(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),r=e-this.lastTime;this.lastTime=e,this.destination.next(new u(t,r))},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=s.async),this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(9);e.timestamp=n;var u=function(){function t(t,e){this.value=t,this.timestamp=e}return t}();e.Timestamp=u;var c=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.scheduler))},t}(),a=function(t){function e(e,r){t.call(this,e),this.scheduler=r}return i(e,t),e.prototype._next=function(t){var e=this.scheduler.now();this.destination.next(new u(t,e))},e}(o.Subscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(33),o=r(34),s=function(t){function e(e,r){var n=this;void 0===e&&(e=u),void 0===r&&(r=750),t.call(this,e,function(){return n.frame}),this.maxFrames=r,this.frame=0,this.index=-1}return n(e,t),e.prototype.flush=function(){for(var t,e,r=this,n=r.actions,i=r.maxFrames;(e=n.shift())&&(this.frame=e.delay)<=i&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(o.AsyncScheduler);e.VirtualTimeScheduler=s;var u=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1),t.call(this,e,r),this.scheduler=e,this.work=r,this.index=n,this.index=e.index=n}return n(e,t),e.prototype.schedule=function(r,n){return void 0===n&&(n=0),this.id?this.add(new e(this.scheduler,this.work)).schedule(r,n):t.prototype.schedule.call(this,r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(i.AsyncAction);e.VirtualAction=u},function(t,e,r){"use strict";var n=r(471),i=r(472);e.asap=new i.AsapScheduler(n.AsapAction)},function(t,e,r){"use strict";var n=r(473),i=r(474);e.queue=new i.QueueScheduler(n.QueueAction)},function(t,e){"use strict";var r=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}return t}();e.SubscriptionLog=r},function(t,e,r){"use strict";var n=r(111),i=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new n.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,r=e[t];e[t]=new n.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},t}();e.SubscriptionLoggable=i},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return r(e,t),e}(Error);e.UnsubscriptionError=n},function(t,e){"use strict";function r(t,e){for(var r=0,n=e.length;r<n;r++)for(var i=e[r],o=Object.getOwnPropertyNames(i.prototype),s=0,u=o.length;s<u;s++){var c=o[s];t.prototype[c]=i.prototype[c]}}e.applyMixins=r},function(t,e){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},function(t,e){"use strict";function r(){}e.noop=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=(0,s["default"])(t.sel),r=e.className;if(!t.data)return r;var n=t.data,i=n["class"],o=n.props;if(i){var u=Object.keys(t.data["class"]).filter(function(e){return t.data["class"][e]});r+=" "+u.join(" ")}return o&&o.className&&(r+=" "+o.className),r.trim()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=r(71),s=n(o)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t,e){e(t),t.children&&t.children.forEach(function(t){o(t,e)})}function s(t,e){var r=t.children;return r&&"function"==typeof r.map&&(r=r.map(function(e){return s(e,t)})),t.parent=e,t}function u(t,e){var r=(0,a["default"])(t),n=[],u=s(e);return o(u,function(t){var e=void 0;if(t.data&&t.data.vnode)e=r(t.data.vnode);else if(t.data&&t.data.fn){var o;e=r((o=t.data).fn.apply(o,i(t.data.args)))}else e=r(t);e&&(Array.isArray(e)||(e=[e]),n.push.apply(n,e))}),n}Object.defineProperty(e,"__esModule",{value:!0});var c=r(488),a=n(c);e["default"]=u},function(t,e,r){var n=r(76),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,o=/^\.|#/;t.exports=function(t,e){t=t||"";var r,s="",u=[],c=n(t,i);(o.test(c[1])||""===t)&&(r="div");var a,l,f;for(f=0;f<c.length;f++)a=c[f],a&&(l=a.charAt(0),r?"."===l?u.push(a.substring(1,a.length)):"#"===l&&(s=a.substring(1,a.length)):r=a);return{tagName:e===!0?r.toUpperCase():r,id:s,className:u.join(" ")}}},function(t,e,r){function n(t){if(t&&!c(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var u=r(18).Buffer,c=u.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},a=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),n(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new u(6),this.charReceived=0,this.charLength=0};a.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";t=t.slice(r,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=e.charCodeAt(e.length-1);if(!(n>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,n=e.charCodeAt(i);if(n>=55296&&n<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},a.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(1==e&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e},a.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e}},function(t,e){"use strict";function r(t){var e=function(t){return+t[t.length-1]||0},r=function(t,e){return 19===t.length&&"X"===t[18]},n=function(t,e){return 20===t.length&&"X"===t[18]&&"X"!==t[19]},i=function(t,e){return t.length%2===1},o=function(t,e){return i(t,e)&&!r(t,e)||n(t,e)},s=function(t,r){return o(t,r)&&r+e(t)===10},u=function(t,e){return 0===e},c=function(t,e){return 10===e},a=function(t){return t.length>=18?"":" "},l=function(t,e){return s(t,e)?"/":u(t,e)?"-":c(t,e)?a(t)+"X":e.toString()};return t.reduce(function(t,e){return t+l(t,e)},"")}e.displayer$=r},function(t,e){"use strict";function r(t,e){var r=function(t,e){return+t[t.length-1]||0},n=function(t,e){return t.length%2===1||20===t.length},i=function(t,e){return 10===e.length&&19!==t.length};return i(t,e)?-1:n(t,e)?10-r(t,e):10}e.enabler=r},function(t,e,r){"use strict";function n(t){console.log(t);var e=t.select(".rollButton").events("click"),r=t.select(".newGame").events("click"),n=t.select(".undo").events("click"),o=t.select(".redo").events("click"),s=t.select(".delete").events("click");return i.Observable.merge(e.map(function(t){return{type:"ROLL",payload:+t.target.innerHTML}}),r.map(function(t){return{type:"NEW GAME"}}),n.map(function(t){return{type:"UNDO"}}),o.map(function(t){return{type:"REDO"}}),s.map(function(t){return{type:"DELETE"}}))}var i=r(5);e.intent=n},function(t,e,r){"use strict";function n(t,e){function r(t){return i.Observable.merge(t.filter(function(t){return"ROLL"===t.type}).map(function(t){return function(e){return{past:e.past.concat(e.present),present:e.present.concat(i.Observable.of(t.payload)),future:[]}}}),t.filter(function(t){return"NEW GAME"===t.type}).map(function(t){return function(t){return{past:t.past.concat(t.present),present:i.Observable.empty(),future:[]}}}),t.filter(function(t){return"UNDO"===t.type}).map(function(t){return function(t){return{past:t.past.slice(0,t.past.length-1),present:t.past[t.past.length-1],future:t.future.concat(t.present)}}}),t.filter(function(t){return"REDO"===t.type}).map(function(t){return function(t){return{past:t.past.concat(t.present),present:t.future[t.future.length-1],future:t.future.slice(0,t.future.length-1)}}}))}function n(t){return t.scan(function(t,e){return console.log("STATE:",t)||e(t)},c).startWith(c)}function u(t){return t.switchMap(function(t){return i.Observable.combineLatest(s.displayer$(t.present),o.scorer$(t.present).toArray(),i.Observable.of(t.past.length>0),i.Observable.of(t.future.length>0),e)})}return void 0===e&&(e=i.Observable.of({})),t["let"](r)["let"](n)["let"](u)["do"](function(t){return console.log("BL model "+e.value.name,t)})}var i=r(5),o=r(125),s=r(121),u=i.Observable.empty(),c={past:[],present:u,future:[]};e.model=n},function(t,e){"use strict";function r(t){function e(t){var e=function(t){return 10===t[0]},r=function(t,r){return t.lastRoll&&e(r)?{trip:r,frame:t.frame+1,lastRoll:!0}:{trip:r,frame:t.lastRoll?t.frame+1:t.frame,lastRoll:!t.lastRoll}};return t.bufferCount(3,1).map(function(t){return t.concat(NaN,NaN).slice(0,3)}).scan(r,{trip:[],frame:0,lastRoll:!0}).groupBy(function(t){return t.frame},function(t){return t.trip})}function r(t){var e=function(t,e){return t+e},r=function(t){return 10===t[0]},n=function(t){return t[0]+t[1]===10},i=function(t){return t.take(1).map(function(t){return r(t)||n(t)?t.reduce(e):t[0]+(t[1]||0)})};return t.mergeMap(i).scan(e)}function n(t){return t.filter(function(t){return!isNaN(t)}).take(10)}return t["let"](e)["let"](r)["let"](n)}e.scorer$=r},function(t,e,r){"use strict";function n(t){return t.map(function(t){var e=t[0],r=t[1],n=t[2],a=t[3],l=t[4];return console.log("BL view("+l.name+") : ",e,r,n,a,l)||c.div({key:l.id},[i(l),o(e,r),s(e,r),u(e,n,a),c.hr()])})}function i(t){return c.div(".name",t.name)}function o(t,e){return c.div(".frames.clearfix",Array(10).fill(0).map(function(r,n){return c.div(".frame",{"class":{tenth:9===n}},Array(9===n?3:2).fill(0).map(function(e,r){return c.div(".rollDisplay",t[2*n+r])}).concat([c.div(".scoreDisplay",e[n]||"")]))}).slice())}function s(t,e){return c.span(".rollbuttons",Array(11).fill(0).map(function(r,n){return c.button(".rollButton",{props:{disabled:n>a.enabler(t,e)}},n)}).slice())}function u(t,e,r){return c.span(".actions",[c.button(".newGame","New"),c.button(".undo",{props:{disabled:!e}},"Undo"),c.button(".redo",{props:{disabled:!r}},"Redo"),c.button(".delete","X")])}var c=r(13),a=r(122);e.view=n},function(t,e,r){"use strict";function n(t,e){var r=t.select("input.name").events("keydown");return i.Observable.merge(r.filter(function(t){return 13===t.keyCode&&t.target.value.trim()}).map(function(t){return{type:"ADD ITEM",payload:t.target.value.trim()}}),e.map(function(t){return{type:"DELETE ITEM",payload:t.payload}}))}var i=r(5);e.intent=n},function(t,e,r){"use strict";function n(t,e,r){function n(t){return t.map(function(t){return"DELETE ITEM"===t.type?function(e){return{lastid:e.lastid,list:e.list.filter(function(e){return e.id!==t.payload})}}:"ADD ITEM"===t.type?function(r){return console.log("running ADD ITEM",t,r),{lastid:r.lastid+1,list:r.list.concat([{id:r.lastid+1,line:e(r.lastid+1,t.payload)}])}}:function(e){throw"illegal action: "+t.type}})}function o(t){return t.scan(function(t,e){return e(t)},c).share()}function s(t){return t.switchMap(function(t){return console.log(">>> main tomodel",t)||i.Observable.combineLatest.apply(i.Observable,t.list.map(function(t){return console.log("listItem",t)||t.line.DOM})).defaultIfEmpty([])}).startWith([])}function u(t){function e(t){return function(e){return t.subscribe(function(t){return e.next(t)})}}function n(t){return t.switchMap(function(t){return i.Observable.merge.apply(i.Observable,t.list.map(function(t){return t.line.Delete}))})}return r["let"](e(t["let"](n))),t}var c={lastid:0,list:[]};return t["let"](n)["let"](o)["let"](u)["let"](s)}var i=r(5);e.model=n},function(t,e,r){"use strict";function n(t){return t.map(function(t){return console.log("in view",t)||u.div(".container",[i()].concat(t,[o(),s()]))})}function i(){return u.div("#title",[u.h1([u.img({props:{src:"Rx_Logo_S.png"}}),u.a({props:{href:"https://github.com/wizardwerdna/FRPBowlingKata"}},"FRP Bowling"),u.img({props:{src:"CycleJS_Logo.png"}})]),u.h3("The Classic Kata in RxJS and CycleJS")])}function o(){return u.div("#input",[u.label(".playerLabel","New Player:"),u.input(".name",{props:{type:"text",autofocus:!0},hook:{update:function(t,e){var r=e.elm;return r.value=""}}})])}function s(){return u.div("#footer",[u.a(".footlink",{props:{href:"https://github.com/wizardwerdna/FRPBowlingKata"}},"FRP Bowling"),u.span(" built by "),u.a(".footlinke",{props:{href:"mailto:wizardwerdna@gmail.com"}},"Andrew C. Greenberg")])}var u=r(13);e.view=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,configurable:!1,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,configurable:!1,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";function n(t,e){var r=i["default"](t,e,{streamAdapter:o["default"]}).run;return r()}var i=r(135),o=r(29);e.run=n;var s=function(t,e){return i["default"](t,e,{streamAdapter:o["default"]})};s.run=n,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,r){var n=r(151);"string"==typeof n&&(n=[[t.i,n,""]]);r(505)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,r){"use strict";function n(){i.test("FRP Bowling Kata Unit Tests",function(){i.test("Scorer",a.scorerTests),i.test("Displayer",l.displayerTests),i.test("Enabler",f.enablerTests)}),i.test("BowlingLine implements MVI Pattern",i.assertMVIComponent(o.BowlingLine)),i.test("model(action$, source.props$)",s.testBowlingLineModel),i.test("view(model$)",u.testBowlingLineView),i.test("intent(DOMSource)",c.testBowlingLineIntent),i.test("Delete",function(){function t(t,e,r){return Object.assign({},{DOM:h.mockDOMSource(p["default"],{selector:{click:d.Observable.of({target:{innerHTML:"5"}})}})},{props$:d.Observable.of({id:e,name:r})})}i.test("no delete clicked",function(){var e=t(".rollButton",3,"Andrew");i.expect(o.BowlingLine(e).Delete.isEmpty()).toBeStreamOf(!0)}),i.test("with delete clicked",function(){var e=t(".delete",3,"Andrew");i.expect(o.BowlingLine(e).Delete).toBeStreamOf({type:"DELETE",payload:3})})})}var i=r(11),o=r(49),s=r(510),u=r(512),c=r(509),a=r(511),l=r(507),f=r(508),h=r(13),p=r(29),d=r(5);e.bowlingLineTests=n},function(t,e,r){"use strict";function n(){i.test("main component",function(){i.test("is MVI component",i.assertMVIComponent(o.main)),i.test("model",s.modelTests),i.test("view",u.viewTests),i.test("intent",c.intentTests)}),i.test("BowlingLine Wrapper",function(){var t={mock:"sources"};i.test("is passed using sources to intent",function(){function e(t,e){return function(r){return{id:t,name:e}}}function r(t,r){return i.expect(r).toEqual(e),a.Observable.of([])}function n(r){return i.expect(r).toEqual(t),e}var s=function(t){return a.Observable.empty()},u=function(t){return{}};o.main(t,r,u,s,n(t))}),i.test("wrapper invokes function that builds BowlingLine",function(){function e(t){return u++,i.expect(t.mock).toEqual("sources"),i.expect(t.props$).toBeStreamOf({id:1,name:"Andrew"}),{DIV:a.Observable.empty()}}function r(t){return s++,i.expect(t).toBe(l.BowlingLine),e}var n=o.makeBowlingLineWrapperFn(t,r,l.BowlingLine),s=0,u=0;n(1,"Andrew"),i.expect(s).toBe(1),i.expect(u).toBe(1)})})}var i=r(11),o=r(73),s=r(514),u=r(515),c=r(513),a=r(5),l=r(49);e.mainTests=n},function(t,e){"use strict";function r(t){var e=t.stack||t;console&&console.error?console.error(e):console&&console.log&&console.log(e)}function n(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e.makeSubject(),o=t[n].streamAdapter||e,s=o.adapt(i.stream,e.streamSubscribe);r[n]={stream:s,observer:i.observer}}return r}function i(t,e,r){var n={};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i](e[i].stream,r,i),s=t[i].streamAdapter;s&&s.isValidStream(o)?n[i]=r.adapt(o,s.streamSubscribe):n[i]=o,n[i]&&"object"==typeof n[i]&&(n[i]._isCycleSource=i)}return n}function o(t,e,n){var i=Object.keys(t).filter(function(t){return!!e[t]}).map(function(i){return n.streamSubscribe(t[i],{next:function(t){e[i].observer.next(t)},error:function(t){r(t),e[i].observer.error(t)},complete:function(t){e[i].observer.complete(t)}})}),o=i.filter(function(t){return"function"==typeof t});return function(){o.forEach(function(t){return t()})}}function s(t){for(var e in t)t.hasOwnProperty(e)&&t[e]&&"function"==typeof t[e].dispose&&t[e].dispose()}function u(t,e,r){if("function"!=typeof t)throw new Error("First argument given to Cycle must be the 'main' function.");if("object"!=typeof e||null===e)throw new Error("Second argument given to Cycle must be an object with driver functions as properties.");if(c(e))throw new Error("Second argument given to Cycle must be an object with at least one driver function declared as a property.");var u=r.streamAdapter;if(!u||c(u))throw new Error("Third argument given to Cycle must be an options object with the streamAdapter key supplied with a valid stream adapter.");var a=n(e,u),l=i(e,a,u),f=t(l);"undefined"!=typeof window&&(window.Cyclejs={sinks:f});var h=function(){var t=o(f,a,u);return function(){s(l),t()}};return{sinks:f,sources:l,run:h}}var c=function(t){return 0===Object.keys(t).length};Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,r){"use strict";function n(t){return Array.prototype.slice.call(t)}var i,o=r(74),s=r(28);try{i=r(57)}catch(u){i=Function.prototype}var c=function(){function t(t,e){this.namespace=t,this.isolateModule=e}return t.prototype.call=function(t){var e=this.namespace;if(""===e.join(""))return t;var r=s.getScope(e),u=new o.ScopeChecker(r,this.isolateModule),c=s.getSelectors(e),a=t,l=[];return r.length>0&&(a=this.isolateModule.getIsolatedElement(r)||t,c&&i(a,c)&&l.push(a)),n(a.querySelectorAll(c)).filter(u.isStrictlyInRootScope,u).concat(l)},t}();e.ElementFinder=c},function(t,e,r){"use strict";var n,i=r(74),o=r(28);try{n=r(57)}catch(s){n=Function.prototype}var u=function(){function t(t,e,r,n){var i=this;this.topElement=t,this.eventType=e,this.useCapture=r,this.isolateModule=n,this.destinations=[],this.roof=t.parentElement,r?this.domListener=function(t){return i.capture(t)}:this.domListener=function(t){return i.bubble(t)},t.addEventListener(e,this.domListener,r)}return t.prototype.bubble=function(t){if(document.body.contains(t.currentTarget))for(var e=this.patchEvent(t),r=e.target;r&&r!==this.roof;r=r.parentElement){if(document.body.contains(r)||e.stopPropagation(),e.propagationHasBeenStopped)return;this.matchEventAgainstDestinations(r,e)}},t.prototype.matchEventAgainstDestinations=function(t,e){for(var r=0,i=this.destinations.length;r<i;r++){var o=this.destinations[r];o.scopeChecker.isStrictlyInRootScope(t)&&n(t,o.selector)&&(this.mutateEventCurrentTarget(e,t),o.subject._n(e))}},t.prototype.capture=function(t){for(var e=0,r=this.destinations.length;e<r;e++){var i=this.destinations[e];n(t.target,i.selector)&&i.subject._n(t)}},t.prototype.addDestination=function(t,e){var r=o.getScope(e),n=o.getSelectors(e),s=new i.ScopeChecker(r,this.isolateModule);this.destinations.push({subject:t,scopeChecker:s,selector:n})},t.prototype.patchEvent=function(t){var e=t;e.propagationHasBeenStopped=!1;var r=e.stopPropagation;return e.stopPropagation=function(){r.call(this),this.propagationHasBeenStopped=!0},e},t.prototype.mutateEventCurrentTarget=function(t,e){try{Object.defineProperty(t,"currentTarget",{value:e,configurable:!0})}catch(r){console.log("please use event.ownerTarget")}t.ownerTarget=e},t.prototype.updateTopElement=function(t){this.topElement.removeEventListener(this.eventType,this.domListener,this.useCapture),t.addEventListener(this.eventType,this.domListener,this.useCapture),this.topElement=t},t}();e.EventDelegator=u},function(t,e,r){"use strict";var n=r(22),i=r(23),o=function(){function t(t,e){this.runSA=e,this._html$=t,this._empty$=e.adapt(n["default"].empty(),i["default"].streamSubscribe)}return t.prototype.elements=function(){return this.runSA.adapt(this._html$,i["default"].streamSubscribe)},t.prototype.select=function(e){return new t(n["default"].empty(),this.runSA)},t.prototype.events=function(t,e){return this._empty$},t}();e.HTMLSource=o},function(t,e,r){"use strict";function n(t,e){var r=!1;return"boolean"==typeof e.useCapture&&(r=e.useCapture),p.indexOf(t)!==-1&&(r=!0),r}var i,o=r(23),s=r(22),u=r(136),c=r(141),a=r(143),l=r(137),f=r(28);try{i=r(57)}catch(h){i=Function.prototype}var p=["blur","canplay","canplaythrough","change","durationchange","emptied","ended","focus","load","loadeddata","loadedmetadata","mouseenter","mouseleave","pause","play","playing","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","unload","volumechange","waiting"],d=function(){function t(t,e,r,n,i){void 0===r&&(r=[]),this._rootElement$=t,this._runStreamAdapter=e,this._namespace=r,this._isolateModule=n,this._delegators=i,this.isolateSource=a.isolateSource,this.isolateSink=a.isolateSink}return t.prototype.elements=function(){var t;if(0===this._namespace.length)t=this._rootElement$;else{var e=new u.ElementFinder(this._namespace,this._isolateModule);t=this._rootElement$.map(function(t){return e.call(t)})}var r=this._runStreamAdapter;return r.remember(r.adapt(t,o["default"].streamSubscribe))},Object.defineProperty(t.prototype,"namespace",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),t.prototype.select=function(e){if("string"!=typeof e)throw new Error("DOM driver's select() expects the argument to be a string as a CSS selector");var r=e.trim(),n=":root"===r?this._namespace:this._namespace.concat(r);return new t(this._rootElement$,this._runStreamAdapter,n,this._isolateModule,this._delegators)},t.prototype.events=function(t,e){if(void 0===e&&(e={}),"string"!=typeof t)throw new Error("DOM driver's events() expects argument to be a string representing the event type to listen for.");var r=n(t,e),i=this._namespace,u=f.getScope(i),a=[t,r];u&&a.push(u);var h,p=a.join("~"),d=this;if(u){var b=!1;h=this._rootElement$.filter(function(t){var e=!!d._isolateModule.getIsolatedElement(u),r=e&&!b;return b=e,r})}else h=this._rootElement$.take(2);var v=h.map(function(e){if(!i||0===i.length)return c.fromEvent(e,t,r);var n,o=d._delegators,a=u?d._isolateModule.getIsolatedElement(u):e;o.has(p)?(n=o.get(p),n.updateTopElement(a)):(n=new l.EventDelegator(a,t,r,d._isolateModule),o.set(p,n));var f=s["default"].create();return u&&d._isolateModule.addEventDelegator(u,n),n.addDestination(f,i),f}).flatten();return this._runStreamAdapter.adapt(v,o["default"].streamSubscribe)},t.prototype.dispose=function(){this._isolateModule.reset()},t}();e.MainDOMSource=d},function(t,e,r){"use strict";var n=r(50),i=r(117),o=r(71),s=function(){function t(t){this.rootElement=t}return t.prototype.call=function(t){var e=o["default"](t.sel),r=e.tagName,s=e.id,u=i["default"](t),c=t.data||{},a=c.props||{},l=a.id,f=void 0===l?s:l,h=f.toUpperCase()===this.rootElement.id.toUpperCase()&&r.toUpperCase()===this.rootElement.tagName.toUpperCase()&&u.toUpperCase()===this.rootElement.className.toUpperCase();if(h)return t;var p=this.rootElement,d=p.tagName,b=p.id,v=p.className,y=b?"#"+b:"",m=v?"."+v.split(" ").join("."):"";return n.h(""+d+y+m,{},[t])},t}();e.VNodeWrapper=s},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=!1),i.Stream.create({element:t,next:null,start:function(t){this.next=function(e){t.next(e)},this.element.addEventListener(e,this.next,r)},stop:function(){this.element.removeEventListener(e,this.next,r)}})}var i=r(22);e.fromEvent=n},function(t,e,r){"use strict";function n(t){return"string"==typeof t&&t.length>0}function i(t){return n(t)&&("."===t[0]||"#"===t[0])}function o(t){return function(e,r,n){return i(e)?"undefined"!=typeof r&&"undefined"!=typeof n?s.h(t+e,r,n):"undefined"!=typeof r?s.h(t+e,r):s.h(t+e,{}):r?s.h(t,e,r):e?s.h(t,e):s.h(t,{})}}var s=r(50),u=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","colorProfile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotlight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missingGlyph","mpath","path","pattern","polygon","polyling","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],c=o("svg");u.forEach(function(t){c[t]=o(t)});var a=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","u","ul","video"],l={
SVG_TAG_NAMES:u,TAG_NAMES:a,svg:c,isSelector:i,createTagFunction:o};a.forEach(function(t){l[t]=o(t)}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,r){"use strict";function n(t,e){return t.select(o.SCOPE_PREFIX+e)}function i(t,e){return t.map(function(t){if(t.data.isolate){var r=parseInt(t.data.isolate.split(o.SCOPE_PREFIX+"cycle")[1]),n=parseInt(e.split("cycle")[1]);if(isNaN(r)||isNaN(n)||r>n)return t}return t.data.isolate=o.SCOPE_PREFIX+e,t})}var o=r(28);e.isolateSource=n,e.isolateSink=i},function(t,e,r){"use strict";var n=r(82),i=function(){function t(t){this.isolatedElements=t,this.eventDelegators=new n}return t.prototype.setScope=function(t,e){this.isolatedElements.set(e,t)},t.prototype.removeScope=function(t){this.isolatedElements["delete"](t)},t.prototype.getIsolatedElement=function(t){return this.isolatedElements.get(t)},t.prototype.isIsolatedElement=function(t){for(var e=this.isolatedElements.entries(),r=!0;r;)try{var n=e.next(),i=n.value,o=i[0],s=i[1];if(t===s)return o}catch(u){r=!1}return!1},t.prototype.addEventDelegator=function(t,e){var r=this.eventDelegators.get(t);r||(r=[],this.eventDelegators.set(t,r)),r[r.length]=e},t.prototype.reset=function(){this.isolatedElements.clear()},t.prototype.createModule=function(){var t=this;return{create:function(e,r){var n=e.data,i=void 0===n?{}:n,o=r.elm,s=r.data,u=void 0===s?{}:s,c=i.isolate||"",a=u.isolate||"";if(a){c&&t.removeScope(c),t.setScope(o,a);var l=t.eventDelegators.get(a);if(l)for(var f=0,h=l.length;f<h;++f)l[f].updateTopElement(o);else void 0===l&&t.eventDelegators.set(a,[])}c&&!a&&t.removeScope(a)},update:function(e,r){var n=e.data,i=void 0===n?{}:n,o=r.elm,s=r.data,u=void 0===s?{}:s,c=i.isolate||"",a=u.isolate||"";a&&a!==c&&(c&&t.removeScope(c),t.setScope(o,a)),c&&!a&&t.removeScope(a)},remove:function(e,r){var n=e.data;n=n||{};var i=n.isolate;i&&(t.removeScope(i),t.eventDelegators.get(i)&&t.eventDelegators.set(i,[])),r()},destroy:function(e){var r=e.data;r=r||{};var n=r.isolate;n&&(t.removeScope(n),t.eventDelegators.get(n)&&t.eventDelegators.set(n,[]))}}},t}();e.IsolateModule=i},function(t,e,r){"use strict";function n(t){if(!Array.isArray(t))throw new Error("Optional modules option must be an array for snabbdom modules")}function i(t){if(!t||"function"!=typeof t.addListener||"function"!=typeof t.fold)throw new Error("The DOM driver function expects as input a Stream of virtual DOM elements")}function o(t,e){function r(t,e){i(t);var r=p.makeTransposeVNode(e),n=o?t.map(r).flatten():t,s=n.map(function(t){return g.call(t)}).fold(m,_).drop(1).map(function(t){return t.elm}).compose(function(t){return u["default"].merge(t,u["default"].never())}).startWith(_);return s.addListener({next:function(){},error:function(){},complete:function(){}}),new c.MainDOMSource(s,e,[],y,w)}e||(e={});var o=e.transposition||!1,v=e.modules||f["default"],y=new h.IsolateModule(new b),m=s.init([y.createModule()].concat(v)),_=l.getElement(t),g=new a.VNodeWrapper(_),w=new b;return n(v),r.streamAdapter=d["default"],r}var s=r(503),u=r(22),c=r(139),a=r(140),l=r(28),f=r(148),h=r(144),p=r(75),d=r(23),b=r(82);e.makeDOMDriver=o},function(t,e,r){"use strict";function n(t,e){function r(e,r){var i=o.makeTransposeVNode(r),a=n?e.map(i).flatten():e,l=a.last().map(u);return l.addListener({next:t||c,error:c,complete:c}),new s.HTMLSource(l,r)}e||(e={});var n=e.transposition||!1;return r.streamAdapter=i["default"],r}var i=r(23),o=r(75),s=r(138),u=r(490),c=function(){};e.makeHTMLDriver=n},function(t,e,r){"use strict";function n(t,e){return new u(t,e)}var i=r(23),o=r(22),s="___",u=function(){function t(t,e){this._streamAdapter=t,this._mockConfig=e,e.elements?this._elements=e.elements:this._elements=t.adapt(o["default"].empty(),i["default"].streamSubscribe)}return t.prototype.elements=function(){return this._elements},t.prototype.events=function(t,e){for(var r=this._mockConfig,n=Object.keys(r),s=n.length,u=0;u<s;u++){var c=n[u];if(c===t)return r[c]}return this._streamAdapter.adapt(o["default"].empty(),i["default"].streamSubscribe)},t.prototype.select=function(e){for(var r=this._mockConfig,n=Object.keys(r),i=n.length,o=0;o<i;o++){var s=n[o];if(s===e)return new t(this._streamAdapter,r[s])}return new t(this._streamAdapter,{})},t.prototype.isolateSource=function(t,e){return t.select("."+s+e)},t.prototype.isolateSink=function(t,e){return t.map(function(t){return t.sel.indexOf(s+e)!==-1?t:(t.sel+="."+s+e,t)})},t}();e.MockedDOMSource=u,e.mockDOMSource=n},function(t,e,r){"use strict";var n=r(498);e.ClassModule=n;var i=r(501);e.PropsModule=i;var o=r(497);e.AttrsModule=o;var s=r(499);e.EventsModule=s;var u=r(502);e.StyleModule=u;var c=r(500);e.HeroModule=c,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=[u,n,i,o]},function(t,e){"use strict";function r(){return"cycle"+ ++u}function n(t,e){if("function"!=typeof t)throw new Error("First argument given to isolate() must be a 'dataflowComponent' function");if(null===e)throw new Error("Second argument given to isolate() must not be null")}function i(t,e){var r={};for(var n in t)t.hasOwnProperty(n)&&t[n]&&"function"==typeof t[n].isolateSource?r[n]=t[n].isolateSource(t[n],e):t.hasOwnProperty(n)&&(r[n]=t[n]);return r}function o(t,e,r){var n={};for(var i in e)e.hasOwnProperty(i)&&t[i]&&"function"==typeof t[i].isolateSink?n[i]=t[i].isolateSink(e[i],r):e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function s(t,e){void 0===e&&(e=r()),n(t,e);var s="string"==typeof e?e:e.toString();return function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var u=i(e,s),c=t.apply(void 0,[u].concat(r)),a=o(e,c,s);return a}}var u=0;s.reset=function(){return u=0},Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e){"use strict";function r(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)u[e]=t[e],c[t.charCodeAt(e)]=e;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63}function n(t){var e,r,n,i,o,s,u=t.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[u-2]?2:"="===t[u-1]?1:0,s=new a(3*u/4-o),n=o>0?u-4:u;var l=0;for(e=0,r=0;e<n;e+=4,r+=3)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[l++]=i>>16&255,s[l++]=i>>8&255,s[l++]=255&i;return 2===o?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[l++]=255&i):1===o&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[l++]=i>>8&255,s[l++]=255&i),s}function i(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function o(t,e,r){for(var n,o=[],s=e;s<r;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(i(n));return o.join("")}function s(t){for(var e,r=t.length,n=r%3,i="",s=[],c=16383,a=0,l=r-n;a<l;a+=c)s.push(o(t,a,a+c>l?l:a+c));return 1===n?(e=t[r-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),s.push(i),s.join("")}e.toByteArray=n,e.fromByteArray=s;var u=[],c=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array;r()},function(t,e,r){e=t.exports=r(152)(),e.push([t.i,'body{background-color:#eaeaea}.container{margin:2pc auto;width:550px;outline:3px solid brown;padding:1pc}.name{font-weight:bolder}.frames{clear:both;margin-top:5px;margin-bottom:5px}.clearfix:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.frame{height:50px;width:50px;text-align:right;background-color:orange;float:left;border-left:1pt solid #000;border-bottom:1pt solid #000;border-top:1pt solid #000}.frame.tenth{width:71px;border-right:1pt solid #000}.rollDisplay{padding-top:2pt;height:20px;width:20px;text-align:center;border-bottom:1pt solid #000;border-left:1pt solid #000;float:left}.rollDisplay:first-child{border:none;padding-left:8px}.scoreDisplay{padding-right:5px;margin-top:25px}button{background-color:green;color:#fff;height:20px;width:30px;border:none;padding:3px;margin:1pt}span.actions{cloat:left;margin-left:2pc}div.rollButtons{float:left;width:130px}button.rollButton{width:20px}button.newGame{background-color:red;width:40px}button.newGame:disabled{background-color:#d3d3d3}button.undo{background-color:orange;width:40px}button.undo:disabled{background-color:#d3d3d3}button.redo{background-color:green;width:40px}button.redo:disabled{background-color:#d3d3d3}button.delete{background-color:red;width:40px}button:disabled{background-color:#d3d3d3}input.name{float:left}.playerLabel{padding-right:5px;float:left;font-size:small}#title{padding-left:2pc;text-align:center}#title a{text-decoration:none;padding-left:1pc;padding-right:1pc}#title a:visited{color:#000}#footer{padding-left:2pc;text-align:right;font-size:small}#footer a{text-decoration:none}#footer a:hover{color:#fff;background-color:green}#title span{padding-left:.5pc;padding-right:.5pc}img{height:40px;width:40px}',""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),t.push(s))}},t}},function(t,e,r){function n(t,e){return function(r){return s(r,i(t),e||O)}}function i(t){for(var e in t)o(t,e)&&(t[e]=Function("return function(node, attr) { return node."+t[e]+" }"),t[e]=t[e]());return t}function o(t,e){return t.hasOwnProperty(e)&&"string"==typeof t[e]}function s(t,e,r){function n(t){var e;return"comma"===t.type?void g.unshift(m=[]):"op"===t.type||"any-child"===t.type?(m.unshift(y[t.data]),void m.unshift(o())):(m[0]=m[0]||o(),e=m[0],"!"===t.type?void(e.subject=g[0].subject=!0):void e.push("class"===t.type?s(t.type,t.data):"attr"===t.type?a(t):":"===t.type||"::"===t.type?v(t):"*"===t.type?Boolean:l(t.type,t.data,r)))}function i(t,e){function r(t){for(var e;t.length;)e=t.shift(),c.indexOf(e)===-1&&c.push(e)}var n,i,o,s,c;o=t,c=[];for(var a=0,l=g.length;a<l;++a){m=g[a],n=u,i=m.length,t=o,s=[];for(var f=0;f<i&&(t=n(t,m[f],s),t);f+=2)n=m[f+1];if(f>=i){if(e)return!0;r(m.subject?s:[o])}}return!e&&(!!c.length&&(1===c.length?c[0]:c))}function o(){function t(e,r){for(var n=0,i=t.bits.length;n<i;++n)if(!t.bits[n](e))return!1;return t.subject&&r.push(e),!0}return t.bits=[],t.subject=!1,t.push=function(e){t.bits.push(e)},t}function s(t,r){return function(n){var i=e[t](n);return i=Array.isArray(i)?i:i?i.toString().split(/\s+/):[],i.indexOf(r)>=0}}function a(t){return t.data.lhs?f(e.attr,t.data.lhs,t.data.cmp,t.data.rhs):f(e.attr,t.data)}function l(t,r,n){return function(i){return n(t,e[t](i),r)}}function h(t,r,n){do t=e.parent(t);while(t&&!r(t,n));return t}function p(t,r,n){return t=e.parent(t),t&&r(t,n)?t:null}function d(t,r,n){var i,o=e.parent(t),s=0;i=e.children(o);for(var u=0,c=i.length;u<c;++u)if(i[u]===t){s=u;break}return i[s-1]&&r(i[s-1],n)?i[s-1]:null}function b(t,r,n){var i,o=e.parent(t);i=e.children(o);for(var s=0,u=i.length;s<u;++s){if(i[s]===t)return null;if(r(i[s],n))return i[s]}return null}function v(t){return c(e,t.data,r)}var y,m,_=S(),g=[[]];return m=g[0],y={"":h,">":p,"+":d,"~":b},_.on("data",n).end(t),i}function u(t,e,r){return e(t,r)?t:null}function c(t,e,r){switch(e){case"empty":return d(t);case"first-child":return h(t);case"last-child":return p(t);case"root":return b(t)}return 0===e.indexOf("contains")?v(t,e.slice(9,-1)):0===e.indexOf("any")?l(t,e.slice(4,-1),r):0===e.indexOf("not")?a(t,e.slice(4,-1),r):0===e.indexOf("nth-child")?y(t,e.slice(10,-1)):function(){return!1}}function a(t,e,r){function n(t){return!i(t,!0)}var i=s(e,t,r);return n}function l(t,e,r){var n=s(e,t,r);return n}function f(t,e,r,n){return function(i){var o=t(i,e);return r?1===r.length?o==n:void 0!==o&&null!==o&&E[r.charAt(0)](o,n):!!o}}function h(t){return function(e){return t.children(t.parent(e))[0]===e}}function p(t){return function(e){var r=t.children(t.parent(e));return r[r.length-1]===e}}function d(t){return function(e){return 0===t.children(e).length}}function b(t){return function(e){return!t.parent(e)}}function v(t,e){return function(r){return t.contents(r).indexOf(e)!==-1}}function y(t,e){var r=function(){return!1};"odd"==e?e="2n+1":"even"==e&&(e="2n");var n=/( ?([-|\+])?(\d*)n)? ?((\+|-)? ?(\d+))? ?/,i=e.match(n);if(i){var o=0;if(i[1]){var s="-"!=i[2];o=parseInt(""==i[3]?1:i[3]),o*=s?1:-1}var u=0;if(i[4]){u=parseInt(i[6]);var c="-"!=i[5];u*=c?1:-1}0==o?0!=u&&(r=function(t,e){return t[u-1]===e}):r=function(t,e){for(var r=[],n=t.length,i=1;i<=n;i++){var s=(i-u)%o==0;s&&(o>0?r.push(i):(i-u)/o>=0&&r.push(i))}for(var c=0;c<r.length;c++)if(t[r[c]-1]===e)return!0;return!1}}return function(e){var n=t.children(t.parent(e));return r(n,e)}}function m(t,e){return t.slice(t.length-e.length)===e}function _(t,e){return t.slice(0,e.length)===e}function g(t,e){return t.indexOf(e)>-1}function w(t,e){return t.split(/\s+/).indexOf(e)>-1}function x(t,e){return t.split("-").indexOf(e)>-1}function O(t,e,r){return e===r}t.exports=n;var S=r(154),E={$:m,"^":_,"*":g,"~":w,"|":x}},function(t,e,r){function n(){function t(t){for($=$.concat(t.split("")),M=$.length;W<M&&(F=$[W++]);)switch(q){case h:r();break;case u:S();break;case p:O();break;case s:T();break;case c:A();break;case a:k();break;case f:case l:E();break;case o:j();break;case g:case m:case d:P()}$=$.slice(W)}function e(e){arguments.length&&t(e),V.length&&C.queue(I())}function r(){switch(!0){case"#"===F:q=g;break;case"."===F:q=d;break;case":"===F:q=f;break;case"["===F:q=s;break;case"!"===F:n();break;case"*"===F:w();break;case","===F:x();break;case/[>\+~]/.test(F):q=p;break;case/\s/.test(F):q=u;break;case/[\w\d\-_]/.test(F):q=m,--W}}function n(){q=y,V=["!"],C.queue(I()),q=h}function w(){q=_,V=["*"],C.queue(I()),q=h}function x(){q=b,V=[","],C.queue(I()),q=h}function O(){return/[>\+~]/.test(F)?V.push(F):void(/\s/.test(F)||(C.queue(I()),q=h,--W))}function S(){if(!/\s/.test(F)){if(/[>\+~]/.test(F))return--W,q=p;C.queue(I()),q=h,--W}}function E(){if(B=q,P(!0),q===h){if("("===F)return L=V.join(""),q=o,V.length=0,N=1,void++W;q=f,C.queue(I()),q=h}}function j(){if(0!==V.length||R||!(R=/['"]/.test(F)?F:null)){if(R)return U||F!==R?"\\"===F?void(U?V.push(F):U=!0):(U=!1,void V.push(F)):void(R=null);V.push(F),"("===F?++N:")"===F&&--N,N||(V.pop(),C.queue({type:B,data:L+"("+V.join("")+")"}),q=h,L=B=D=null,V.length=0)}}function T(){if(P(!0),q===h){if("]"===F)return q=v,C.queue(I()),void(q=h);L=V.join(""),V.length=0,q=c}}function A(){if(/[=~|$^*]/.test(F)&&V.push(F),2===V.length||"="===F)return D=V.join(""),V.length=0,q=a,void(R=null)}function k(){if(V.length||R||!(R=/['"]/.test(F)?F:null)){if(R)return U||F!==R?"\\"===F?(U&&V.push(F),void(U=!U)):(U=!1,void V.push(F)):void(R=null);P(!0),q===h&&(C.queue({type:v,data:{lhs:L,rhs:V.join(""),cmp:D}}),q=h,L=B=D=null,V.length=0)}}function P(t){return/[^\d\w\-_]/.test(F)&&!U?void("\\"===F?U=!0:(!t&&C.queue(I()),q=h,--W)):(U=!1,void V.push(F))}function I(){var t=V.join("");return V.length=0,{type:q,data:t}}var C,M,R,N,L,B,D,F,U=!1,V=[],q=h,$=[],W=0;return C=i(t,e)}t.exports=n;var i=r(506),o="pseudo-start",s="attr-start",u="any-child",c="attr-comp",a="attr-end",l="::",f=":",h="(ready)",p="op",d="class",b="comma",v="attr",y="!",m="tag",_="*",g="id"},function(t,e,r){"use strict";var n,i=r(165),o=r(173),s=r(20),u=r(14),c=Function.prototype.bind,a=Object.defineProperty,l=Object.prototype.hasOwnProperty;n=function(t,e,r){var n,o=u(e)&&s(e.value);return n=i(e),delete n.writable,delete n.value,n.get=function(){return l.call(this,t)?o:(e.value=c.call(o,null==r?this:this[r]),a(this,t,e),this[t])},n},t.exports=function(t){var e=arguments[1];return o(t,function(t,r){return n(r,t,e)})}},function(t,e,r){"use strict";var n=r(161),i=r(14),o=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,u=Math.abs,c=Math.floor;t.exports=function(t){var e,r,a,l;if(t===t)return o.apply(this,arguments);for(r=n(i(this).length),a=arguments[1],a=isNaN(a)?0:a>=0?c(a):n(this.length)-c(u(a)),e=a;e<r;++e)if(s.call(this,e)&&(l=this[e],l!==l))return e;return-1}},function(t,e,r){"use strict";t.exports=r(158)()?Math.sign:r(159)},function(t,e){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&t(-20)===-1)}},function(t,e){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,e,r){"use strict";var n=r(157),i=Math.abs,o=Math.floor;t.exports=function(t){return isNaN(t)?0:(t=Number(t),0!==t&&isFinite(t)?n(t)*o(i(t)):t)}},function(t,e,r){"use strict";var n=r(160),i=Math.max;t.exports=function(t){return i(0,n(t))}},function(t,e,r){"use strict";var n=r(20),i=r(14),o=Function.prototype.bind,s=Function.prototype.call,u=Object.keys,c=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(r,a){var l,f=arguments[2],h=arguments[3];return r=Object(i(r)),n(a),l=u(r),h&&l.sort("function"==typeof h?o.call(h,r):void 0),"function"!=typeof t&&(t=l[t]),s.call(t,l,function(t,n){return c.call(r,t)?s.call(a,f,r[t],t,r,n):e})}}},function(t,e){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,r){"use strict";var n=r(170),i=r(14),o=Math.max;t.exports=function(t,e){var r,s,u,c=o(arguments.length,2);for(t=Object(i(t)),u=function(n){try{t[n]=e[n]}catch(i){r||(r=i)}},s=1;s<c;++s)e=arguments[s],n(e).forEach(u);if(void 0!==r)throw r;return t}},function(t,e,r){"use strict";var n=r(53),i=r(14);t.exports=function(t){var e=Object(i(t));return e!==t?e:n({},t)}},function(t,e,r){"use strict";var n,i=Object.create;r(78)()||(n=r(79)),t.exports=function(){var t,e,r;return n?1!==n.level?i:(t={},e={},r={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(t){return"__proto__"===t?void(e[t]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(e[t]=r)}),Object.defineProperties(t,e),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:t}),function(e,r){return i(null===e?t:e,r)}):i}()},function(t,e,r){"use strict";t.exports=r(162)("forEach")},function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e){"use strict";var r={"function":!0,object:!0};t.exports=function(t){return null!=t&&r[typeof t]||!1}},function(t,e,r){"use strict";t.exports=r(171)()?Object.keys:r(172)},function(t,e){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e){"use strict";var r=Object.keys;t.exports=function(t){return r(null==t?t:Object(t))}},function(t,e,r){"use strict";var n=r(20),i=r(167),o=Function.prototype.call;t.exports=function(t,e){var r={},s=arguments[2];return n(e),i(t,function(t,n,i,u){r[n]=o.call(e,s,t,n,i,u)}),r}},function(t,e){"use strict";var r=Array.prototype.forEach,n=Object.create,i=function(t,e){var r;for(r in t)e[r]=t[r]};t.exports=function(t){var e=n(null);return r.call(arguments,function(t){null!=t&&i(Object(t),e)}),e}},function(t,e){"use strict";var r=Array.prototype.forEach,n=Object.create;t.exports=function(t){var e=n(null);return r.call(arguments,function(t){e[t]=!0}),e}},function(t,e){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(r.contains("dwa")===!0&&r.contains("foo")===!1)}},function(t,e){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,r){"use strict";var n,i=r(37),o=r(80),s=r(19),u=r(55),c=Object.defineProperty;n=t.exports=function(t,e){return this instanceof n?(u.call(this,t),e=e?o.call(e,"key+value")?"key+value":o.call(e,"key")?"key":"value":"value",void c(this,"__kind__",s("",e))):new n(t,e)},i&&i(n,u),n.prototype=Object.create(u.prototype,{constructor:s(n),_resolve:s(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t}),toString:s(function(){return"[object Array Iterator]"})})},function(t,e,r){"use strict";var n=r(52),i=r(20),o=r(54),s=r(180),u=Array.isArray,c=Function.prototype.call,a=Array.prototype.some;t.exports=function(t,e){var r,l,f,h,p,d,b,v,y=arguments[2];if(u(t)||n(t)?r="array":o(t)?r="string":t=s(t),i(e),f=function(){h=!0},"array"===r)return void a.call(t,function(t){if(c.call(e,y,t,f),h)return!0});if("string"!==r)for(l=t.next();!l.done;){if(c.call(e,y,l.value,f),h)return;l=t.next()}else for(d=t.length,p=0;p<d&&(b=t[p],p+1<d&&(v=b.charCodeAt(0),v>=55296&&v<=56319&&(b+=t[++p])),c.call(e,y,b,f),!h);++p);}},function(t,e,r){"use strict";var n=r(52),i=r(54),o=r(178),s=r(182),u=r(81),c=r(31).iterator;t.exports=function(t){return"function"==typeof u(t)[c]?t[c]():n(t)?new o(t):i(t)?new s(t):new o(t)}},function(t,e,r){"use strict";var n=r(52),i=r(54),o=r(31).iterator,s=Array.isArray;t.exports=function(t){return null!=t&&(!!s(t)||(!!i(t)||(!!n(t)||"function"==typeof t[o])))}},function(t,e,r){"use strict";var n,i=r(37),o=r(19),s=r(55),u=Object.defineProperty;n=t.exports=function(t){return this instanceof n?(t=String(t),s.call(this,t),void u(this,"__length__",o("",t.length))):new n(t)},i&&i(n,s),n.prototype=Object.create(s.prototype,{constructor:o(n),_next:o(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:o(function(t){var e,r=this.__list__[t];return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0),e>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r)}),toString:o(function(){return"[object String Iterator]"})})},function(t,e){"use strict";t.exports=function(){var t,e,r;if("function"!=typeof Map)return!1;try{t=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(n){return!1}return"[object Map]"===String(t)&&(3===t.size&&("function"==typeof t.clear&&("function"==typeof t["delete"]&&("function"==typeof t.entries&&("function"==typeof t.forEach&&("function"==typeof t.get&&("function"==typeof t.has&&("function"==typeof t.keys&&("function"==typeof t.set&&("function"==typeof t.values&&(e=t.entries(),r=e.next(),r.done===!1&&(!!r.value&&("raz"===r.value[0]&&"one"===r.value[1])))))))))))))}},function(t,e){"use strict";t.exports=function(){return"undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)}()},function(t,e,r){"use strict";t.exports=r(175)("key","value","key+value")},function(t,e,r){"use strict";var n,i=r(37),o=r(19),s=r(55),u=r(31).toStringTag,c=r(185),a=Object.defineProperties,l=s.prototype._unBind;n=t.exports=function(t,e){return this instanceof n?(s.call(this,t.__mapKeysData__,t),e&&c[e]||(e="key+value"),void a(this,{__kind__:o("",e),__values__:o("w",t.__mapValuesData__)})):new n(t,e)},i&&i(n,s),n.prototype=Object.create(s.prototype,{constructor:o(n),_resolve:o(function(t){return"value"===this.__kind__?this.__values__[t]:"key"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__values__[t]]}),_unBind:o(function(){this.__values__=null,l.call(this)}),toString:o(function(){return"[object Map Iterator]"})}),Object.defineProperty(n.prototype,u,o("c","Map Iterator"))},function(t,e,r){"use strict";var n,i=r(77),o=r(156),s=r(37),u=r(20),c=r(14),a=r(19),l=r(192),f=r(31),h=r(81),p=r(179),d=r(186),b=r(184),v=Function.prototype.call,y=Object.defineProperties,m=Object.getPrototypeOf;t.exports=n=function(){var t,e,r,i=arguments[0];if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");return r=b&&s&&Map!==n?s(new Map,m(this)):this,null!=i&&h(i),y(r,{__mapKeysData__:a("c",t=[]),__mapValuesData__:a("c",e=[])}),i?(p(i,function(r){var n=c(r)[0];r=r[1],o.call(t,n)===-1&&(t.push(n),e.push(r))},r),r):r},b&&(s&&s(n,Map),n.prototype=Object.create(Map.prototype,{constructor:a(n)})),l(y(n.prototype,{clear:a(function(){this.__mapKeysData__.length&&(i.call(this.__mapKeysData__),i.call(this.__mapValuesData__),this.emit("_clear"))}),"delete":a(function(t){var e=o.call(this.__mapKeysData__,t);return e!==-1&&(this.__mapKeysData__.splice(e,1),this.__mapValuesData__.splice(e,1),this.emit("_delete",e,t),!0)}),entries:a(function(){return new d(this,"key+value")}),forEach:a(function(t){var e,r,n=arguments[1];for(u(t),e=this.entries(),r=e._next();void 0!==r;)v.call(t,n,this.__mapValuesData__[r],this.__mapKeysData__[r],this),r=e._next()}),get:a(function(t){var e=o.call(this.__mapKeysData__,t);if(e!==-1)return this.__mapValuesData__[e]}),has:a(function(t){return o.call(this.__mapKeysData__,t)!==-1}),keys:a(function(){return new d(this,"key")}),set:a(function(t,e){var r,n=o.call(this.__mapKeysData__,t);return n===-1&&(n=this.__mapKeysData__.push(t)-1,r=!0),this.__mapValuesData__[n]=e,r&&this.emit("_add",n,t),this}),size:a.gs(function(){return this.__mapKeysData__.length}),values:a(function(){return new d(this,"value")}),toString:a(function(){return"[object Map]"})})),Object.defineProperty(n.prototype,f.iterator,a(function(){return this.entries()})),Object.defineProperty(n.prototype,f.toStringTag,a("c","Map"))},function(t,e){"use strict";var r={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(t,e){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,r){"use strict";var n,i,o,s,u=r(19),c=r(191),a=Object.create,l=Object.defineProperties,f=Object.defineProperty,h=Object.prototype,p=a(null);if("function"==typeof Symbol){n=Symbol;try{String(n()),s=!0}catch(d){}}var b=function(){var t=a(null);return function(e){for(var r,n,i=0;t[e+(i||"")];)++i;return e+=i||"",t[e]=!0,r="@@"+e,f(h,r,u.gs(null,function(t){n||(n=!0,f(this,r,u(t)),n=!1)})),r}}();o=function(t){if(this instanceof o)throw new TypeError("TypeError: Symbol is not a constructor");return i(t)},t.exports=i=function v(t){var e;if(this instanceof v)throw new TypeError("TypeError: Symbol is not a constructor");return s?n(t):(e=a(o.prototype),t=void 0===t?"":String(t),l(e,{__description__:u("",t),__name__:u("",b(t))}))},l(i,{"for":u(function(t){return p[t]?p[t]:p[t]=i(String(t))}),keyFor:u(function(t){var e;c(t);for(e in p)if(p[e]===t)return e}),hasInstance:u("",n&&n.hasInstance||i("hasInstance")),isConcatSpreadable:u("",n&&n.isConcatSpreadable||i("isConcatSpreadable")),iterator:u("",n&&n.iterator||i("iterator")),match:u("",n&&n.match||i("match")),replace:u("",n&&n.replace||i("replace")),search:u("",n&&n.search||i("search")),species:u("",n&&n.species||i("species")),split:u("",n&&n.split||i("split")),toPrimitive:u("",n&&n.toPrimitive||i("toPrimitive")),toStringTag:u("",n&&n.toStringTag||i("toStringTag")),unscopables:u("",n&&n.unscopables||i("unscopables"))}),l(o.prototype,{constructor:u(i),toString:u("",function(){return this.__name__})}),l(i.prototype,{toString:u(function(){return"Symbol ("+c(this).__description__+")"}),valueOf:u(function(){return c(this)})}),f(i.prototype,i.toPrimitive,u("",function(){var t=c(this);return"symbol"==typeof t?t:t.toString()})),f(i.prototype,i.toStringTag,u("c","Symbol")),f(o.prototype,i.toStringTag,u("c",i.prototype[i.toStringTag])),f(o.prototype,i.toPrimitive,u("c",i.prototype[i.toPrimitive]))},function(t,e,r){"use strict";var n=r(189);t.exports=function(t){if(!n(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,r){"use strict";var n,i,o,s,u,c,a,l=r(19),f=r(20),h=Function.prototype.apply,p=Function.prototype.call,d=Object.create,b=Object.defineProperty,v=Object.defineProperties,y=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};n=function(t,e){var r;return f(e),y.call(this,"__ee__")?r=this.__ee__:(r=m.value=d(null),b(this,"__ee__",m),m.value=null),r[t]?"object"==typeof r[t]?r[t].push(e):r[t]=[r[t],e]:r[t]=e,this},i=function(t,e){var r,i;return f(e),i=this,n.call(this,t,r=function(){o.call(i,t,r),h.call(e,this,arguments)}),r.__eeOnceListener__=e,this},o=function(t,e){var r,n,i,o;if(f(e),!y.call(this,"__ee__"))return this;if(r=this.__ee__,!r[t])return this;if(n=r[t],"object"==typeof n)for(o=0;i=n[o];++o)i!==e&&i.__eeOnceListener__!==e||(2===n.length?r[t]=n[o?0:1]:n.splice(o,1));else n!==e&&n.__eeOnceListener__!==e||delete r[t];return this},s=function(t){var e,r,n,i,o;if(y.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(r=arguments.length,o=new Array(r-1),e=1;e<r;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;n=i[e];++e)h.call(n,this,o)}else switch(arguments.length){case 1:p.call(i,this);break;case 2:p.call(i,this,arguments[1]);break;case 3:p.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),e=1;e<r;++e)o[e-1]=arguments[e];h.call(i,this,o)}},u={on:n,once:i,off:o,emit:s},c={on:l(n),once:l(i),off:l(o),emit:l(s)},a=v({},c),t.exports=e=function(t){return null==t?d(a):v(Object(t),c)},e.methods=u},function(t,e){e.read=function(t,e,r,n,i){var o,s,u=8*i-n-1,c=(1<<u)-1,a=c>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=u;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-a;else{if(o===c)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,n),o-=a}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,u,c,a=8*o-i-1,l=(1<<a)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+f>=1?h/c:h*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=l?(u=0,s=l):s+f>=1?(u=(e*c-1)*Math.pow(2,i),s+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&u,p+=d,u/=256,i-=8);for(s=s<<i|u,a+=i;a>0;t[r+p]=255&s,p+=d,s/=256,a-=8);t[r+p-d]|=128*b}},function(t,e,r){function n(t){return!!t&&"object"==typeof t}function i(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function o(t,e,r,s){s||(s=[]);for(var c=-1,f=t.length;++c<f;){var h=t[c];n(h)&&u(h)&&(r||l(h)||a(h))?e?o(h,e,r,s):i(s,h):r||(s[s.length]=h)}return s}function s(t){return function(e){return null==e?void 0:e[t]}}function u(t){return null!=t&&c(h(t))}function c(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}var a=r(87),l=r(88),f=9007199254740991,h=s("length");t.exports=o},function(t,e){function r(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),u=s.length;u--;){var c=s[t?u:++i];if(r(o[c],c,o)===!1)break}return e}}var n=r();t.exports=n},function(t,e){function r(t,e,r){if(e!==e)return n(t,r);for(var i=r-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}function n(t,e,r){for(var n=t.length,i=e+(r?0:-1);r?i--:++i<n;){var o=t[i];if(o!==o)return i}return-1}t.exports=r},function(t,e,r){function n(t,e){var r=-1,n=i,c=t.length,a=!0,l=a&&c>=u,f=l?s():null,h=[];f?(n=o,a=!1):(l=!1,f=e?[]:h);t:for(;++r<c;){var p=t[r],d=e?e(p,r,t):p;if(a&&p===p){for(var b=f.length;b--;)if(f[b]===d)continue t;e&&f.push(d),h.push(p)}else n(f,d,0)<0&&((e||l)&&f.push(d),h.push(p))}return h}var i=r(196),o=r(199),s=r(200),u=200;t.exports=n},function(t,e){function r(t,e,r){if("function"!=typeof t)return n;if(void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)};case 5:return function(r,n,i,o,s){return t.call(e,r,n,i,o,s)}}return function(){return t.apply(e,arguments)}}function n(t){return t}t.exports=r},function(t,e){function r(t,e){var r=t.data,i="string"==typeof e||n(e)?r.set.has(e):r.hash[e];return i?0:-1}function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=r},function(t,e,r){(function(e){function n(t){var e=t?t.length:0;for(this.data={hash:a(null),set:new c};e--;)this.push(t[e])}function i(t){var e=this.data;"string"==typeof t||s(t)?e.set.add(t):e.hash[t]=!0}function o(t){return a&&c?new n(t):null}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=r(84),c=u(e,"Set"),a=u(Object,"create");
n.prototype.push=i,t.exports=o}).call(e,r(27))},function(t,e,r){function n(t){return v[t]}function i(t){return!!t&&"object"==typeof t}function o(t){return"symbol"==typeof t||i(t)&&m.call(t)==l}function s(t){if("string"==typeof t)return t;if(null==t)return"";if(o(t))return _?w.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}function u(t){return t=s(t),t&&t.replace(f,n).replace(b,"")}var c=r(56),a=1/0,l="[object Symbol]",f=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,h="\\u0300-\\u036f\\ufe20-\\ufe23",p="\\u20d0-\\u20f0",d="["+h+p+"]",b=RegExp(d,"g"),v={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},y=Object.prototype,m=y.toString,_=c.Symbol,g=_?_.prototype:void 0,w=_?g.toString:void 0;t.exports=u},function(t,e,r){function n(t,e,r,n){var i=-1,o=t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function i(t){return function(e){return n(s(o(e)),t,"")}}var o=r(201),s=r(206),u=i(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()});t.exports=u},function(t,e,r){function n(t){return function(e){return null==e?void 0:e[t]}}function i(t){return null!=t&&s(m(t))}function o(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?y:e,t>-1&&t%1==0&&t<e}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function u(t){for(var e=a(t),r=e.length,n=r&&t.length,i=!!n&&s(n)&&(h(t)||f(t)),u=-1,c=[];++u<r;){var l=e[u];(i&&o(l,n)||b.call(t,l))&&c.push(l)}return c}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){if(null==t)return[];c(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(h(t)||f(t))&&e||0;for(var r=t.constructor,n=-1,i="function"==typeof r&&r.prototype===t,u=Array(e),a=e>0;++n<e;)u[n]=n+"";for(var l in t)a&&o(l,e)||"constructor"==l&&(i||!b.call(t,l))||u.push(l);return u}var l=r(84),f=r(87),h=r(88),p=/^\d+$/,d=Object.prototype,b=d.hasOwnProperty,v=l(Object,"keys"),y=9007199254740991,m=n("length"),_=v?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&i(t)?u(t):c(t)?v(t):[]}:u;t.exports=_},function(t,e){function r(t,e){if("function"!=typeof t)throw new TypeError(n);return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var r=arguments,n=-1,o=i(r.length-e,0),s=Array(o);++n<o;)s[n]=r[e+n];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,r[0],s);case 2:return t.call(this,r[0],r[1],s)}var u=Array(e+1);for(n=-1;++n<e;)u[n]=r[n];return u[e]=s,t.apply(this,u)}}var n="Expected a function",i=Math.max;t.exports=r},function(t,e,r){var n=r(194),i=r(197),o=r(204),s=o(function(t){return i(n(t,!1,!0))});t.exports=s},function(t,e,r){function n(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||n(t)&&Y.call(t)==a}function o(t){if("string"==typeof t)return t;if(null==t)return"";if(i(t))return X?G.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}function s(t,e,r){return t=o(t),e=r?void 0:e,void 0===e&&(e=W.test(t)?$:q),t.match(e)||[]}var u=r(56),c=1/0,a="[object Symbol]",l="\\ud800-\\udfff",f="\\u0300-\\u036f\\ufe20-\\ufe23",h="\\u20d0-\\u20f0",p="\\u2700-\\u27bf",d="a-z\\xdf-\\xf6\\xf8-\\xff",b="\\xac\\xb1\\xd7\\xf7",v="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",y="\\u2018\\u2019\\u201c\\u201d",m=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_="A-Z\\xc0-\\xd6\\xd8-\\xde",g="\\ufe0e\\ufe0f",w=b+v+y+m,x="["+w+"]",O="["+f+h+"]",S="\\d+",E="["+p+"]",j="["+d+"]",T="[^"+l+w+S+p+d+_+"]",A="\\ud83c[\\udffb-\\udfff]",k="(?:"+O+"|"+A+")",P="[^"+l+"]",I="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",M="["+_+"]",R="\\u200d",N="(?:"+j+"|"+T+")",L="(?:"+M+"|"+T+")",B=k+"?",D="["+g+"]?",F="(?:"+R+"(?:"+[P,I,C].join("|")+")"+D+B+")*",U=D+B+F,V="(?:"+[E,I,C].join("|")+")"+U,q=/[a-zA-Z0-9]+/g,$=RegExp([M+"?"+j+"+(?="+[x,M,"$"].join("|")+")",L+"+(?="+[x,M+N,"$"].join("|")+")",M+"?"+N+"+",M+"+",S,V].join("|"),"g"),W=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,z=Object.prototype,Y=z.toString,X=u.Symbol,H=X?X.prototype:void 0,G=X?H.toString:void 0;t.exports=s},function(t,e,r){t.exports=r(21)},function(t,e,r){"use strict";function n(){this.head=null,this.tail=null,this.length=0}var i=(r(18).Buffer,r(51));t.exports=n,n.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},n.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},n.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},n.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),r=this.head,n=0;r;)r.data.copy(e,n),n+=r.data.length,r=r.next;return e}},function(t,e,r){t.exports=r(89)},function(t,e,r){(function(n){var i=function(){try{return r(48)}catch(t){}}();e=t.exports=r(90),e.Stream=i||e,e.Readable=e,e.Writable=r(60),e.Duplex=r(21),e.Transform=r(59),e.PassThrough=r(89),!n.browser&&"disable"===n.env.READABLE_STREAM&&i&&(t.exports=i)}).call(e,r(25))},function(t,e,r){t.exports=r(59)},function(t,e,r){t.exports=r(60)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(1),o=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o},function(t,e){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e){"use strict";var r=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(4),o=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);r!==-1&&e.splice(r,1)}}},e}(i.Subscription);e.SubjectSubscription=o},function(t,e,r){"use strict";var n=r(0),i=r(362);n.Observable.bindCallback=i.bindCallback},function(t,e,r){"use strict";var n=r(0),i=r(363);n.Observable.bindNodeCallback=i.bindNodeCallback},function(t,e,r){"use strict";var n=r(0),i=r(364);n.Observable.combineLatest=i.combineLatest},function(t,e,r){"use strict";var n=r(0),i=r(365);n.Observable.concat=i.concat},function(t,e,r){"use strict";var n=r(0),i=r(366);n.Observable.defer=i.defer},function(t,e,r){"use strict";var n=r(0),i=r(368);n.Observable.ajax=i.ajax},function(t,e,r){"use strict";var n=r(0),i=r(369);n.Observable.webSocket=i.webSocket},function(t,e,r){"use strict";var n=r(0),i=r(370);n.Observable.empty=i.empty},function(t,e,r){"use strict";var n=r(0),i=r(371);n.Observable.forkJoin=i.forkJoin},function(t,e,r){"use strict";var n=r(0),i=r(372);n.Observable.from=i.from},function(t,e,r){"use strict";var n=r(0),i=r(373);n.Observable.fromEvent=i.fromEvent},function(t,e,r){"use strict";var n=r(0),i=r(374);n.Observable.fromEventPattern=i.fromEventPattern},function(t,e,r){"use strict";var n=r(0),i=r(375);n.Observable.fromPromise=i.fromPromise},function(t,e,r){"use strict";var n=r(0),i=r(352);n.Observable.generate=i.GenerateObservable.create},function(t,e,r){"use strict";var n=r(0),i=r(376);n.Observable["if"]=i._if},function(t,e,r){"use strict";var n=r(0),i=r(377);n.Observable.interval=i.interval},function(t,e,r){"use strict";var n=r(0),i=r(378);n.Observable.merge=i.merge},function(t,e,r){"use strict";var n=r(0),i=r(379);n.Observable.never=i.never},function(t,e,r){"use strict";var n=r(0),i=r(380);n.Observable.of=i.of},function(t,e,r){"use strict";var n=r(0),i=r(104);n.Observable.onErrorResumeNext=i.onErrorResumeNextStatic},function(t,e,r){"use strict";var n=r(0),i=r(381);n.Observable.pairs=i.pairs},function(t,e,r){"use strict";var n=r(0),i=r(105);n.Observable.race=i.raceStatic},function(t,e,r){"use strict";var n=r(0),i=r(382);n.Observable.range=i.range},function(t,e,r){"use strict";var n=r(0),i=r(383);n.Observable["throw"]=i._throw},function(t,e,r){"use strict";var n=r(0),i=r(384);n.Observable.timer=i.timer},function(t,e,r){"use strict";var n=r(0),i=r(385);n.Observable.using=i.using},function(t,e,r){"use strict";var n=r(0),i=r(386);n.Observable.zip=i.zip},function(t,e,r){"use strict";var n=r(0),i=r(387);n.Observable.prototype.audit=i.audit},function(t,e,r){"use strict";var n=r(0),i=r(388);n.Observable.prototype.auditTime=i.auditTime},function(t,e,r){"use strict";var n=r(0),i=r(389);n.Observable.prototype.buffer=i.buffer},function(t,e,r){"use strict";var n=r(0),i=r(390);n.Observable.prototype.bufferCount=i.bufferCount},function(t,e,r){"use strict";var n=r(0),i=r(391);n.Observable.prototype.bufferTime=i.bufferTime},function(t,e,r){"use strict";var n=r(0),i=r(392);n.Observable.prototype.bufferToggle=i.bufferToggle},function(t,e,r){"use strict";var n=r(0),i=r(393);n.Observable.prototype.bufferWhen=i.bufferWhen},function(t,e,r){"use strict";var n=r(0),i=r(394);n.Observable.prototype.cache=i.cache},function(t,e,r){"use strict";var n=r(0),i=r(395);n.Observable.prototype["catch"]=i._catch},function(t,e,r){"use strict";var n=r(0),i=r(396);n.Observable.prototype.combineAll=i.combineAll},function(t,e,r){"use strict";var n=r(0),i=r(63);n.Observable.prototype.combineLatest=i.combineLatest},function(t,e,r){"use strict";var n=r(0),i=r(64);n.Observable.prototype.concat=i.concat},function(t,e,r){"use strict";var n=r(0),i=r(397);n.Observable.prototype.concatAll=i.concatAll},function(t,e,r){"use strict";var n=r(0),i=r(398);n.Observable.prototype.concatMap=i.concatMap},function(t,e,r){"use strict";var n=r(0),i=r(399);n.Observable.prototype.concatMapTo=i.concatMapTo},function(t,e,r){"use strict";var n=r(0),i=r(400);n.Observable.prototype.count=i.count},function(t,e,r){"use strict";var n=r(0),i=r(401);n.Observable.prototype.debounce=i.debounce},function(t,e,r){"use strict";var n=r(0),i=r(402);n.Observable.prototype.debounceTime=i.debounceTime},function(t,e,r){"use strict";var n=r(0),i=r(403);n.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},function(t,e,r){"use strict";var n=r(0),i=r(404);n.Observable.prototype.delay=i.delay},function(t,e,r){"use strict";var n=r(0),i=r(405);n.Observable.prototype.delayWhen=i.delayWhen},function(t,e,r){"use strict";var n=r(0),i=r(406);n.Observable.prototype.dematerialize=i.dematerialize},function(t,e,r){"use strict";var n=r(0),i=r(96);n.Observable.prototype.distinct=i.distinct},function(t,e,r){"use strict";var n=r(0),i=r(407);n.Observable.prototype.distinctKey=i.distinctKey},function(t,e,r){"use strict";var n=r(0),i=r(97);n.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(t,e,r){"use strict";var n=r(0),i=r(408);n.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},function(t,e,r){"use strict";var n=r(0),i=r(409);n.Observable.prototype["do"]=i._do},function(t,e,r){"use strict";var n=r(0),i=r(410);n.Observable.prototype.elementAt=i.elementAt},function(t,e,r){"use strict";var n=r(0),i=r(411);n.Observable.prototype.every=i.every},function(t,e,r){"use strict";var n=r(0),i=r(412);n.Observable.prototype.exhaust=i.exhaust},function(t,e,r){"use strict";var n=r(0),i=r(413);n.Observable.prototype.exhaustMap=i.exhaustMap},function(t,e,r){"use strict";var n=r(0),i=r(414);n.Observable.prototype.expand=i.expand},function(t,e,r){"use strict";var n=r(0),i=r(98);n.Observable.prototype.filter=i.filter},function(t,e,r){"use strict";var n=r(0),i=r(415);n.Observable.prototype["finally"]=i._finally},function(t,e,r){"use strict";var n=r(0),i=r(99);n.Observable.prototype.find=i.find},function(t,e,r){"use strict";var n=r(0),i=r(416);n.Observable.prototype.findIndex=i.findIndex},function(t,e,r){"use strict";var n=r(0),i=r(417);n.Observable.prototype.first=i.first},function(t,e,r){"use strict";var n=r(0),i=r(418);n.Observable.prototype.groupBy=i.groupBy},function(t,e,r){"use strict";var n=r(0),i=r(419);n.Observable.prototype.ignoreElements=i.ignoreElements},function(t,e,r){"use strict";var n=r(0),i=r(420);n.Observable.prototype.isEmpty=i.isEmpty},function(t,e,r){"use strict";var n=r(0),i=r(421);n.Observable.prototype.last=i.last},function(t,e,r){"use strict";var n=r(0),i=r(422);n.Observable.prototype["let"]=i.letProto,n.Observable.prototype.letBind=i.letProto},function(t,e,r){"use strict";var n=r(0),i=r(100);n.Observable.prototype.map=i.map},function(t,e,r){"use strict";var n=r(0),i=r(423);n.Observable.prototype.mapTo=i.mapTo},function(t,e,r){"use strict";var n=r(0),i=r(424);n.Observable.prototype.materialize=i.materialize},function(t,e,r){"use strict";var n=r(0),i=r(425);n.Observable.prototype.max=i.max},function(t,e,r){"use strict";var n=r(0),i=r(101);n.Observable.prototype.merge=i.merge},function(t,e,r){"use strict";var n=r(0),i=r(41);n.Observable.prototype.mergeAll=i.mergeAll},function(t,e,r){"use strict";var n=r(0),i=r(102);n.Observable.prototype.mergeMap=i.mergeMap,n.Observable.prototype.flatMap=i.mergeMap},function(t,e,r){"use strict";var n=r(0),i=r(103);n.Observable.prototype.flatMapTo=i.mergeMapTo,n.Observable.prototype.mergeMapTo=i.mergeMapTo},function(t,e,r){"use strict";var n=r(0),i=r(426);n.Observable.prototype.mergeScan=i.mergeScan},function(t,e,r){"use strict";var n=r(0),i=r(427);n.Observable.prototype.min=i.min},function(t,e,r){"use strict";var n=r(0),i=r(26);n.Observable.prototype.multicast=i.multicast},function(t,e,r){"use strict";var n=r(0),i=r(65);n.Observable.prototype.observeOn=i.observeOn},function(t,e,r){"use strict";var n=r(0),i=r(104);n.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},function(t,e,r){"use strict";var n=r(0),i=r(428);n.Observable.prototype.pairwise=i.pairwise},function(t,e,r){"use strict";var n=r(0),i=r(429);n.Observable.prototype.partition=i.partition},function(t,e,r){"use strict";var n=r(0),i=r(430);n.Observable.prototype.pluck=i.pluck},function(t,e,r){"use strict";var n=r(0),i=r(431);n.Observable.prototype.publish=i.publish},function(t,e,r){"use strict";var n=r(0),i=r(432);n.Observable.prototype.publishBehavior=i.publishBehavior},function(t,e,r){"use strict";var n=r(0),i=r(433);n.Observable.prototype.publishLast=i.publishLast},function(t,e,r){"use strict";var n=r(0),i=r(434);n.Observable.prototype.publishReplay=i.publishReplay},function(t,e,r){"use strict";var n=r(0),i=r(105);n.Observable.prototype.race=i.race},function(t,e,r){"use strict";var n=r(0),i=r(66);n.Observable.prototype.reduce=i.reduce},function(t,e,r){"use strict";var n=r(0),i=r(435);n.Observable.prototype.repeat=i.repeat},function(t,e,r){"use strict";var n=r(0),i=r(436);n.Observable.prototype.retry=i.retry},function(t,e,r){"use strict";var n=r(0),i=r(437);n.Observable.prototype.retryWhen=i.retryWhen},function(t,e,r){"use strict";var n=r(0),i=r(438);n.Observable.prototype.sample=i.sample},function(t,e,r){"use strict";var n=r(0),i=r(439);n.Observable.prototype.sampleTime=i.sampleTime},function(t,e,r){"use strict";var n=r(0),i=r(440);n.Observable.prototype.scan=i.scan},function(t,e,r){"use strict";var n=r(0),i=r(441);n.Observable.prototype.share=i.share},function(t,e,r){"use strict";var n=r(0),i=r(442);n.Observable.prototype.single=i.single},function(t,e,r){"use strict";var n=r(0),i=r(443);n.Observable.prototype.skip=i.skip},function(t,e,r){"use strict";var n=r(0),i=r(444);n.Observable.prototype.skipUntil=i.skipUntil},function(t,e,r){"use strict";var n=r(0),i=r(445);n.Observable.prototype.skipWhile=i.skipWhile},function(t,e,r){"use strict";var n=r(0),i=r(446);n.Observable.prototype.startWith=i.startWith},function(t,e,r){"use strict";var n=r(0),i=r(447);n.Observable.prototype.subscribeOn=i.subscribeOn},function(t,e,r){"use strict";var n=r(0),i=r(448);n.Observable.prototype["switch"]=i._switch},function(t,e,r){"use strict";var n=r(0),i=r(449);n.Observable.prototype.switchMap=i.switchMap},function(t,e,r){"use strict";var n=r(0),i=r(450);n.Observable.prototype.switchMapTo=i.switchMapTo},function(t,e,r){"use strict";var n=r(0),i=r(451);n.Observable.prototype.take=i.take},function(t,e,r){"use strict";var n=r(0),i=r(452);n.Observable.prototype.takeLast=i.takeLast},function(t,e,r){"use strict";var n=r(0),i=r(453);n.Observable.prototype.takeUntil=i.takeUntil},function(t,e,r){"use strict";var n=r(0),i=r(454);n.Observable.prototype.takeWhile=i.takeWhile},function(t,e,r){"use strict";var n=r(0),i=r(455);n.Observable.prototype.throttle=i.throttle},function(t,e,r){"use strict";var n=r(0),i=r(456);n.Observable.prototype.throttleTime=i.throttleTime},function(t,e,r){"use strict";var n=r(0),i=r(106);n.Observable.prototype.timeInterval=i.timeInterval},function(t,e,r){"use strict";var n=r(0),i=r(457);n.Observable.prototype.timeout=i.timeout},function(t,e,r){"use strict";var n=r(0),i=r(458);n.Observable.prototype.timeoutWith=i.timeoutWith},function(t,e,r){"use strict";var n=r(0),i=r(107);n.Observable.prototype.timestamp=i.timestamp},function(t,e,r){"use strict";var n=r(0),i=r(459);n.Observable.prototype.toArray=i.toArray},function(t,e,r){"use strict";var n=r(0),i=r(460);n.Observable.prototype.toPromise=i.toPromise},function(t,e,r){"use strict";var n=r(0),i=r(461);n.Observable.prototype.window=i.window},function(t,e,r){"use strict";var n=r(0),i=r(462);n.Observable.prototype.windowCount=i.windowCount},function(t,e,r){"use strict";var n=r(0),i=r(463);n.Observable.prototype.windowTime=i.windowTime},function(t,e,r){"use strict";var n=r(0),i=r(464);n.Observable.prototype.windowToggle=i.windowToggle},function(t,e,r){"use strict";var n=r(0),i=r(465);n.Observable.prototype.windowWhen=i.windowWhen},function(t,e,r){"use strict";var n=r(0),i=r(466);n.Observable.prototype.withLatestFrom=i.withLatestFrom},function(t,e,r){"use strict";var n=r(0),i=r(67);n.Observable.prototype.zip=i.zipProto},function(t,e,r){"use strict";var n=r(0),i=r(467);n.Observable.prototype.zipAll=i.zipAll},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(62),s=r(16),u=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){var n=t.length;return 0===n?new s.EmptyObservable:1===n?new o.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,n=t.length,i=t.subscriber;if(!i.closed){if(r>=n)return void i.complete();i.next(e[r]),t.index=r+1,this.schedule(t)}},e.prototype._subscribe=function(t){var r=0,n=this,i=n.arrayLike,o=n.scheduler,s=i.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:i,index:r,length:s,subscriber:t});for(var u=0;u<s&&!t.closed;u++)t.next(i[u]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=u},function(t,e,r){"use strict";function n(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function i(t){var e=t.err,r=t.subject;r.error(e)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(0),u=r(10),c=r(7),a=r(39),l=function(t){function e(e,r,n,i){t.call(this),this.callbackFunc=e,this.selector=r,this.args=n,this.scheduler=i}return o(e,t),e.create=function(t,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,r,i,n)}},e.prototype._subscribe=function(t){var r=this.callbackFunc,n=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(e.dispatch,0,{source:this,subscriber:t});if(!o){o=this.subject=new a.AsyncSubject;var s=function f(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=f.source,n=r.selector,i=r.subject;if(n){var o=u.tryCatch(n).apply(this,t);o===c.errorObject?i.error(c.errorObject.e):(i.next(o),i.complete())}else i.next(1===t.length?t[0]:t),i.complete()};s.source=this;var l=u.tryCatch(r).apply(this,n.concat(s));l===c.errorObject&&o.error(c.errorObject.e)}return o.subscribe(t)},e.dispatch=function(t){var e=this,r=t.source,o=t.subscriber,s=r.callbackFunc,l=r.args,f=r.scheduler,h=r.subject;if(!h){h=r.subject=new a.AsyncSubject;var p=function b(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=b.source,s=o.selector,a=o.subject;if(s){var l=u.tryCatch(s).apply(this,t);l===c.errorObject?e.add(f.schedule(i,0,{err:c.errorObject.e,subject:a})):e.add(f.schedule(n,0,{value:l,subject:a}))}else{var h=1===t.length?t[0]:t;e.add(f.schedule(n,0,{value:h,subject:a}))}};p.source=r;var d=u.tryCatch(s).apply(this,l.concat(p));d===c.errorObject&&h.error(c.errorObject.e)}e.add(h.subscribe(o))},e}(s.Observable);e.BoundCallbackObservable=l},function(t,e,r){"use strict";function n(t){var e=this,r=t.source,n=t.subscriber,s=r,u=s.callbackFunc,f=s.args,h=s.scheduler,p=r.subject;if(!p){p=r.subject=new l.AsyncSubject;var d=function v(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=v.source,s=n.selector,u=n.subject,l=t.shift();if(l)u.error(l);else if(s){var f=c.tryCatch(s).apply(this,t);f===a.errorObject?e.add(h.schedule(o,0,{err:a.errorObject.e,subject:u})):e.add(h.schedule(i,0,{value:f,subject:u}))}else{var p=1===t.length?t[0]:t;e.add(h.schedule(i,0,{value:p,subject:u}))}};d.source=r;var b=c.tryCatch(u).apply(this,f.concat(d));b===a.errorObject&&p.error(a.errorObject.e)}e.add(p.subscribe(n))}function i(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function o(t){var e=t.err,r=t.subject;r.error(e)}var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=r(0),c=r(10),a=r(7),l=r(39),f=function(t){function e(e,r,n,i){t.call(this),this.callbackFunc=e,this.selector=r,this.args=n,this.scheduler=i}return s(e,t),e.create=function(t,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,r,i,n)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,r=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(n,0,{source:this,subscriber:t});if(!o){o=this.subject=new l.AsyncSubject;var s=function f(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=f.source,n=r.selector,i=r.subject,o=t.shift();if(o)i.error(o);else if(n){var s=c.tryCatch(n).apply(this,t);s===a.errorObject?i.error(a.errorObject.e):(i.next(s),i.complete())}else i.next(1===t.length?t[0]:t),i.complete()};s.source=this;var u=c.tryCatch(e).apply(this,r.concat(s));u===a.errorObject&&o.error(a.errorObject.e)}return o.subscribe(t)},e}(u.Observable);e.BoundNodeCallbackObservable=f},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(3),s=r(2),u=function(t){function e(e){t.call(this),this.observableFactory=e}return n(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new c(t,this.observableFactory)},e}(i.Observable);e.DeferObservable=u;var c=function(t){function e(e,r){t.call(this,e),this.factory=r,this.tryDefer()}return n(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=function(t){function e(e,r){t.call(this),this.error=e,this.scheduler=r}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.error,r=t.subscriber;r.error(e)},e.prototype._subscribe=function(t){var r=this.error,n=this.scheduler;return n?n.schedule(e.dispatch,0,{error:r,subscriber:t}):void t.error(r)},e}(i.Observable);e.ErrorObservable=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(16),s=r(12),u=r(3),c=r(2),a=function(t){function e(e,r){t.call(this),this.sources=e,this.resultSelector=r}return n(e,t),e.create=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];if(null===t||0===arguments.length)return new o.EmptyObservable;var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,n)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(i.Observable);e.ForkJoinObservable=a;var l=function(t){function e(e,r,n){t.call(this,e),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var i=r.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var s=r[o],c=u.subscribeToResult(this,s,null,o);c&&(c.outerIndex=o,this.add(c))}}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this,n=r.haveValues,i=r.resultSelector,o=r.values,s=o.length;if(!t._hasValue)return void e.complete();if(this.completed++,this.completed===s){if(n===s){var u=i?i.apply(this,o):o;e.next(u)}e.complete()}},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===t.toString()}function s(t){return!!t&&"[object HTMLCollection]"===t.toString()}function u(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var c=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=r(0),l=r(10),f=r(69),h=r(7),p=r(4),d=function(t){function e(e,r,n,i){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=n,this.options=i}return c(e,t),e.create=function(t,r,n,i){return f.isFunction(n)&&(i=n,n=void 0),new e(t,r,i,n)},e.setupSubscription=function(t,r,c,a,l){var f;if(o(t)||s(t))for(var h=0,d=t.length;h<d;h++)e.setupSubscription(t[h],r,c,a,l);else if(u(t)){var b=t;t.addEventListener(r,c,l),f=function(){return b.removeEventListener(r,c)}}else if(i(t)){var v=t;t.on(r,c),f=function(){return v.off(r,c)}}else if(n(t)){var y=t;t.addListener(r,c),f=function(){return y.removeListener(r,c)}}a.add(new p.Subscription(f))},e.prototype._subscribe=function(t){var r=this.sourceObj,n=this.eventName,i=this.options,o=this.selector,s=o?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=l.tryCatch(o).apply(void 0,e);n===h.errorObject?t.error(h.errorObject.e):t.next(n)}:function(e){return t.next(e)};e.setupSubscription(r,n,s,t,i)},e}(a.Observable);e.FromEventObservable=d},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(4),s=function(t){function e(e,r,n){t.call(this),this.addHandler=e,this.removeHandler=r,this.selector=n}return n(e,t),e.create=function(t,r,n){return new e(t,r,n)},e.prototype._subscribe=function(t){var e=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];e._callSelector(t,r)}:function(e){t.next(e)};this._callAddHandler(n,t),t.add(new o.Subscription(function(){r(n)}))},e.prototype._callSelector=function(t,e){try{var r=this.selector.apply(this,e);t.next(r)}catch(n){t.error(n)}},e.prototype._callAddHandler=function(t,e){try{this.addHandler(t)}catch(r){e.error(r)}},e}(i.Observable);e.FromEventPatternObservable=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(17),s=function(t){return t},u=function(t){function e(e,r,n,i,o){t.call(this),this.initialState=e,this.condition=r,this.iterate=n,this.resultSelector=i,this.scheduler=o}return n(e,t),e.create=function(t,r,n,i,u){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||s,t.scheduler):void 0===i||o.isScheduler(i)?new e(t,r,n,s,i):new e(t,r,n,i,u)},e.prototype._subscribe=function(t){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var n=this,i=n.condition,o=n.resultSelector,s=n.iterate;;){if(i){var u=void 0;try{u=i(r)}catch(c){return void t.error(c)}if(!u){t.complete();break}}var a=void 0;try{a=o(r)}catch(c){return void t.error(c)}if(t.next(a),t.closed)break;try{r=s(r)}catch(c){return void t.error(c)}}},e.dispatch=function(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(n){return void e.error(n)}else t.needIterate=!0;if(r){var i=void 0;try{i=r(t.state)}catch(n){return void e.error(n)}if(!i)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(n){return void e.error(n)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}},e}(i.Observable);e.GenerateObservable=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(3),s=r(2),u=function(t){function e(e,r,n){t.call(this),this.condition=e,this.thenSource=r,this.elseSource=n}return n(e,t),e.create=function(t,r,n){return new e(t,r,n)},e.prototype._subscribe=function(t){var e=this,r=e.condition,n=e.thenSource,i=e.elseSource;return new c(t,r,n,i)},e}(i.Observable);e.IfObservable=u;var c=function(t){function e(e,r,n,i){t.call(this,e),this.condition=r,this.thenSource=n,this.elseSource=i,this.tryIf()}return n(e,t),e.prototype.tryIf=function(){var t,e=this,r=e.condition,n=e.thenSource,i=e.elseSource;try{t=r();var s=t?n:i;s?this.add(o.subscribeToResult(this,s)):this._complete()}catch(u){this._error(u);
}},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(70),o=r(0),s=r(9),u=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=s.async),t.call(this),this.period=e,this.scheduler=r,(!i.isNumeric(e)||e<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=s.async)}return n(e,t),e.create=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=s.async),new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.subscriber,n=t.period;r.next(e),r.closed||(t.index+=1,this.schedule(t,n))},e.prototype._subscribe=function(t){var r=0,n=this.period,i=this.scheduler;t.add(i.schedule(e.dispatch,n,{index:r,subscriber:t,period:n}))},e}(o.Observable);e.IntervalObservable=u},function(t,e,r){"use strict";function n(t){var e=t[l.$$iterator];if(!e&&"string"==typeof t)return new h(t);if(!e&&void 0!==t.length)return new p(t);if(!e)throw new TypeError("object is not iterable");return t[l.$$iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function o(t){return"number"==typeof t&&c.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=r(8),a=r(0),l=r(35),f=function(t){function e(e,r){if(t.call(this),this.scheduler=r,null==e)throw new Error("iterator cannot be null.");this.iterator=n(e)}return u(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,n=t.iterator,i=t.subscriber;if(r)return void i.error(t.error);var o=n.next();return o.done?void i.complete():(i.next(o.value),t.index=e+1,void(i.closed||this.schedule(t)))},e.prototype._subscribe=function(t){var r=0,n=this,i=n.iterator,o=n.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,iterator:i,subscriber:t});for(;;){var s=i.next();if(s.done){t.complete();break}if(t.next(s.value),t.closed)break}},e}(a.Observable);e.IteratorObservable=f;var h=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),p=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=i(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(116),s=function(t){function e(){t.call(this)}return n(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(i.Observable);e.NeverObservable=s},function(t,e,r){"use strict";function n(t){var e=t.obj,r=t.keys,n=t.length,i=t.index,o=t.subscriber;if(i===n)return void o.complete();var s=r[i];o.next([s,e[s]]),t.index=i+1,this.schedule(t)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(0),s=function(t){function e(e,r){t.call(this),this.obj=e,this.scheduler=r,this.keys=Object.keys(e)}return i(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=e.keys,i=e.scheduler,o=r.length;if(i)return i.schedule(n,0,{obj:this.obj,keys:r,length:o,index:0,subscriber:t});for(var s=0;s<o;s++){var u=r[s];t.next([u,this.obj[u]])}t.complete()},e}(o.Observable);e.PairsObservable=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=function(t){function e(e,r,n){t.call(this),this.start=e,this._count=r,this.scheduler=n}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),void 0===r&&(r=0),new e(t,r,n)},e.dispatch=function(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;return r>=n?void i.complete():(i.next(e),void(i.closed||(t.index=r+1,t.start=e+1,this.schedule(t))))},e.prototype._subscribe=function(t){var r=0,n=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:r,count:i,start:n,subscriber:t});for(;;){if(r++>=i){t.complete();break}if(t.next(n++),t.closed)break}},e}(i.Observable);e.RangeObservable=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(109),s=r(70),u=function(t){function e(e,r,n){void 0===r&&(r=0),void 0===n&&(n=o.asap),t.call(this),this.source=e,this.delayTime=r,this.scheduler=n,(!s.isNumeric(r)||r<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=o.asap)}return n(e,t),e.create=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=o.asap),new e(t,r,n)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return e.subscribe(r)},e.prototype._subscribe=function(t){var r=this.delayTime,n=this.source,i=this.scheduler;return i.schedule(e.dispatch,r,{source:n,subscriber:t})},e}(i.Observable);e.SubscribeOnObservable=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(70),o=r(0),s=r(9),u=r(17),c=r(46),a=function(t){function e(e,r,n){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):u.isScheduler(r)&&(n=r),u.isScheduler(n)||(n=s.async),this.scheduler=n,this.dueTime=c.isDate(e)?+e-this.scheduler.now():e}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),new e(t,r,n)},e.dispatch=function(t){var e=t.index,r=t.period,n=t.subscriber,i=this;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,i.schedule(t,r)}},e.prototype._subscribe=function(t){var r=0,n=this,i=n.period,o=n.dueTime,s=n.scheduler;return s.schedule(e.dispatch,o,{index:r,period:i,subscriber:t})},e}(o.Observable);e.TimerObservable=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(3),s=r(2),u=function(t){function e(e,r){t.call(this),this.resourceFactory=e,this.observableFactory=r}return n(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e,r=this,n=r.resourceFactory,i=r.observableFactory;try{return e=n(),new c(t,e,i)}catch(o){t.error(o)}},e}(i.Observable);e.UsingObservable=u;var c=function(t){function e(e,r,n){t.call(this,e),this.resource=r,this.observableFactory=n,e.add(r),this.tryUse()}return n(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(o.subscribeToResult(this,t))}catch(e){this._error(e)}},e}(s.OuterSubscriber)},function(t,e,r){"use strict";var n=r(345);e.bindCallback=n.BoundCallbackObservable.create},function(t,e,r){"use strict";var n=r(346);e.bindNodeCallback=n.BoundNodeCallbackObservable.create},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,n=null;return i.isScheduler(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0]),new s.ArrayObservable(t,n).lift(new u.CombineLatestOperator(r))}var i=r(17),o=r(12),s=r(15),u=r(63);e.combineLatest=n},function(t,e,r){"use strict";var n=r(64);e.concat=n.concatStatic},function(t,e,r){"use strict";var n=r(347);e.defer=n.DeferObservable.create},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(1),s=r(0),u=r(4),c=r(8),a=r(40),l=r(10),f=r(7),h=r(484),p=function(t){function e(e,r){if(e instanceof s.Observable)t.call(this,r,e);else{if(t.call(this),this.WebSocketCtor=c.root.WebSocket,this._output=new i.Subject,"string"==typeof e?this.url=e:h.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new a.ReplaySubject}}return n(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var r=new e(this,this.destination);return r.operator=t,r},e.prototype.multiplex=function(t,e,r){var n=this;return new s.Observable(function(i){var o=l.tryCatch(t)();o===f.errorObject?i.error(f.errorObject.e):n.next(o);var s=n.subscribe(function(t){var e=l.tryCatch(r)(t);e===f.errorObject?i.error(f.errorObject.e):e&&i.next(t)},function(t){return i.error(t)},function(){return i.complete()});return function(){var t=l.tryCatch(e)();t===f.errorObject?i.error(f.errorObject.e):n.next(t),s.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,r=this.protocol?new e(this.url,this.protocol):new e(this.url);this.socket=r;var n=new u.Subscription(function(){t.socket=null,r&&1===r.readyState&&r.close()}),i=this._output;r.onopen=function(e){var s=t.openObserver;s&&s.next(e);var u=t.destination;t.destination=o.Subscriber.create(function(t){return 1===r.readyState&&r.send(t)},function(e){var n=t.closingObserver;n&&n.next(void 0),e&&e.code?r.close(e.code,e.reason):i.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t.destination=new a.ReplaySubject,t.socket=null},function(){var e=t.closingObserver;e&&e.next(void 0),r.close(),t.destination=new a.ReplaySubject,t.socket=null}),u&&u instanceof a.ReplaySubject&&n.add(u.subscribe(t.destination))},r.onerror=function(t){return i.error(t)},r.onclose=function(e){var r=t.closeObserver;r&&r.next(e),e.wasClean?i.complete():i.error(e)},r.onmessage=function(e){var r=l.tryCatch(t.resultSelector)(e);r===f.errorObject?i.error(f.errorObject.e):i.next(r)}},e.prototype._subscribe=function(t){var e=this,r=this.source;if(r)return r.subscribe(t);this.socket||this._connectSocket();var n=new u.Subscription;return n.add(this._output.subscribe(t)),n.add(function(){var t=e.socket;0===e._output.observers.length&&t&&1===t.readyState&&(t.close(),e.socket=null)}),n},e.prototype.unsubscribe=function(){var e=this,r=e.source,n=e.socket;n&&1===n.readyState&&(n.close(),this.socket=null),t.prototype.unsubscribe.call(this),r||(this.destination=new a.ReplaySubject)},e}(i.AnonymousSubject);e.WebSocketSubject=p},function(t,e,r){"use strict";var n=r(95);e.ajax=n.AjaxObservable.create},function(t,e,r){"use strict";var n=r(367);e.webSocket=n.WebSocketSubject.create},function(t,e,r){"use strict";var n=r(16);e.empty=n.EmptyObservable.create},function(t,e,r){"use strict";var n=r(349);e.forkJoin=n.ForkJoinObservable.create},function(t,e,r){"use strict";var n=r(92);e.from=n.FromObservable.create},function(t,e,r){"use strict";var n=r(350);e.fromEvent=n.FromEventObservable.create},function(t,e,r){"use strict";var n=r(351);e.fromEventPattern=n.FromEventPatternObservable.create},function(t,e,r){"use strict";var n=r(94);e.fromPromise=n.PromiseObservable.create},function(t,e,r){"use strict";var n=r(353);e._if=n.IfObservable.create},function(t,e,r){"use strict";var n=r(354);e.interval=n.IntervalObservable.create},function(t,e,r){"use strict";var n=r(101);e.merge=n.mergeStatic},function(t,e,r){"use strict";var n=r(356);e.never=n.NeverObservable.create},function(t,e,r){"use strict";var n=r(15);e.of=n.ArrayObservable.of},function(t,e,r){"use strict";var n=r(357);e.pairs=n.PairsObservable.create},function(t,e,r){"use strict";var n=r(358);e.range=n.RangeObservable.create},function(t,e,r){"use strict";var n=r(348);e._throw=n.ErrorObservable.create},function(t,e,r){"use strict";var n=r(360);e.timer=n.TimerObservable.create},function(t,e,r){"use strict";var n=r(361);e.using=n.UsingObservable.create},function(t,e,r){"use strict";var n=r(67);e.zip=n.zipStatic},function(t,e,r){"use strict";function n(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(10),s=r(7),u=r(2),c=r(3);e.audit=n;var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.durationSelector))},t}(),l=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1}return i(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=o.tryCatch(this.durationSelector)(t);e===s.errorObject?this.destination.error(s.errorObject.e):this.add(this.throttled=c.subscribeToResult(this,e))}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,r,n){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(u.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=s.async),this.lift(new c(t,e))}function i(t){t.clearThrottle()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(9),u=r(1);e.auditTime=n;var c=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.duration,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.duration=r,this.scheduler=n,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(i,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(u.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.buffer=n;var u=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.closingNotifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.buffer=[],this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=null),this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.bufferCount=n;var s=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.bufferSize,this.startBufferEvery))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[[]],this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.count+=1,r=this.destination,n=this.bufferSize,i=null==this.startBufferEvery?n:this.startBufferEvery,o=this.buffers,s=o.length,u=-1;e%i===0&&o.push([]);for(var c=0;c<s;c++){var a=o[c];a.push(t),a.length===n&&(u=c,r.next(a))}u!==-1&&o.splice(u,1)},e.prototype._complete=function(){for(var e=this.destination,r=this.buffers;r.length>0;){var n=r.shift();n.length>0&&e.next(n)}t.prototype._complete.call(this)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){var e=arguments.length,r=c.async;l.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),this.lift(new f(t,n,i,r))}function i(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function o(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext(),u=this;n.closed||(n.add(o.closeAction=i.schedule(s,r,{subscriber:n,context:o})),u.schedule(t,e))}function s(t){var e=t.subscriber,r=t.context;e.closeContext(r)}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=r(9),a=r(1),l=r(17);e.bufferTime=n;var f=function(){function t(t,e,r,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e._subscribe(new p(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),h=function(){function t(){this.buffer=[]}return t}(),p=function(t){function e(e,r,n,u,c){t.call(this,e),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.maxBufferSize=u,this.scheduler=c,this.contexts=[];var a=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var l={subscriber:this,context:a,bufferTimeSpan:r};this.add(a.closeAction=c.schedule(i,r,l))}else{var f={subscriber:this,context:a},h={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:c};this.add(a.closeAction=c.schedule(s,r,f)),this.add(c.schedule(o,n,h))}}return u(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,r=e.contexts,n=e.destination;r.length>0;){var i=r.shift();n.next(i.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(i,r,n))}},e.prototype.openContext=function(){var t=new h;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts,r=e?e.indexOf(t):-1;r>=0&&e.splice(e.indexOf(t),1)},e}(a.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new c(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(4),s=r(3),u=r(2);e.bufferToggle=n;var c=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.openings,this.closingSelector))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,r=e.call(this,t);r&&this.trySubscribe(r)}catch(n){this._error(n)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=[],n=new o.Subscription,i={buffer:r,subscription:n};e.push(i);var u=s.subscribeToResult(this,t,i);!u||u.closed?this.closeBuffer(i):(u.context=i,this.add(u),n.add(u))},e}(u.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new l(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(4),s=r(10),u=r(7),c=r(2),a=r(3);e.bufferWhen=n;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new f(t,this.closingSelector))},t}(),f=function(t){function e(e,r){t.call(this,e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,n,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=s.tryCatch(this.closingSelector)();r===u.errorObject?this.error(u.errorObject.e):(t=new o.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(a.subscribeToResult(this,r)),this.subscribing=!1)},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY);var n,s,u=this,c=0,a=function(){return n=new o.ReplaySubject(t,e,r)};return new i.Observable(function(t){n||(n=a(),s=u.subscribe(function(t){return n.next(t)},function(t){var e=n;n=null,e.error(t)},function(){return n.complete()})),c++,n||(n=a());var e=n.subscribe(t);return function(){c--,e&&e.unsubscribe(),0===c&&s.unsubscribe()}})}var i=r(0),o=r(40);e.cache=n},function(t,e,r){"use strict";function n(t){var e=new u(t),r=this.lift(e);return e.caught=r}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e._catch=n;var u=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.selector,this.caught))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.selector=r,this.caught=n}return i(e,t),e.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void this.destination.error(t)}this.unsubscribe(),this.destination.remove(this),s.subscribeToResult(this,e)}},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new i.CombineLatestOperator(t))}var i=r(63);e.combineAll=n},function(t,e,r){"use strict";function n(){return this.lift(new i.MergeAllOperator(1))}var i=r(41);e.concatAll=n},function(t,e,r){"use strict";function n(t,e){return this.lift(new i.MergeMapOperator(t,e,1))}var i=r(102);e.concatMap=n},function(t,e,r){"use strict";function n(t,e){return this.lift(new i.MergeMapToOperator(t,e,1))}var i=r(103);e.concatMapTo=n},function(t,e,r){"use strict";function n(t){return this.lift(new s(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.count=n;var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.source))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.count=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.debounce=n;var u=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return i(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=s.subscribeToResult(this,e),r.closed||this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=u.async),this.lift(new c(t,e))}function i(t){t.debouncedNext()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(1),u=r(9);e.debounceTime=n;var c=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.dueTime,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(s.Subscriber)},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=null),this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.defaultIfEmpty=n;var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.defaultValue))},t}(),u=function(t){function e(e,r){t.call(this,e),this.defaultValue=r,this.isEmpty=!0}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){void 0===e&&(e=o.async);var r=s.isDate(t),n=r?+t-e.now():Math.abs(t);return this.lift(new a(n,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(9),s=r(46),u=r(1),c=r(32);e.delay=n;var a=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return i(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var e=this.scheduler,r=new f(e.now()+this.delay,t);this.queue.push(r),this.active===!1&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(c.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(c.Notification.createComplete())},e}(u.Subscriber),f=function(){function t(t,e){this.time=t,this.notification=e}return t}()},function(t,e,r){"use strict";function n(t,e){return e?new f(this,e).lift(new a(t)):this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(0),u=r(2),c=r(3);e.delayWhen=n;var a=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.delayDurationSelector))},t}(),l=function(t){function e(e,r){t.call(this,e),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),r=null;return e!==-1&&(r=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),r},e.prototype.tryDelay=function(t,e){var r=c.subscribeToResult(this,t,e);this.add(r),this.delayNotifierSubscriptions.push(r),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(u.OuterSubscriber),f=function(t){
function e(e,r){t.call(this),this.source=e,this.subscriptionDelay=r}return i(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new h(t,this.source))},e}(s.Observable),h=function(t){function e(e,r){t.call(this),this.parent=e,this.source=r,this.sourceSubscribed=!1}return i(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.dematerialize=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){return i.distinct.call(this,function(r,n){return e?e(r[t],n[t]):r[t]===n[t]},r)}var i=r(96);e.distinctKey=n},function(t,e,r){"use strict";function n(t,e){return i.distinctUntilChanged.call(this,function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}var i=r(97);e.distinctUntilKeyChanged=n},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new s(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e._do=n;var s=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.nextOrObserver,this.error,this.complete))},t}(),u=function(t){function e(e,r,n,i){t.call(this,e);var s=new o.Subscriber(r,n,i);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return i(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(44);e.elementAt=n;var u=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.index,this.defaultValue))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.index=r,this.defaultValue=n}return i(e,t),e.prototype._next=function(t){0===this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?t.next(this.defaultValue):t.error(new s.ArgumentOutOfRangeError)),t.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.every=n;var s=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate,this.thisArg,this.source))},t}(),u=function(t){function e(e,r,n,i){t.call(this,e),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return this.lift(new u)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.exhaust=n;var u=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return i(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(s.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.exhaustMap=n;var u=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.resultSelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return i(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var n=this.project(t,e);this.hasSubscription=!0,this.add(s.subscribeToResult(this,n,t,e))}catch(i){r.error(i)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,r,n):u.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var i=this,o=i.resultSelector,s=i.destination;try{var u=o(t,e,r,n);s.next(u)}catch(c){s.error(c)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,this.lift(new a(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(10),s=r(7),u=r(2),c=r(3);e.expand=n;var a=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.project,this.concurrent,this.scheduler))},t}();e.ExpandOperator=a;var l=function(t){function e(e,r,n,i){t.call(this,e),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return i(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,i=t.index;e.subscribeToProjection(r,n,i)},e.prototype._next=function(t){var r=this.destination;if(r.closed)return void this._complete();var n=this.index++;if(this.active<this.concurrent){r.next(t);var i=o.tryCatch(this.project)(t,n);if(i===s.errorObject)r.error(s.errorObject.e);else if(this.scheduler){var u={subscriber:this,result:i,value:t,index:n};this.add(this.scheduler.schedule(e.dispatch,0,u))}else this.subscribeToProjection(i,t,n)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(c.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(u.OuterSubscriber);e.ExpandSubscriber=l},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(4);e._finally=n;var u=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.callback))},t}(),c=function(t){function e(e,r){t.call(this,e),this.add(new s.Subscription(r))}return i(e,t),e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new i.FindValueOperator(t,this,(!0),e))}var i=r(99);e.findIndex=n},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new u(t,e,r,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(45);e.first=n;var u=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1}return i(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(n){return void this.destination.error(n)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(n){return void this.destination.error(n)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;e.next(t),e.complete(),this.hasCompleted=!0},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new f(this,t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(4),u=r(0),c=r(6),a=r(482),l=r(480);e.groupBy=n;var f=function(){function t(t,e,r,n){this.source=t,this.keySelector=e,this.elementSelector=r,this.durationSelector=n}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.keySelector,this.elementSelector,this.durationSelector))},t}(),h=function(t){function e(e,r,n,i){t.call(this,e),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return i(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups="string"==typeof e?new l.FastMap:new a.Map);var n,i=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(o){this.error(o)}else n=t;if(!i){r.set(e,i=new c.Subject);var s=new d(e,i,this);if(this.destination.next(s),this.durationSelector){var u=void 0;try{u=this.durationSelector(new d(e,i))}catch(o){return void this.error(o)}this.add(u.subscribe(new p(e,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups["delete"](t)},e.prototype.unsubscribe=function(){this.closed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.Subscriber),p=function(t){function e(e,r,n){t.call(this),this.key=e,this.group=r,this.parent=n}return i(e,t),e.prototype._next=function(t){this._complete()},e.prototype._error=function(t){var e=this.group;e.closed||e.error(t),this.parent.removeGroup(this.key)},e.prototype._complete=function(){var t=this.group;t.closed||t.complete(),this.parent.removeGroup(this.key)},e}(o.Subscriber),d=function(t){function e(e,r,n){t.call(this),this.key=e,this.groupSubject=r,this.refCountSubscription=n}return i(e,t),e.prototype._subscribe=function(t){var e=new s.Subscription,r=this,n=r.refCountSubscription,i=r.groupSubject;return n&&!n.closed&&e.add(new b(n)),e.add(i.subscribe(t)),e},e}(u.Observable);e.GroupedObservable=d;var b=function(t){function e(e){t.call(this),this.parent=e,e.count++}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.Subscription)},function(t,e,r){"use strict";function n(){return this.lift(new u)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(116);e.ignoreElements=n;var u=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype._next=function(t){s.noop()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.isEmpty=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){return this.lift(new u(t,e,r,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(45);e.last=n;var u=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return i(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(n){return void this.destination.error(n)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(n){return void this.destination.error(n)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},function(t,e){"use strict";function r(t){return t(this)}e.letProto=r},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.mapTo=n;var s=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.value))},t}(),u=function(t){function e(e,r){t.call(this,e),this.value=r}return i(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return this.lift(new u)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(32);e.materialize=n;var u=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){this.destination.next(s.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(s.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(s.Notification.createComplete()),t.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){var e="function"==typeof t?t:function(t,e){return t>e?t:e};return this.lift(new i.ReduceOperator(e))}var i=r(66);e.max=n},function(t,e,r){"use strict";function n(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),this.lift(new a(t,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(10),s=r(7),u=r(3),c=r(2);e.mergeScan=n;var a=function(){function t(t,e,r){this.project=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.project,this.seed,this.concurrent))},t}();e.MergeScanOperator=a;var l=function(t){function e(e,r,n,i){t.call(this,e),this.project=r,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=o.tryCatch(this.project)(this.acc,t),n=this.destination;r===s.errorObject?n.error(s.errorObject.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){this.add(u.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(c.OuterSubscriber);e.MergeScanSubscriber=l},function(t,e,r){"use strict";function n(t){var e="function"==typeof t?t:function(t,e){return t<e?t:e};return this.lift(new i.ReduceOperator(e))}var i=r(66);e.min=n},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.pairwise=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return i(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e){return[o.filter.call(this,t),o.filter.call(this,i.not(t,e))]}var i=r(486),o=r(98);e.partition=n},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return o.map.call(this,i(t,r))}function i(t,e){var r=function(r){for(var n=r,i=0;i<e;i++){var o=n[t[i]];if("undefined"==typeof o)return;n=o}return n};return r}var o=r(100);e.pluck=n},function(t,e,r){"use strict";function n(t){return t?o.multicast.call(this,function(){return new i.Subject},t):o.multicast.call(this,new i.Subject)}var i=r(6),o=r(26);e.publish=n},function(t,e,r){"use strict";function n(t){return o.multicast.call(this,new i.BehaviorSubject(t))}var i=r(91),o=r(26);e.publishBehavior=n},function(t,e,r){"use strict";function n(){return o.multicast.call(this,new i.AsyncSubject)}var i=r(39),o=r(26);e.publishLast=n},function(t,e,r){"use strict";function n(t,e,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(t,e,r))}var i=r(40),o=r(26);e.publishReplay=n},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=-1),0===t?new s.EmptyObservable:t<0?this.lift(new u((-1),this)):this.lift(new u(t-1,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(16);e.repeat=n;var u=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.count,this.source))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return i(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,r=e.source,n=e.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,r.subscribe(this)}},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=-1),this.lift(new s(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.retry=n;var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,n.subscribe(this)}},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new l(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),s=r(10),u=r(7),c=r(2),a=r(3);e.retryWhen=n;var l=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new f(t,this.notifier,this.source))},t}(),f=function(t){function e(e,r,n){t.call(this,e),this.notifier=r,this.source=n}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new o.Subject,n=s.tryCatch(this.notifier)(r),n===u.errorObject)return t.prototype.error.call(this,u.errorObject.e);i=a.subscribeToResult(this,n)}this.unsubscribe(),this.closed=!1,this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,r=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.errors,u=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.errors=s,this.retries=u,this.retriesSubscription=c,this.source.subscribe(this)},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.sample=n;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=u.async),this.lift(new c(t,e))}function i(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(1),u=r(9);e.sampleTime=n;var c=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.period,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(i,r,{subscriber:this,period:r}))}return o(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(s.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.scan=n;var s=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.accumulator,this.seed))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.accumulator=r,this.index=0,this.accumulatorSet=!1,this.seed=n,this.accumulatorSet="undefined"!=typeof n}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.accumulatorSet=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){return this.accumulatorSet?this._tryNext(t):(this.seed=t,void this.destination.next(t))},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(n){this.destination.error(n)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){return new s.Subject}function i(){return o.multicast.call(this,n).refCount()}var o=r(26),s=r(6);e.share=i},function(t,e,r){"use strict";function n(t){return this.lift(new u(t,this))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(45);e.single=n;var u=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.source))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return i(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.predicate;this.index++,e?this.tryNext(t):this.applySingleValue(t)},e.prototype.tryNext=function(t){try{var e=this.predicate(t,this.index,this.source);e&&this.applySingleValue(t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.skip=n;var s=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return i(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.skipUntil=n;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.skipWhile=n;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate))},t}(),u=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(r){this.destination.error(r)}},e}(o.Subscriber)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];c.isScheduler(r)?t.pop():r=null;var n=t.length;return 1===n?u.concatStatic(new o.ScalarObservable(t[0],r),this):n>1?u.concatStatic(new i.ArrayObservable(t,r),this):u.concatStatic(new s.EmptyObservable(r),this)}var i=r(15),o=r(62),s=r(16),u=r(64),c=r(17);e.startWith=n},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),new i.SubscribeOnObservable(this,e,t)}var i=r(359);e.subscribeOn=n},function(t,e,r){"use strict";function n(){return this.lift(new u)}var i=this&&this.__extends||function(t,e){function r(){
this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e._switch=n;var u=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return i(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=s.subscribeToResult(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.switchMap=n;var u=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.resultSelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._tryNotifyNext(t,e,r,n):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(o){return void this.destination.error(o)}this.destination.next(i)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.switchMapTo=n;var u=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.observable,this.resultSelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.inner=r,this.resultSelector=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,u=o.destination;s?this.tryResultSelector(t,e,r,n):u.next(e)},e.prototype.tryResultSelector=function(t,e,r,n){var i,o=this,s=o.resultSelector,u=o.destination;try{i=s(t,e,r,n)}catch(c){return void u.error(c)}u.next(i)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return 0===t?new u.EmptyObservable:this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(44),u=r(16);e.take=n;var c=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.total;++this.count<=e&&(this.destination.next(t),this.count===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return 0===t?new u.EmptyObservable:this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(44),u=r(16);e.takeLast=n;var c=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,r){t.call(this,e),this.total=r,this.ring=new Array,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;if(e.length<r)e.push(t);else{var i=n%r;e[i]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=e++%r;t.next(n[o])}t.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.takeUntil=n;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.complete()},e.prototype.notifyComplete=function(){},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.takeWhile=n;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.predicate))},t}(),u=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.index=0}return i(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(n){return void r.error(n)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.throttle=n;var u=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.destination=e,this.durationSelector=r}return i(e,t),e.prototype._next=function(t){this.throttled||this.tryDurationSelector(t)},e.prototype.tryDurationSelector=function(t){var e=null;try{e=this.durationSelector(t)}catch(r){return void this.destination.error(r)}this.emitAndThrottle(t,e)},e.prototype.emitAndThrottle=function(t,e){this.add(this.throttled=s.subscribeToResult(this,e)),this.destination.next(t)},e.prototype._unsubscribe=function(){var t=this.throttled;t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype.notifyNext=function(t,e,r,n,i){this._unsubscribe()},e.prototype.notifyComplete=function(){this._unsubscribe()},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=u.async),this.lift(new c(t,e))}function i(t){var e=t.subscriber;e.clearThrottle()}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=r(1),u=r(9);e.throttleTime=n;var c=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.duration,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.duration=r,this.scheduler=n}return o(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(i,this.duration,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(s.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){void 0===e&&(e=null),void 0===r&&(r=o.async);var n=s.isDate(t),i=n?+t-r.now():Math.abs(t);return this.lift(new c(i,n,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(9),s=r(46),u=r(1);e.timeout=n;var c=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.errorToSend=r,this.scheduler=n}return t.prototype.call=function(t,e){return e._subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},t}(),a=function(t){function e(e,r,n,i,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=n,this.errorToSend=i,this.scheduler=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return i(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.notifyTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index;this.scheduler.schedule(e.dispatchTimeout,this.waitFor,{subscriber:this,index:t}),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},e}(u.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){void 0===r&&(r=o.async);var n=s.isDate(t),i=n?+t-r.now():Math.abs(t);return this.lift(new a(i,n,e,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(9),s=r(46),u=r(2),c=r(3);e.timeoutWith=n;var a=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l=function(t){function e(e,r,n,i,o){t.call(this),this.destination=e,this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,e.add(this),this.scheduleTimeout()}return i(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,r=t.index;e.hasCompleted||e.previousIndex!==r||e.handleTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index,r={subscriber:this,index:t};this.scheduler.schedule(e.dispatchTimeout,this.waitFor,r),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.handleTimeout=function(){if(!this.closed){var t=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=c.subscribeToResult(this,t))}},e}(u.OuterSubscriber)},function(t,e,r){"use strict";function n(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1);e.toArray=n;var s=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.array=[]}return i(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t){var e=this;if(t||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?t=i.root.Rx.config.Promise:i.root.Promise&&(t=i.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})}var i=r(8);e.toPromise=n},function(t,e,r){"use strict";function n(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),s=r(2),u=r(3);e.window=n;var c=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new a(t),n=e._subscribe(r);return n.closed||r.add(u.subscribeToResult(r,this.windowBoundaries)),n},t}(),a=function(t){function e(e){t.call(this,e),this.window=new o.Subject,e.next(this.window)}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new o.Subject;e.next(r)},e}(s.OuterSubscriber)},function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(1),s=r(6);e.windowCount=n;var u=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.windowSize,this.startWindowEvery))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.destination=e,this.windowSize=r,this.startWindowEvery=n,this.windows=[new s.Subject],this.count=0,e.next(this.windows[0])}return i(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,u=0;u<o&&!this.closed;u++)i[u].next(t);var c=this.count-n+1;if(c>=0&&c%e===0&&!this.closed&&i.shift().complete(),++this.count%e===0&&!this.closed){var a=new s.Subject;i.push(a),r.next(a)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(o.Subscriber)},function(t,e,r){"use strict";function n(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=a.async),this.lift(new f(t,e,r))}function i(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&n.complete(),t.window=e.openWindow(),this.schedule(t,r)}function o(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),u=this,c={action:u,subscription:null},a={subscriber:r,window:o,context:c};c.subscription=n.schedule(s,e,a),u.add(c.subscription),u.schedule(t,i)}function s(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=r(6),a=r(9),l=r(1);e.windowTime=n;var f=function(){function t(t,e,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.scheduler=r}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},t}(),h=function(t){function e(e,r,n,u){if(t.call(this,e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=n,this.scheduler=u,this.windows=[],null!==n&&n>=0){var c=this.openWindow(),a={subscriber:this,window:c,context:null},l={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:u};this.add(u.schedule(s,r,a)),this.add(u.schedule(o,n,l))}else{var f=this.openWindow(),h={subscriber:this,window:f,windowTimeSpan:r};this.add(u.schedule(i,r,h))}}return u(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;n<r;n++){var i=e[n];i.closed||i.next(t)}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new c.Subject;this.windows.push(t);var e=this.destination;return e.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(l.Subscriber)},function(t,e,r){"use strict";function n(t,e){return this.lift(new f(t,e))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),s=r(4),u=r(10),c=r(7),a=r(2),l=r(3);e.windowToggle=n;var f=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new h(t,this.openings,this.closingSelector))},t}(),h=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,r,r))}return i(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,n,i){if(t===this.openings){var a=this.closingSelector,f=u.tryCatch(a)(e);if(f===c.errorObject)return this.error(c.errorObject.e);var h=new o.Subject,p=new s.Subscription,d={window:h,subscription:p};this.contexts.push(d);var b=l.subscribeToResult(this,f,d);b.closed?this.closeWindow(this.contexts.length-1):(b.context=d,p.add(b)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var e=this.contexts,r=e[t],n=r.window,i=r.subscription;e.splice(t,1),n.complete(),i.unsubscribe()}},e}(a.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new l(t))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(6),s=r(10),u=r(7),c=r(2),a=r(3);e.windowWhen=n;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new f(t,this.closingSelector))},t}(),f=function(t){function e(e,r){t.call(this,e),this.destination=e,this.closingSelector=r,this.openWindow()}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new o.Subject;this.destination.next(r);var n=s.tryCatch(this.closingSelector)();if(n===u.errorObject){var i=u.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=a.subscribeToResult(this,n))},e}(c.OuterSubscriber)},function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return this.lift(new u(n,r))}var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=r(2),s=r(3);e.withLatestFrom=n;var u=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.observables,this.project))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var o=0;o<i;o++)this.toRespond.push(o);for(var o=0;o<i;o++){var u=r[o];this.add(s.subscribeToResult(this,u,u,o))}}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(o.OuterSubscriber)},function(t,e,r){"use strict";function n(t){return this.lift(new i.ZipOperator(t))}var i=r(67);e.zipAll=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(4),o=function(t){function e(e,r){t.call(this)}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(i.Subscription);e.Action=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(33),o=r(479),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=o.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.recycleAsyncId.call(this,e,r,n):void(0===e.actions.length&&(o.AnimationFrame.cancelAnimationFrame(r),e.scheduled=void 0))},e}(i.AsyncAction);e.AnimationFrameAction=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(34),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var t,e=this.actions,r=-1,n=e.length,i=e.shift();do if(t=i.execute(i.state,i.delay))break;while(++r<n&&(i=e.shift()));if(this.active=!1,t){for(;++r<n&&(i=e.shift());)i.unsubscribe();throw t}},e}(i.AsyncScheduler);e.AnimationFrameScheduler=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(481),o=r(33),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=i.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.recycleAsyncId.call(this,e,r,n):void(0===e.actions.length&&(i.Immediate.clearImmediate(r),e.scheduled=void 0))},e}(o.AsyncAction);e.AsapAction=s},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(34),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(){this.active=!0,this.scheduled=void 0;var t,e=this.actions,r=-1,n=e.length,i=e.shift();do if(t=i.execute(i.state,i.delay))break;while(++r<n&&(i=e.shift()));if(this.active=!1,t){for(;++r<n&&(i=e.shift());)i.unsubscribe();throw t}},e}(i.AsyncScheduler);e.AsapScheduler=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(33),o=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(i.AsyncAction);e.QueueAction=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(34),o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(i.AsyncScheduler);e.QueueScheduler=o},function(t,e,r){"use strict";var n=r(469),i=r(470);e.animationFrame=new i.AnimationFrameScheduler(n.AnimationFrameAction)},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(4),s=r(112),u=r(114),c=function(t){function e(e,r){t.call(this,function(t){var e=this,r=e.logSubscribedFrame();return t.add(new o.Subscription(function(){e.logUnsubscribedFrame(r)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=r}return n(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,r=0;r<e;r++){var n=this.messages[r];t.add(this.scheduler.schedule(function(t){var e=t.message,r=t.subscriber;e.notification.observe(r)},n.frame,{message:n,subscriber:t}))}},e}(i.Observable);e.ColdObservable=c,u.applyMixins(c,[s.SubscriptionLoggable])},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(6),o=r(4),s=r(112),u=r(114),c=function(t){function e(e,r){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=r}return n(e,t),e.prototype._subscribe=function(e){var r=this,n=r.logSubscribedFrame();return e.add(new o.Subscription(function(){r.logUnsubscribedFrame(n)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,r=0;r<e;r++)!function(){var e=t.messages[r];t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(i.Subject);e.HotObservable=c,u.applyMixins(c,[s.SubscriptionLoggable])},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=r(0),o=r(32),s=r(476),u=r(477),c=r(111),a=r(108),l=function(t){function e(e){t.call(this),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return n(e,t),e.prototype.createTime=function(t){var r=t.indexOf("|");if(r===-1)throw new Error('marble diagram for time should have a completion marker "|"');return r*e.frameTimeFactor},e.prototype.createColdObservable=function(t,r,n){if(t.indexOf("^")!==-1)throw new Error('cold observable cannot have subscription offset "^"');if(t.indexOf("!")!==-1)throw new Error('cold observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,r,n),o=new s.ColdObservable(i,this);return this.coldObservables.push(o),o},e.prototype.createHotObservable=function(t,r,n){if(t.indexOf("!")!==-1)throw new Error('hot observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,r,n),o=new u.HotObservable(i,this);return this.hotObservables.push(o),o},e.prototype.materializeInnerObservable=function(t,e){var r=this,n=[];return t.subscribe(function(t){n.push({frame:r.frame-e,notification:o.Notification.createNext(t)})},function(t){n.push({frame:r.frame-e,notification:o.Notification.createError(t)})},function(){n.push({frame:r.frame-e,notification:o.Notification.createComplete()})}),n},e.prototype.expectObservable=function(t,r){var n=this;void 0===r&&(r=null);var s,u=[],c={actual:u,ready:!1},a=e.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule(function(){s=t.subscribe(function(t){var e=t;t instanceof i.Observable&&(e=n.materializeInnerObservable(e,n.frame)),u.push({frame:n.frame,notification:o.Notification.createNext(e)})},function(t){u.push({frame:n.frame,notification:o.Notification.createError(t)})},function(){u.push({frame:n.frame,notification:o.Notification.createComplete()})})},0),a!==Number.POSITIVE_INFINITY&&this.schedule(function(){return s.unsubscribe()},a),this.flushTests.push(c),{toBe:function(t,r,n){
c.ready=!0,c.expected=e.parseMarbles(t,r,n,!0)}}},e.prototype.expectSubscriptions=function(t){var r={actual:t,ready:!1};return this.flushTests.push(r),{toBe:function(t){var n="string"==typeof t?[t]:t;r.ready=!0,r.expected=n.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var r=this.flushTests.filter(function(t){return t.ready});r.length>0;){var n=r.shift();this.assertDeepEqual(n.actual,n.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new c.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,r=-1,n=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<e;o++){var s=o*this.frameTimeFactor,u=t[o];switch(u){case"-":case" ":break;case"(":r=s;break;case")":r=-1;break;case"^":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:s;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+u+"'.")}}return i<0?new c.SubscriptionLog(n):new c.SubscriptionLog(n,i)},e.parseMarbles=function(t,e,r,n){if(void 0===n&&(n=!1),t.indexOf("!")!==-1)throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=t.length,u=[],c=t.indexOf("^"),a=c===-1?0:c*-this.frameTimeFactor,l="object"!=typeof e?function(t){return t}:function(t){return n&&e[t]instanceof s.ColdObservable?e[t].messages:e[t]},f=-1,h=0;h<i;h++){var p=h*this.frameTimeFactor+a,d=void 0,b=t[h];switch(b){case"-":case" ":break;case"(":f=p;break;case")":f=-1;break;case"|":d=o.Notification.createComplete();break;case"^":break;case"#":d=o.Notification.createError(r||"error");break;default:d=o.Notification.createNext(l(b))}d&&u.push({frame:f>-1?f:p,notification:d})}return u},e}(a.VirtualTimeScheduler);e.TestScheduler=l},function(t,e,r){"use strict";var n=r(8),i=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}();e.RequestAnimationFrameDefinition=i,e.AnimationFrame=new i(n.root)},function(t,e){"use strict";var r=function(){function t(){this.values={}}return t.prototype["delete"]=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&t.call(e,r[n],n)},t.prototype.clear=function(){this.values={}},t}();e.FastMap=r},function(t,e,r){"use strict";(function(t,n){var i=r(8),o=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function r(t){delete r.instance.tasksByHandle[t]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=function i(){var t=i,e=t.handler,r=t.args;"function"==typeof e?e.apply(void 0,r):new Function(""+e)()};return n.handler=t,n.args=e,n},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",r=function i(r){var n=i.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&n.runIfPresent(+r.data.slice(e.length))};r.instance=this,t.addEventListener("message",r,!1);var n=function o(){var t=o,e=t.messagePrefix,r=t.instance,n=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(e+n,"*"),n};return n.instance=this,n.messagePrefix=e,n},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var r=e.data;t.runIfPresent(r)};var r=function n(){var t=n,e=t.channel,r=t.instance,i=r.addFromSetImmediateArguments(arguments);return e.port2.postMessage(i),i};return r.channel=e,r.instance=this,r},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function e(){var t=e.instance,r=t.root,n=r.document,i=n.documentElement,o=t.addFromSetImmediateArguments(arguments),s=n.createElement("script");return s.onreadystatechange=function(){t.runIfPresent(o),s.onreadystatechange=null,i.removeChild(s),s=null},i.appendChild(s),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return t.instance=this,t},t}();e.ImmediateDefinition=o,e.Immediate=new o(i.root)}).call(e,r(36).clearImmediate,r(36).setImmediate)},function(t,e,r){"use strict";var n=r(8),i=r(483);e.Map=n.root.Map||function(){return i.MapPolyfill}()},function(t,e){"use strict";var r=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return e===-1?void 0:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return r===-1?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return e!==-1&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}();e.MapPolyfill=r},function(t,e,r){"use strict";var n=r(8),i=n.root.Object;"function"!=typeof i.assign&&!function(){i.assign=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(void 0===t||null===t)throw new TypeError("cannot convert undefined or null to object");for(var n=i(t),o=e.length,s=0;s<o;s++){var u=e[s];if(void 0!==u&&null!==u)for(var c in u)u.hasOwnProperty(c)&&(n[c]=u[c])}return n}}(),e.assign=i.assign},function(t,e){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},function(t,e){"use strict";function r(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}e.not=r},function(t,e,r){"use strict";function n(t,e,r){if(t){if(t instanceof i.Subscriber)return t;if(t[o.$$rxSubscriber])return t[o.$$rxSubscriber]()}return t||e||r?new i.Subscriber(t,e,r):new i.Subscriber}var i=r(1),o=r(43);e.toSubscriber=n},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(){}Object.defineProperty(e,"__esModule",{value:!0});var o=r(153),s=n(o),u=r(71),c=n(u),a=r(117),l=n(a);i.prototype.tag=function(t){return(0,c["default"])(t.sel).tagName},i.prototype["class"]=function(t){return(0,l["default"])(t)},i.prototype.id=function(t){return t.data&&t.data.props&&t.data.props.id?t.data.props.id:(0,c["default"])(t.sel).id},i.prototype.children=function(t){return t.children||[]},i.prototype.parent=function(t){return t.parent||t},i.prototype.contents=function(t){return t.text},i.prototype.attr=function(t,e){if(t.data){var r=t.data,n=r.attrs,i=void 0===n?{}:n,o=r.props,s=void 0===o?{}:o;if(i[e])return i[e];if(s[e])return s[e]}};var f=(0,s["default"])(new i);e["default"]=f},function(t,e){t.exports={a:!0,defs:!0,glyph:!0,g:!0,marker:!0,mask:!0,"missing-glyph":!0,pattern:!0,svg:!0,"switch":!0,symbol:!0,desc:!0,metadata:!0,title:!0}},function(t,e,r){var n=r(491);t.exports=n([r(492),r(493)])},function(t,e,r){var n=r(119),i=r(494),o=r(489);t.exports=function(t){function e(e){return t.reduce(function(t,r){return t.push(r(e)),t},[]).filter(function(t){return""!==t})}return function r(t){if(!t.sel&&t.text)return t.text;t.data=t.data||{},"string"==typeof t.sel&&"thunk"===t.sel.slice(0,5)&&(t=t.data.fn.apply(null,t.data.args));var s=n(t.sel).tagName,u=e(t),c="http://www.w3.org/2000/svg"===t.data.ns,a=[];return a.push("<"+s),u.length&&a.push(" "+u.join(" ")),c&&o[s]!==!0&&a.push(" /"),a.push(">"),(i[s]!==!0&&!c||c&&o[s]===!0)&&(t.data.props&&t.data.props.innerHTML?a.push(t.data.props.innerHTML):t.text?a.push(t.text):t.children&&t.children.forEach(function(t){a.push(r(t))}),a.push("</"+s+">")),a.join("")}}},function(t,e,r){function n(t,e){i(t,function(t,r){return"htmlFor"===r?void(e["for"]=t):"className"===r?void(e["class"]=t.split(" ")):void("innerHTML"!==r&&(e[r]=t))})}var i=r(86),o=r(85),s=r(205),u=r(119);t.exports=function c(t){var e=u(t.sel),r=e.className.split(" "),c=[],a=[],l={};return e.id&&(l.id=e.id),n(t.data.props,l),n(t.data.attrs,l),t.data["class"]&&(l["class"]=void 0),i(t.data["class"],function(t,e){t===!0&&a.push(e)}),a=s(a,l["class"],r).filter(function(t){return""!==t}),a.length&&(l["class"]=a.join(" ")),i(l,function(t,e){c.push(t===!0?e:e+'="'+o(t)+'"')}),c.length?c.join(" "):""}},function(t,e,r){var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=r(86),o=r(85),s=r(202);t.exports=function u(t){var e=[],u=t.data.style||{};return u.delayed&&n(u,u.delayed),i(u,function(t,r){"string"==typeof t&&e.push(s(r)+": "+o(t))}),e.length?'style="'+e.join("; ")+'"':""}},function(t,e){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(t,e,r){function n(t,e){if(t.ns="http://www.w3.org/2000/svg",void 0!==e)for(var r=0;r<e.length;++r)n(e[r].data,e[r].children)}var i=r(72),o=r(47);t.exports=function(t,e,r){var s,u,c,a={};if(3===arguments.length?(a=e,o.array(r)?s=r:o.primitive(r)&&(u=r)):2===arguments.length&&(o.array(e)?s=e:o.primitive(e)?u=e:a=e),o.array(s))for(c=0;c<s.length;++c)o.primitive(s[c])&&(s[c]=i(void 0,void 0,void 0,s[c]));return"s"===t[0]&&"v"===t[1]&&"g"===t[2]&&n(a,s),i(t,a,s,u,void 0)}},function(t,e){function r(t){return document.createElement(t)}function n(t,e){return document.createElementNS(t,e)}function i(t){return document.createTextNode(t)}function o(t,e,r){t.insertBefore(e,r)}function s(t,e){t.removeChild(e)}function u(t,e){t.appendChild(e)}function c(t){return t.parentElement}function a(t){return t.nextSibling}function l(t){return t.tagName}function f(t,e){t.textContent=e}t.exports={createElement:r,createElementNS:n,createTextNode:i,appendChild:u,removeChild:s,insertBefore:o,parentNode:c,nextSibling:a,tagName:l,setTextContent:f}},function(t,e){function r(t,e){var r,n,o,s=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};for(r in c)n=c[r],o=u[r],o!==n&&(!n&&i[r]?s.removeAttribute(r):s.setAttribute(r,n));for(r in u)r in c||s.removeAttribute(r)}for(var n=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"],i={},o=0,s=n.length;o<s;o++)i[n[o]]=!0;t.exports={create:r,update:r}},function(t,e){function r(t,e){var r,n,i=e.elm,o=t.data["class"]||{},s=e.data["class"]||{};for(n in o)s[n]||i.classList.remove(n);for(n in s)r=s[n],r!==o[n]&&i.classList[r?"add":"remove"](n)}t.exports={create:r,update:r}},function(t,e,r){function n(t){return function(){2===t.length?t[0](t[1]):t[0].apply(void 0,t.slice(1))}}function i(t){return function(e){t.fn(e)}}function o(t,e){var r,o,u,c=e.elm,a=t.data.on||{},l=e.data.on;if(l)for(r in l)if(o=l[r],u=a[r],void 0===u)s.array(o)?c.addEventListener(r,n(o)):(o={fn:o},l[r]=o,c.addEventListener(r,i(o)));else if(s.array(u)){u.length=o.length;for(var f=0;f<u.length;++f)u[f]=o[f];l[r]=u}else u.fn=o,l[r]=u}var s=r(47);t.exports={create:o,update:o}},function(t,e){function r(t,e,r){b(function(){t[e]=r})}function n(t){var e;if(document.createRange){var r=document.createRange();r.selectNodeContents(t),r.getBoundingClientRect&&(e=r.getBoundingClientRect())}return e}function i(t,e,r){if(t&&e){var n=e.left+e.width/2-r.left,i=e.top+e.height/2-r.top;return n+"px "+i+"px"}return"0 0"}function o(t,e){return t&&e?t.left+t.width/2-(e.left+e.width/2):0}function s(t,e){return t&&e?t.top+t.height/2-(e.top+e.height/2):0}function u(t){return 1===t.childNodes.length&&3===t.childNodes[0].nodeType}function c(t,e){h={},p=[]}function a(t,e){var r=e.data.hero;r&&r.id&&(p.push(r.id),p.push(e))}function l(t){var e=t.data.hero;if(e&&e.id){var r=t.elm;t.isTextNode=u(r),t.boundingRect=r.getBoundingClientRect(),t.textRect=t.isTextNode?n(r.childNodes[0]):null;var i=window.getComputedStyle(r,null);t.savedStyle=JSON.parse(JSON.stringify(i)),h[e.id]=t}}function f(){var t,e,c,a,l,f,d,b,v,y,m,_,g,w,x,O,S,E,j;for(t=0;t<p.length;t+=2)if(e=p[t],c=p[t+1].elm,a=h[e]){S=a.isTextNode&&u(c),w=c.style,O=window.getComputedStyle(c,null),l=a.elm,x=l.style,v=c.getBoundingClientRect(),b=a.boundingRect,S?(E=n(c.childNodes[0]),j=a.textRect,y=o(j,E),m=s(j,E)):(y=b.left-v.left,m=b.top-v.top),f=v.height/Math.max(b.height,1),d=S?f:v.width/Math.max(b.width,1),_=w.transform,g=w.transition,"inline"===O.display&&(w.display="inline-block"),w.transition=g+"transform 0s",w.transformOrigin=i(S,E,v),w.opacity="0",w.transform=_+"translate("+y+"px, "+m+"px) scale("+1/d+", "+1/f+")",r(w,"transition",g),r(w,"transform",_),r(w,"opacity","1");for(var T in a.savedStyle)if(parseInt(T)!=T){var A="ms"===T.substring(0,2),k="moz"===T.substring(0,3),P="webkit"===T.substring(0,6);A||k||P||(x[T]=a.savedStyle[T])}x.position="absolute",x.top=b.top+"px",x.left=b.left+"px",x.width=b.width+"px",x.height=b.height+"px",x.margin=0,x.transformOrigin=i(S,j,b),x.transform="",x.opacity="1",document.body.appendChild(l),r(x,"transform","translate("+-y+"px, "+-m+"px) scale("+d+", "+f+")"),r(x,"opacity","0"),l.addEventListener("transitionend",function(t){"transform"===t.propertyName&&document.body.removeChild(t.target)})}h=p=void 0}var h,p,d="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,b=function(t){d(function(){d(t)})};t.exports={pre:c,create:a,destroy:l,post:f}},function(t,e){function r(t,e){var r,n,i,o=e.elm,s=t.data.props||{},u=e.data.props||{};for(r in s)u[r]||delete o[r];for(r in u)n=u[r],i=s[r],i===n||"value"===r&&o[r]===n||(o[r]=n)}t.exports={create:r,update:r}},function(t,e){function r(t,e,r){u(function(){t[e]=r})}function n(t,e){var n,i,o=e.elm,s=t.data.style||{},u=e.data.style||{},c="delayed"in s;for(i in s)u[i]||(o.style[i]="");for(i in u)if(n=u[i],"delayed"===i)for(i in u.delayed)n=u.delayed[i],c&&n===s.delayed[i]||r(o.style,i,n);else"remove"!==i&&n!==s[i]&&(o.style[i]=n)}function i(t){var e,r,n=t.elm,i=t.data.style;if(i&&(e=i.destroy))for(r in e)n.style[r]=e[r]}function o(t,e){var r=t.data.style;if(!r||!r.remove)return void e();var n,i,o=t.elm,s=0,u=r.remove,c=0,a=[];for(n in u)a.push(n),o.style[n]=u[n];i=getComputedStyle(o);for(var l=i["transition-property"].split(", ");s<l.length;++s)a.indexOf(l[s])!==-1&&c++;o.addEventListener("transitionend",function(t){t.target===o&&--c,0===c&&e()})}var s="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,u=function(t){s(function(){s(t)})};t.exports={create:n,update:n,destroy:i,remove:o}},function(t,e,r){"use strict";function n(t){return void 0===t}function i(t){return void 0!==t}function o(t,e){return t.key===e.key&&t.sel===e.sel}function s(t,e,r){var n,o,s={};for(n=e;n<=r;++n)o=t[n].key,i(o)&&(s[o]=n);return s}function u(t,e){function r(t){return c(e.tagName(t).toLowerCase(),{},[],void 0,t)}function u(t,r){return function(){if(0===--r){var n=e.parentNode(t);e.removeChild(n,t)}}}function p(t,r){var n,o,s=t.data;i(s)&&(i(n=s.hook)&&i(n=n.init)&&n(t),i(n=s.vnode)&&(o=t,t=n));var u,c=t.children,l=t.sel;if(i(l)){var h=l.indexOf("#"),d=l.indexOf(".",h),b=h>0?h:l.length,v=d>0?d:l.length,y=h!==-1||d!==-1?l.slice(0,Math.min(b,v)):l;if(u=t.elm=i(s)&&i(n=s.ns)?e.createElementNS(n,y):e.createElement(y),b<v&&(u.id=l.slice(b+1,v)),d>0&&(u.className=l.slice(v+1).replace(/\./g," ")),a.array(c))for(n=0;n<c.length;++n)e.appendChild(u,p(c[n],r));else a.primitive(t.text)&&e.appendChild(u,e.createTextNode(t.text));for(n=0;n<w.create.length;++n)w.create[n](f,t);n=t.data.hook,i(n)&&(n.create&&n.create(f,t),n.insert&&r.push(t))}else u=t.elm=e.createTextNode(t.text);return i(o)&&(o.elm=t.elm),t.elm}function d(t,r,n,i,o,s){for(;i<=o;++i)e.insertBefore(t,p(n[i],s),r)}function b(t){var e,r,n=t.data;if(i(n)){for(i(e=n.hook)&&i(e=e.destroy)&&e(t),e=0;e<w.destroy.length;++e)w.destroy[e](t);if(i(e=t.children))for(r=0;r<t.children.length;++r)b(t.children[r]);i(e=n.vnode)&&b(e)}}function v(t,r,n,o){for(;n<=o;++n){var s,c,a,l=r[n];if(i(l))if(i(l.sel)){for(b(l),c=w.remove.length+1,a=u(l.elm,c),s=0;s<w.remove.length;++s)w.remove[s](l,a);i(s=l.data)&&i(s=s.hook)&&i(s=s.remove)?s(l,a):a()}else e.removeChild(t,l.elm)}}function y(t,r,i,u){for(var c,a,l,f,h=0,b=0,y=r.length-1,_=r[0],g=r[y],w=i.length-1,x=i[0],O=i[w];h<=y&&b<=w;)n(_)?_=r[++h]:n(g)?g=r[--y]:o(_,x)?(m(_,x,u),_=r[++h],x=i[++b]):o(g,O)?(m(g,O,u),g=r[--y],O=i[--w]):o(_,O)?(m(_,O,u),e.insertBefore(t,_.elm,e.nextSibling(g.elm)),_=r[++h],O=i[--w]):o(g,x)?(m(g,x,u),e.insertBefore(t,g.elm,_.elm),g=r[--y],x=i[++b]):(n(c)&&(c=s(r,h,y)),a=c[x.key],n(a)?(e.insertBefore(t,p(x,u),_.elm),x=i[++b]):(l=r[a],m(l,x,u),r[a]=void 0,e.insertBefore(t,l.elm,_.elm),x=i[++b]));h>y?(f=n(i[w+1])?null:i[w+1].elm,d(t,f,i,b,w,u)):b>w&&v(t,r,h,y)}function m(t,r,s){var u,c;if(i(u=r.data)&&i(c=u.hook)&&i(u=c.prepatch)&&u(t,r),i(u=t.data)&&i(u=u.vnode)&&(t=u),i(u=r.data)&&i(u=u.vnode))return m(t,u,s),void(r.elm=u.elm);var a=r.elm=t.elm,l=t.children,f=r.children;if(t!==r){if(!o(t,r)){var h=e.parentNode(t.elm);return a=p(r,s),e.insertBefore(h,a,t.elm),void v(h,[t],0,0)}if(i(r.data)){for(u=0;u<w.update.length;++u)w.update[u](t,r);u=r.data.hook,i(u)&&i(u=u.update)&&u(t,r)}n(r.text)?i(l)&&i(f)?l!==f&&y(a,l,f,s):i(f)?(i(t.text)&&e.setTextContent(a,""),d(a,null,f,0,f.length-1,s)):i(l)?v(a,l,0,l.length-1):i(t.text)&&e.setTextContent(a,""):t.text!==r.text&&e.setTextContent(a,r.text),i(c)&&i(u=c.postpatch)&&u(t,r)}}var _,g,w={};for(n(e)&&(e=l),_=0;_<h.length;++_)for(w[h[_]]=[],g=0;g<t.length;++g)void 0!==t[g][h[_]]&&w[h[_]].push(t[g][h[_]]);return function(t,i){var s,u,c,a=[];for(s=0;s<w.pre.length;++s)w.pre[s]();for(n(t.sel)&&(t=r(t)),o(t,i)?m(t,i,a):(u=t.elm,c=e.parentNode(u),p(i,a),null!==c&&(e.insertBefore(c,i.elm,e.nextSibling(u)),v(c,[t],0,0))),s=0;s<a.length;++s)a[s].data.hook.insert(a[s]);for(s=0;s<w.post.length;++s)w.post[s]();return i}}var c=r(72),a=r(47),l=r(496),f=c("",{},[],void 0,void 0),h=["create","update","remove","destroy","pre","post"];t.exports={init:u}},function(t,e,r){function n(t){var e=t.data;e.vnode=e.fn.apply(void 0,e.args)}function i(t,e){var r,n=t.data,i=e.data,o=n.args,s=i.args;if(i.vnode=n.vnode,n.fn!==i.fn||o.length!==s.length)return void(i.vnode=i.fn.apply(void 0,s));for(r=0;r<s.length;++r)if(o[r]!==s[r])return void(i.vnode=i.fn.apply(void 0,s))}var o=r(495);t.exports=function(t,e){var r,s=[];for(r=2;r<arguments.length;++r)s[r-2]=arguments[r];return o("thunk"+t,{hook:{init:n,prepatch:i},fn:e,args:s})}},function(t,e){function r(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=h[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(c(n.parts[o],e))}else{for(var s=[],o=0;o<n.parts.length;o++)s.push(c(n.parts[o],e));h[n.id]={id:n.id,refs:1,parts:s}}}}function n(t){for(var e=[],r={},n=0;n<t.length;n++){var i=t[n],o=i[0],s=i[1],u=i[2],c=i[3],a={css:s,media:u,sourceMap:c};r[o]?r[o].parts.push(a):e.push(r[o]={id:o,parts:[a]})}return e}function i(t,e){var r=b(),n=m[m.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function o(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var r,n,i;if(e.singleton){var c=y++;r=v||(v=s(e)),n=a.bind(null,r,c,!1),i=a.bind(null,r,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=u(e),n=f.bind(null,r),i=function(){o(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(e),n=l.bind(null,r),i=function(){o(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function a(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function l(t,e){var r=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function f(t,e){var r=e.css,n=e.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([r],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var h={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},d=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),b=p(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,y=0,m=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=d()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var i=n(t);return r(i,e),function(t){for(var o=[],s=0;s<i.length;s++){var u=i[s],c=h[u.id];c.refs--,o.push(c)}if(t){var a=n(t);r(a,e)}for(var s=0;s<o.length;s++){var c=o[s];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete h[c.id]}}}};var _=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e,r){(function(n){function i(t,e,r){function i(){for(;a.length&&!f.paused;){var t=a.shift();if(null===t)return f.emit("end");f.emit("data",t)}}function s(){f.writable=!1,e.call(f),!f.readable&&f.autoDestroy&&f.destroy()}t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var u=!1,c=!1,a=[],l=!1,f=new o;return f.readable=f.writable=!0,f.paused=!1,f.autoDestroy=!(r&&r.autoDestroy===!1),f.write=function(e){return t.call(this,e),!f.paused},f.queue=f.push=function(t){return l?f:(null===t&&(l=!0),a.push(t),i(),f)},f.on("end",function(){f.readable=!1,!f.writable&&f.autoDestroy&&n.nextTick(function(){f.destroy()})}),f.end=function(t){if(!u)return u=!0,arguments.length&&f.write(t),s(),f},f.destroy=function(){if(!c)return c=!0,u=!0,a.length=0,f.writable=f.readable=!1,f.emit("close"),f},f.pause=function(){if(!f.paused)return f.paused=!0,f},f.resume=function(){return f.paused&&(f.paused=!1,f.emit("resume")),i(),f.paused||f.emit("drain"),f},f}var o=r(48);e=t.exports=i,i.through=i}).call(e,r(25))},function(t,e,r){"use strict";function n(){function t(t,e){return function(){var r=i.mbl2str$(t);i.expect(o.displayer$(r)).toBeStreamOf(e)}}i.test("empty",t("-|","")),i.test("gutter",t("-0|","-")),i.test("strike",t("-10|"," X")),i.test("other",t("-1|","1")),i.test("other",t("-9|","9")),i.test("two rolls",t("-0-9|","-9")),i.test("spare",t("-5-5|","5/")),i.test("tenth frame",function(){var e="-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0",r="------------------";i.test("spare",t(e+"-0-10|",r+"-/")),i.test("spare/non",t(e+"-0-10-0|",r+"-/-")),i.test("spare/strike",t(e+"-0-10-10|",r+"-/X")),i.test("strike",t(e+"-10|",r+"X")),i.test("strike/non",t(e+"-10-0|",r+"X-")),i.test("strike/open",t(e+"-10-0-0|",r+"X--")),i.test("strike/spare",t(e+"-10-0-10|",r+"X-/")),i.test("double",t(e+"-10-10|",r+"XX")),i.test("turkey",t(e+"-10-10-10|",r+"XXX"))})}var i=r(11),o=r(121);e.displayerTests=n},function(t,e,r){"use strict";function n(){function t(t,e,r){return function(){return i.expect(o.enabler(t,e)).toBe(r)}}i.test("empty",t("",[],10)),i.test("gutter",t("-",[0],10)),i.test("other",t("4",[4],6)),i.test("open",t("44",[8],10)),i.test("spare",t("4/",[],10)),i.test("spare/other",t("4/4",[],6)),i.test("tenth frame",function(){var e="------------------",r=[0,0,0,0,0,0,0,0,0];i.test("gutter",t(e+"-",r.concat(0),10)),i.test("other",t(e+"3",r.concat(3),7)),i.test("open",t(e+"34",r.concat(7),-1)),i.test("partial spare",t(e+"3/",r,10)),i.test("complete spare",t(e+"3/2",r.concat(12),-1)),i.test("strike",t(e+"X",r,10)),i.test("strike/gutter",t(e+"X-",r,10)),i.test("strike/other",t(e+"X3",r,7)),i.test("strike/open",t(e+"X34",r.concat(13),-1)),i.test("strike/spare",t(e+"X3/",r.concat(20),-1)),i.test("double",t(e+"XX",r,10)),i.test("double/gutter",t(e+"XX-",r.concat(20),-1)),i.test("double/other",t(e+"XX3",r.concat(23),-1)),i.test("turkey",t(e+"XXX",r.concat(30),-1))})}var i=r(11),o=r(122);e.enablerTests=n},function(t,e,r){"use strict";function n(){u.test("confirm actions from DOM",function(){[[o.mockDOMSource(s["default"],{".rollButton":{click:i.Observable.of({target:{innerHTML:"5"}})}}),{type:"ROLL",payload:5}],[o.mockDOMSource(s["default"],{".newGame":{click:i.Observable.of({})}}),{type:"NEW GAME"}],[o.mockDOMSource(s["default"],{".undo":{click:i.Observable.of({})}}),{type:"UNDO"}],[o.mockDOMSource(s["default"],{".redo":{click:i.Observable.of({})}}),{type:"REDO"}],[o.mockDOMSource(s["default"],{".delete":{click:i.Observable.of({})}}),{type:"DELETE"}]].forEach(function(t){var e=t[0],r=t[1];return u.test(r,function(){u.expect(c.intent(e).isEmpty()).toBeStreamOf(!1),u.expect(c.intent(e)).toBeStreamOf(r)})})})}var i=r(5),o=r(13),s=r(29),u=r(11),c=r(123);e.testBowlingLineIntent=n},function(t,e,r){"use strict";function n(){var t={id:1,name:"Andrew"},e=s.Observable.of(t);o.test("empty game",function(){o.expect(i.model(s.Observable.empty(),e)).toBeStreamOf(["",[],!1,!1,t])}),o.test("gutter roll action",function(){o.expect(i.model(s.Observable.of({type:"ROLL",payload:0}),e).last()).toBeStreamOf(["-",[0],!0,!1,t])}),o.test("other roll action",function(){o.expect(i.model(s.Observable.of({type:"ROLL",payload:1}),e).last()).toBeStreamOf(["1",[1],!0,!1,t])}),o.test("two roll actions",function(){o.expect(i.model(s.Observable.merge(s.Observable.of({type:"ROLL",payload:1}),s.Observable.of({type:"ROLL",payload:2})),e).skip(1).first()).toBeStreamOf(["1",[1],!0,!1,t]),o.expect(i.model(s.Observable.merge(s.Observable.of({type:"ROLL",payload:1}),s.Observable.of({type:"ROLL",payload:2})),e).last()).toBeStreamOf(["12",[3],!0,!1,t])}),o.test("new game",function(){o.expect(i.model(s.Observable.merge(s.Observable.of({type:"ROLL",payload:1}),s.Observable.of({type:"NEW GAME"})),e).skip(1).first()).toBeStreamOf(["1",[1],!0,!1,t]),o.expect(i.model(s.Observable.merge(s.Observable.of({type:"ROLL",payload:1}),s.Observable.of({type:"NEW GAME"})),e).last()).toBeStreamOf(["",[],!0,!1,t])}),o.test("undo/redo",function(){o.expect(i.model(s.Observable.merge(s.Observable.of({type:"ROLL",payload:1}),s.Observable.of({type:"UNDO"}),s.Observable.of({type:"REDO"})),e).skip(1).first()).toBeStreamOf(["1",[1],!0,!1,t]),o.expect(i.model(s.Observable.merge(s.Observable.of({type:"ROLL",payload:1}),s.Observable.of({type:"UNDO"}),s.Observable.of({type:"REDO"})),e).skip(2).first()).toBeStreamOf(["",[],!1,!0,t]),o.expect(i.model(s.Observable.merge(s.Observable.of({type:"ROLL",payload:1}),s.Observable.of({type:"UNDO"}),s.Observable.of({type:"REDO"})),e).last()).toBeStreamOf(["1",[1],!0,!1,t])})}var i=r(124),o=r(11),s=r(5);e.testBowlingLineModel=n},function(t,e,r){"use strict";function n(){function t(t,e){return function(){var r=i.mbl2str$(t);i.expect(o.scorer$(r)).toMarble(e)}}i.test("empty",t("-|","-|")),i.test("gutter",t("-0|","-0|")),i.test("open",t("-0-0|","-0|")),i.test("open",t("-0-1|","-1|")),i.test("open",t("-1-1|","-2|")),i.test("two open",t("-0-0-1-1|","-0-2|")),i.test("two open",t("-1-1-2-2|","-2-6|")),i.test("spare",t("-5-5-5|","-15-20|")),i.test("spare",t("-5-5-9|","-19-28|")),i.test("strike",t("-10-1-2|","-13-16|")),i.test("partial spare",t("-5-5|","-|")),i.test("spare game",t("-5-5-5-5-5-5-5-5-5-5-5-5-5-5-5-5-5-5-5-5-5|","-15-30-45-60-75-90-105-120-135-150|"))}var i=r(11),o=r(125);e.scorerTests=n},function(t,e,r){"use strict";function n(){var t=function(t){return s.Observable.empty()},e=function(t){return s.Observable.empty()};i.test("static bowlingLine DOM",function(){o.view(s.Observable.of(["",[],10,!1,!1])).subscribe(function(t){i.expect(t.sel).toBe("div"),i.expect(c(".frames.clearfix",t).length).toBe(1),i.expect(c(".frames .frame",t).length).toBe(10),i.expect(c(".frame.tenth:nth-child(10)",t).length).toBe(1),i.expect(c(".frame div.rollDisplay",t).length).toBe(21),i.expect(c(".frame div.scoreDisplay",t).length).toBe(10),i.expect(c("button.rollButton",t).length).toBe(11),Array(11).fill(0).forEach(function(e,r){return i.expect(c(".rollButton:nth-child("+(r+1)+")",t)[0].text).toEqual(r)}),i.expect(c("span.actions button.newGame",t)[0].text).toBe("New"),
i.expect(c("span.actions button.undo",t)[0].text).toBe("Undo"),i.expect(c("span.actions button.redo",t)[0].text).toBe("Redo"),i.expect(c("span.actions button.delete",t)[0].text).toBe("X")})}),i.test("dynamic bowlingLine DOM",function(){function r(t){return{display:c(".rollDisplay",t).map(function(t){return t.text}).join(""),scores:c(".scoreDisplay",t).map(function(t){return t.text}).filter(function(t){return t}),enabledRolls:c(".rollButton",t).map(function(t){return!!t.data.props.disabled}).lastIndexOf(!1),enabledUndo:c(".undo",t).map(function(t){return!t.data.props.disabled})[0],enabledRedo:c(".redo",t).map(function(t){return!t.data.props.disabled})[0],props:{id:t.key,name:c(".name",t).map(function(t){return t.text})[0]}}}[{display:"",scores:[],enabledRolls:10,enabledUndo:!1,enabledRedo:!1,props:{id:1,name:"Andrew"}},{display:"5/5",scores:[15,20],enabledRolls:5,enabledUndo:!0,enabledRedo:!1,props:{id:2,name:"Andrew"}},{display:"1-2-3-4-5-6-7-8-9-XXX",scores:[1,3,6,10,15,21,28,36,45,75],enabledRolls:-1,enabledUndo:!0,enabledRedo:!0,props:{id:3,name:"Andrew"}}].forEach(function(n){u.BowlingLine({},t,function(){return o.view(s.Observable.combineLatest(s.Observable.of(n.display),s.Observable.of(n.scores),s.Observable.of(n.enabledUndo),s.Observable.of(n.enabledRedo),s.Observable.of(n.props)))},e).DOM.subscribe(function(t){var e=r(t);i.expect(e.display).toBe(n.display),i.expect(e.scores).toEqual(n.scores),i.expect(e.enabledRolls).toBe(n.enabledRolls),i.expect(e.enabledUndo).toBe(n.enabledUndo),i.expect(e.enabledRedo).toBe(n.enabledRedo),i.expect(e.props).toEqual(n.props)},e)})})}var i=r(11),o=r(126),s=r(5),u=r(49),c=r(118)["default"];e.testBowlingLineView=n},function(t,e,r){"use strict";function n(){i.test("no input",function(){var t=o.mockDOMSource(s["default"],{});i.expect(c.intent(t,u.Observable.empty()).isEmpty()).toBeStreamOf(!0)}),i.test("NO ACTION, CR, but having only white space",function(){var t=o.mockDOMSource(s["default"],{"input.name":{keydown:u.Observable.of({keyCode:13,target:{value:"  "}})}});i.expect(c.intent(t,u.Observable.empty()).isEmpty()).toBeStreamOf(!0)}),i.test({type:"ADD ITEM",payload:"Andrew Greenberg"},function(){var t=o.mockDOMSource(s["default"],{"input.name":{keydown:u.Observable.of({keyCode:13,target:{value:"  Andrew Greenberg  "}})}});i.expect(c.intent(t,u.Observable.empty()).last()).toBeStreamOf({type:"ADD ITEM",payload:"Andrew Greenberg"})}),i.test({type:"DELETE ITEM",payload:11},function(){var t=o.mockDOMSource(s["default"],{}),e=u.Observable.of({type:"DELETE",payload:11});i.expect(c.intent(t,e).isEmpty()).toBeStreamOf(!1),i.expect(c.intent(t,e).last()).toBeStreamOf({type:"DELETE ITEM",payload:11})})}var i=r(11),o=r(13),s=r(29),u=r(5),c=r(127);e.intentTests=n},function(t,e,r){"use strict";function n(){var t=function(t,e){return u.div("#"+t,[u.div(".name",e)])},e=function(e,r){return{DOM:o.Observable.of(t(e,r)),Delete:o.Observable.empty()}},r=new o.Subject;i.test("no actions",function(){i.expect(s.model(o.Observable.empty(),e,r).last()).toBeStreamOf([])}),i.test("Add Bowling Line",function(){i.expect(s.model(o.Observable.of({type:"ADD ITEM",payload:"Andrew"}),e,r).last()).toBeStreamOf([t(1,"Andrew")])}),i.test("Add Bowling Line twice",function(){i.expect(s.model(o.Observable.from([{type:"ADD ITEM",payload:"Andrew"},{type:"ADD ITEM",payload:"William"}]),e,r).last()).toBeStreamOf([t(1,"Andrew"),t(2,"William")])}),i.test("Remove a singleton Bowling Line",function(){i.expect(s.model(o.Observable.from([{type:"ADD ITEM",payload:"Andrew"},{type:"DELETE ITEM",payload:1}]),e,r).last()).toBeStreamOf([])}),i.test("Remove first Bowling Line",function(){i.expect(s.model(o.Observable.from([{type:"ADD ITEM",payload:"Andrew"},{type:"ADD ITEM",payload:"William"},{type:"DELETE ITEM",payload:1}]),e,r).last()).toBeStreamOf([t(2,"William")])}),i.test("Remove last Bowling Line",function(){i.expect(s.model(o.Observable.from([{type:"ADD ITEM",payload:"Andrew"},{type:"ADD ITEM",payload:"William"},{type:"DELETE ITEM",payload:2}]),e,r).last()).toBeStreamOf([t(1,"Andrew")])}),i.test("Handle bowlingLine with Delete",function(){function t(t,r){return{DOM:o.Observable.of(u.div()),Delete:o.Observable.of(e)}}var e={type:"DELETE",payload:7},r=new o.Subject;r.subscribe(function(t){return i.expect(t).toEqual(e)}),s.model(o.Observable.from([{type:"ADD ITEM",payload:"Andrew"}]),t,r)})}var i=r(11),o=r(5),s=r(128),u=r(13);e.modelTests=n},function(t,e,r){"use strict";function n(){var t=function(t,e){return u.div(".line",{key:t},[u.div(".name",e)])};i.test("static view",function(){o.view(s.Observable.empty()).subscribe(function(t){i.expect(c(".container",t).length).toBe(1),i.expect(c(".container input.name",t).length).toBe(1)})}),i.test("dynamic view",function(){i.test("no lines",function(){o.view(s.Observable.of([])).subscribe(function(t){return i.expect(c("div.name",t).length).toBe(0)})}),i.test("singleton line",function(){o.view(s.Observable.of([t(1,"Andrew")])).subscribe(function(t){return i.expect(c("div.name",t).map(function(t){return t.text})).toEqual(["Andrew"])})}),i.test("two lines",function(){o.view(s.Observable.of([t(1,"Andrew"),t(2,"William")])).subscribe(function(t){i.expect(c("div.name",t).map(function(t){return t.text})).toEqual(["Andrew","William"])})})})}var i=r(11),o=r(129),s=r(5),u=r(13),c=r(118)["default"];e.viewTests=n},function(t,e,r){(function(e){function r(t,e){function r(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(n("noDeprecation"))return t;var i=!1;return r}function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=r}).call(e,r(27))},function(t,e){"use strict";function r(){}function n(t){for(var e=t.length,r=Array(e),n=0;n<e;++n)r[n]=t[n];return r}function i(t){t._start=function(t){t.next=t._n,t.error=t._e,t.complete=t._c,this.start(t)},t._stop=t.stop}function o(t,e){return function(r){return t(e(r))}}function s(t,e){return function(r){return t(r)&&e(r)}}var u=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c={};e.NO_IL={_n:r,_e:r,_c:r};var a=function(){function t(t){this.type="merge",this.insArr=t,this.out=c,this.ac=0}return t.prototype._start=function(t){this.out=t;var e=this.insArr,r=e.length;this.ac=r;for(var n=0;n<r;n++)e[n]._add(this)},t.prototype._stop=function(){for(var t=this.insArr,e=t.length,r=0;r<e;r++)t[r]._remove(this);this.out=c},t.prototype._n=function(t){var e=this.out;e!==c&&e._n(t)},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){if(--this.ac<=0){var t=this.out;if(t===c)return;t._c()}},t}();e.MergeProducer=a;var l=function(){function t(t,e,r){this.i=t,this.out=e,this.p=r,r.ils.push(this)}return t.prototype._n=function(t){var e=this.p,r=this.out;r&&e.up(t,this.i)&&r._n(e.vals)},t.prototype._e=function(t){var e=this.out;e&&e._e(t)},t.prototype._c=function(){var t=this.p;t.out&&0===--t.Nc&&t.out._c()},t}();e.CombineListener=l;var f=function(){function t(t){this.type="combine",this.insArr=t,this.out=c,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return t.prototype.up=function(t,e){var r=this.vals[e],n=this.Nn?r===c?--this.Nn:this.Nn:0;return this.vals[e]=t,0===n},t.prototype._start=function(t){this.out=t;var e=this.insArr,r=this.Nc=this.Nn=e.length,n=this.vals=new Array(r);if(0===r)t._n([]),t._c();else for(var i=0;i<r;i++)n[i]=c,e[i]._add(new l(i,t,this))},t.prototype._stop=function(){for(var t=this.insArr,e=t.length,r=0;r<e;r++)t[r]._remove(this.ils[r]);this.out=c,this.ils=[],this.vals=[]},t}();e.CombineProducer=f;var h=function(){function t(t){this.type="fromArray",this.a=t}return t.prototype._start=function(t){for(var e=this.a,r=0,n=e.length;r<n;r++)t._n(e[r]);t._c()},t.prototype._stop=function(){},t}();e.FromArrayProducer=h;var p=function(){function t(t){this.type="fromPromise",this.on=!1,this.p=t}return t.prototype._start=function(t){var e=this;this.on=!0,this.p.then(function(r){e.on&&(t._n(r),t._c())},function(e){t._e(e)}).then(null,function(t){setTimeout(function(){throw t})})},t.prototype._stop=function(){this.on=!1},t}();e.FromPromiseProducer=p;var d=function(){function t(t){this.type="periodic",this.period=t,this.intervalID=-1,this.i=0}return t.prototype._start=function(t){function e(){t._n(r.i++)}var r=this;this.intervalID=setInterval(e,this.period)},t.prototype._stop=function(){this.intervalID!==-1&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},t}();e.PeriodicProducer=d;var b=function(){function t(t,e){this.type="debug",this.ins=e,this.out=c,this.s=r,this.l="","string"==typeof t?this.l=t:"function"==typeof t&&(this.s=t)}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=c},t.prototype._n=function(t){var e=this.out;if(e!==c){var n=this.s,i=this.l;if(n!==r)try{n(t)}catch(o){e._e(o)}else i?console.log(i+":",t):console.log(t);e._n(t)}},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==c&&t._c()},t}();e.DebugOperator=b;var v=function(){function t(t,e){this.type="drop",this.ins=e,this.out=c,this.max=t,this.dropped=0}return t.prototype._start=function(t){this.out=t,this.dropped=0,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=c},t.prototype._n=function(t){var e=this.out;e!==c&&this.dropped++>=this.max&&e._n(t)},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==c&&t._c()},t}();e.DropOperator=v;var y=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(t){this.op.end()},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.end()},t}(),m=function(){function t(t,r){this.type="endWhen",this.ins=r,this.out=c,this.o=t,this.oil=e.NO_IL}return t.prototype._start=function(t){this.out=t,this.o._add(this.oil=new y(t,this)),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=c,this.oil=e.NO_IL},t.prototype.end=function(){var t=this.out;t!==c&&t._c()},t.prototype._n=function(t){var e=this.out;e!==c&&e._n(t)},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){this.end()},t}();e.EndWhenOperator=m;var _=function(){function t(t,e){this.type="filter",this.ins=e,this.out=c,this.passes=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=c},t.prototype._n=function(t){var e=this.out;if(e!==c)try{this.passes(t)&&e._n(t)}catch(r){e._e(r)}},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==c&&t._c()},t}();e.FilterOperator=_;var g=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.inner=c,this.op.less()},t}(),w=function(){function t(t){this.type="flatten",this.ins=t,this.out=c,this.open=!0,this.inner=c,this.il=e.NO_IL}return t.prototype._start=function(t){this.out=t,this.open=!0,this.inner=c,this.il=e.NO_IL,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.inner!==c&&this.inner._remove(this.il),this.out=c,this.open=!0,this.inner=c,this.il=e.NO_IL},t.prototype.less=function(){var t=this.out;t!==c&&(this.open||this.inner!==c||t._c())},t.prototype._n=function(t){var r=this.out;if(r!==c){var n=this,i=n.inner,o=n.il;i!==c&&o!==e.NO_IL&&i._remove(o),(this.inner=t)._add(this.il=new g(r,this))}},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){this.open=!1,this.less()},t}();e.FlattenOperator=w;var x=function(){function t(t,e,r){this.type="fold",this.ins=r,this.out=c,this.f=t,this.acc=this.seed=e}return t.prototype._start=function(t){this.out=t,this.acc=this.seed,t._n(this.acc),this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=c,this.acc=this.seed},t.prototype._n=function(t){var e=this.out;if(e!==c)try{e._n(this.acc=this.f(this.acc,t))}catch(r){e._e(r)}},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==c&&t._c()},t}();e.FoldOperator=x;var O=function(){function t(t){this.type="last",this.ins=t,this.out=c,this.has=!1,this.val=c}return t.prototype._start=function(t){this.out=t,this.has=!1,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=c,this.val=c},t.prototype._n=function(t){this.has=!0,this.val=t},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==c&&(this.has?(t._n(this.val),t._c()):t._e("TODO show proper error"))},t}();e.LastOperator=O;var S=function(){function t(t,e){this.out=t,this.op=e}return t.prototype._n=function(t){this.out._n(t)},t.prototype._e=function(t){this.out._e(t)},t.prototype._c=function(){this.op.inner=c,this.op.less()},t}(),E=function(){function t(t){this.type=t.type+"+flatten",this.ins=t.ins,this.out=c,this.mapOp=t,this.inner=c,this.il=e.NO_IL,this.open=!0}return t.prototype._start=function(t){this.out=t,this.inner=c,this.il=e.NO_IL,this.open=!0,this.mapOp.ins._add(this)},t.prototype._stop=function(){this.mapOp.ins._remove(this),this.inner!==c&&this.inner._remove(this.il),this.out=c,this.inner=c,this.il=e.NO_IL},t.prototype.less=function(){if(!this.open&&this.inner===c){var t=this.out;if(t===c)return;t._c()}},t.prototype._n=function(t){var r=this.out;if(r!==c){var n,i=this,o=i.inner,s=i.il;try{n=this.mapOp.project(t)}catch(u){return void r._e(u)}o!==c&&s!==e.NO_IL&&o._remove(s),(this.inner=n)._add(this.il=new S(r,this))}},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){this.open=!1,this.less()},t}();e.MapFlattenOperator=E;var j=function(){function t(t,e){this.type="map",this.ins=e,this.out=c,this.project=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=c},t.prototype._n=function(t){var e=this.out;if(e!==c)try{e._n(this.project(t))}catch(r){e._e(r)}},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==c&&t._c()},t}();e.MapOperator=j;var T=function(t){function e(e,r,n){t.call(this,r,n),this.type="filter+map",this.passes=e}return u(e,t),e.prototype._n=function(e){this.passes(e)&&t.prototype._n.call(this,e)},e}(j);e.FilterMapOperator=T;var A=function(){function t(t){this.type="remember",this.ins=t,this.out=c}return t.prototype._start=function(t){this.out=t,this.ins._add(t)},t.prototype._stop=function(){this.ins._remove(this.out),this.out=c},t}();e.RememberOperator=A;var k=function(){function t(t,e){this.type="replaceError",this.ins=e,this.out=c,this.fn=t}return t.prototype._start=function(t){this.out=t,this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=c},t.prototype._n=function(t){var e=this.out;e!==c&&e._n(t)},t.prototype._e=function(t){var e=this.out;if(e!==c)try{this.ins._remove(this),(this.ins=this.fn(t))._add(this)}catch(r){e._e(r)}},t.prototype._c=function(){var t=this.out;t!==c&&t._c()},t}();e.ReplaceErrorOperator=k;var P=function(){function t(t,e){this.type="startWith",this.ins=t,this.out=c,this.val=e}return t.prototype._start=function(t){this.out=t,this.out._n(this.val),this.ins._add(t)},t.prototype._stop=function(){this.ins._remove(this.out),this.out=c},t}();e.StartWithOperator=P;var I=function(){function t(t,e){this.type="take",this.ins=e,this.out=c,this.max=t,this.taken=0}return t.prototype._start=function(t){this.out=t,this.taken=0,this.max<=0?t._c():this.ins._add(this)},t.prototype._stop=function(){this.ins._remove(this),this.out=c},t.prototype._n=function(t){var e=this.out;e!==c&&(this.taken++<this.max-1?e._n(t):(e._n(t),e._c()))},t.prototype._e=function(t){var e=this.out;e!==c&&e._e(t)},t.prototype._c=function(){var t=this.out;t!==c&&t._c()},t}();e.TakeOperator=I;var C=function(){function t(t){this._prod=t||c,this._ils=[],this._stopID=c,this._target=c,this._err=c}return t.prototype._n=function(t){var e=this._ils,r=e.length;if(1==r)e[0]._n(t);else for(var i=n(e),o=0;o<r;o++)i[o]._n(t)},t.prototype._e=function(t){if(this._err===c){this._err=t;var e=this._ils,r=e.length;if(1==r)e[0]._e(t);else for(var i=n(e),o=0;o<r;o++)i[o]._e(t);this._x()}},t.prototype._c=function(){var t=this._ils,e=t.length;if(1==e)t[0]._c();else for(var r=n(t),i=0;i<e;i++)r[i]._c();this._x()},t.prototype._x=function(){0!==this._ils.length&&(this._prod!==c&&this._prod._stop(),this._err=c,this._ils=[])},t.prototype._stopNow=function(){this._prod._stop(),this._err=c,this._stopID=c},t.prototype._add=function(t){var e=this._target;if(e!==c)return e._add(t);var r=this._ils;if(r.push(t),1===r.length){this._stopID!==c&&(clearTimeout(this._stopID),this._stopID=c);var n=this._prod;n!==c&&n._start(this)}},t.prototype._remove=function(t){var e=this,r=this._target;if(r!==c)return r._remove(t);var n=this._ils,i=n.indexOf(t);i>-1&&(n.splice(i,1),this._prod!==c&&n.length<=0?(this._err=c,this._stopID=setTimeout(function(){return e._stopNow()})):1===n.length&&this._pruneCycles())},t.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},t.prototype._hasNoSinks=function(t,e){if(e.indexOf(t)!==-1)return!0;if(t.out===this)return!0;if(t.out&&t.out!==c)return this._hasNoSinks(t.out,e.concat(t));if(t._ils){for(var r=0,n=t._ils.length;r<n;r++)if(!this._hasNoSinks(t._ils[r],e.concat(t)))return!1;return!0}return!1},t.prototype.ctor=function(){return this instanceof M?M:t},t.prototype.addListener=function(t){if("function"!=typeof t.next||"function"!=typeof t.error||"function"!=typeof t.complete)throw new Error("stream.addListener() requires all three next, error, and complete functions.");t._n=t.next,t._e=t.error,t._c=t.complete,this._add(t)},t.prototype.removeListener=function(t){this._remove(t)},t.create=function(e){if(e){if("function"!=typeof e.start||"function"!=typeof e.stop)throw new Error("producer requires both start and stop functions");i(e)}return new t(e)},t.createWithMemory=function(t){return t&&i(t),new M(t)},t.never=function(){return new t({_start:r,_stop:r})},t.empty=function(){return new t({_start:function(t){t._c()},_stop:r})},t["throw"]=function(e){return new t({_start:function(t){t._e(e)},_stop:r})},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return t.fromArray(e)},t.fromArray=function(e){return new t(new h(e))},t.fromPromise=function(e){return new t(new p(e))},t.periodic=function(e){return new t(new d(e))},t.prototype._map=function(t){var e=this._prod,r=this.ctor();return new r(e instanceof _?new T(e.passes,t,e.ins):e instanceof T?new T(e.passes,o(t,e.project),e.ins):e instanceof j?new j(o(t,e.project),e.ins):new j(t,this))},t.prototype.map=function(t){return this._map(t)},t.prototype.mapTo=function(t){var e=this.map(function(){return t}),r=e._prod;return r.type=r.type.replace("map","mapTo"),e},t.prototype.filter=function(e){var r=this._prod;return new t(r instanceof _?new _(s(r.passes,e),r.ins):new _(e,this))},t.prototype.take=function(t){return new(this.ctor())(new I(t,this))},t.prototype.drop=function(e){return new t(new v(e,this))},t.prototype.last=function(){return new t(new O(this))},t.prototype.startWith=function(t){return new M(new P(this,t))},t.prototype.endWhen=function(t){return new(this.ctor())(new m(t,this))},t.prototype.fold=function(t,e){return new M(new x(t,e,this))},t.prototype.replaceError=function(t){return new(this.ctor())(new k(t,this))},t.prototype.flatten=function(){var e=this._prod;return new t(e instanceof j&&!(e instanceof T)?new E(e):new w(this))},t.prototype.compose=function(t){return t(this)},t.prototype.remember=function(){return new M(new A(this))},t.prototype.debug=function(t){return new(this.ctor())(new b(t,this))},t.prototype.imitate=function(t){if(t instanceof M)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=t;for(var e=this._ils,r=e.length,n=0;n<r;n++)t._add(e[n]);this._ils=[]},t.prototype.shamefullySendNext=function(t){this._n(t)},t.prototype.shamefullySendError=function(t){this._e(t)},t.prototype.shamefullySendComplete=function(){this._c()},t.merge=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return new t(new a(e))},t.combine=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return new t(new f(e))},t}();e.Stream=C;var M=function(t){function e(e){t.call(this,e),this._has=!1}return u(e,t),e.prototype._n=function(e){this._v=e,this._has=!0,t.prototype._n.call(this,e)},e.prototype._add=function(e){this._has&&e._n(this._v),t.prototype._add.call(this,e)},e.prototype._stopNow=function(){this._has=!1,t.prototype._stopNow.call(this)},e.prototype._x=function(){this._has=!1,t.prototype._x.call(this)},e.prototype.map=function(t){return this._map(t)},e.prototype.mapTo=function(e){return t.prototype.mapTo.call(this,e)},e.prototype.take=function(e){return t.prototype.take.call(this,e)},e.prototype.endWhen=function(e){return t.prototype.endWhen.call(this,e)},e.prototype.replaceError=function(e){return t.prototype.replaceError.call(this,e)},e.prototype.remember=function(){return this},e.prototype.debug=function(e){return t.prototype.debug.call(this,e)},e}(C);e.MemoryStream=M,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=C},function(t,e){},function(t,e,r){"use strict";var n=r(11),i=r(133),o=r(13),s=r(131),u=r(73),c=r(134);r(132),n.test("FRP Bowling Kata",function(){n.test("FRP Bowling Kata Application Mainline",c.mainTests),n.test("FRP Bowling Kata BowlingLine Component",i.bowlingLineTests)}),s.run(u.main,{DOM:o.makeDOMDriver("#app")})}]);
//# sourceMappingURL=bundle.js.map